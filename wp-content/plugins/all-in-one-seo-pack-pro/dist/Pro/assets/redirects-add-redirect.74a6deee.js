import{c as y}from"./js/runtime-dom.esm-bundler.36191dca.js";import{l as R}from"./js/index.9d0df22d.js";import{l as w}from"./js/index.9c2681d6.js";import{b as C,j as S,h as k,c as A,l as L}from"./js/index.6205915e.js";/* empty css                */import{C as b}from"./js/Index.c396c06e.js";import{C as E}from"./js/Index.8561d132.js";import"./js/translations.e71e2202.js";import{_ as v}from"./js/_plugin-vue_export-helper.eefbdd86.js";import{i as x}from"./js/isEmpty.4fbe23b1.js";import{_ as c,a as H}from"./js/default-i18n.65d58dd6.js";import{a3 as B,q as P,w as d,b as l,a7 as p,o as m,a as T,t as U,a4 as N,c as V}from"./js/runtime-core.esm-bundler.50cb9e6d.js";import"./js/Button.898cae57.js";import"./js/Input.2db511a5.js";import"./js/Index.92195ca4.js";import"./js/Close.650e0e8f.js";import"./js/Pencil.1f4e936a.js";import"./js/Trash.544ebd43.js";import"./js/Select.ed8403e2.js";import"./js/Caret.19d3d4d0.js";import"./js/Toggle.6b4c4eee.js";import"./js/helpers.7981a424.js";import"./js/constants.41876895.js";import"./js/JsonValues.a0694556.js";import"./js/Url.7104ea0a.js";import"./js/ProBadge.3bfca56c.js";import"./js/External.244a731c.js";import"./js/escapeRegExp.fd722845.js";import"./js/Exclamation.f6d05b84.js";import"./js/Checkbox.257eede7.js";import"./js/Checkmark.6216abdd.js";import"./js/Gear.a13073cd.js";import"./js/Slide.25bc4286.js";import"./js/date.7f7d62d0.js";import"./js/datetime.f197aeae.js";import"./js/DatePicker.28173dc0.js";import"./js/Calendar.28ce0d4e.js";import"./js/pick.50843c4a.js";import"./js/_basePickBy.1bb6b08b.js";import"./js/_getTag.47f014a4.js";import"./js/debounce.25feab40.js";import"./js/toNumber.fe91f4e8.js";import"./js/isEqual.29ed9528.js";import"./js/_baseIsEqual.45a50e56.js";import"./js/Tooltip.e5a30815.js";import"./js/Plus.4fc93c5e.js";const u="all-in-one-seo-pack",D={setup(){return{rootStore:C(),licenseStore:S()}},components:{CoreModal:b,CoreAddRedirection:E},data(){return{urls:[],display:!1,target:null,loading:!1,strings:{modalHeader:c("Add a Redirect",u),redirectAdded:H(c('%2$sYour redirect was added and you may edit it <a href="%1$s" target="_blank">here</a>.%3$s',u),this.rootStore.aioseo.urls.aio.redirects,"<strong>","</strong>")},watchClasses:["aioseo-redirects-slug-changed","aioseo-redirects-trashed-post"]}},computed:{classSelectors(){return"."+this.watchClasses.join(", .")}},methods:{reload(){var t,o;this.display=!1;const e=(o=(t=this.target)==null?void 0:t.parentElement)==null?void 0:o.parentElement;if(e&&(e.classList.contains("components-notice__content")||e.classList.contains("notice"))){e.innerHTML="<p>"+this.strings.redirectAdded+"</p>";return}this.target.outerHTML=this.strings.redirectAdded},loadRedirect(e){this.loading=!0,k.get(A.restUrl("redirects/manual-redirects/"+e)).then(t=>{this.urls=t.body.redirects,this.loading=!1}).catch(t=>console.error("Redirect modal failed to load the redirect data.",t))},preloadRedirect(){const e=document.querySelector(this.classSelectors);if(e){const t=this.getElementRedirectHash(e);if(!t)return;this.loadRedirect(t)}},watchClicks(){document.body.onclick=e=>{var o;if(!((o=e.target)!=null&&o.classList))return;let t=!1;this.watchClasses.forEach(i=>{e.target.classList.contains(i)&&(t=!0)}),t&&(e.preventDefault(),this.target=e.target,this.display=!0,x(this.urls)&&this.loadRedirect(this.getElementRedirectHash(this.target)))}},getElementRedirectHash(e){return new URLSearchParams(e.href).get("aioseo-manual-urls")}},async created(){this.preloadRedirect(),this.watchClicks(),window.aioseoBus.$on("wp-core-notice-created",()=>{this.$nextTick(()=>{this.preloadRedirect()})})}},M={key:0,class:"aioseo-redirects-add-redirect-standalone"},j={class:"bd"};function q(e,t,o,i,r,f){const _=p("core-add-redirection"),g=p("core-modal");return!i.licenseStore.isUnlicensed&&i.rootStore.isPro?(m(),B("div",M,[P(g,{show:r.display,classes:["aioseo-redirects"],onClose:t[0]||(t[0]=a=>r.display=!1),"allow-overflow":""},{headerTitle:d(()=>[T(U(r.strings.modalHeader),1)]),body:d(()=>{var a,n;return[N("div",j,[r.loading?l("",!0):(m(),V(_,{key:0,urls:r.urls,target:(a=r.urls[0])!=null&&a.target?(n=r.urls[0])==null?void 0:n.target:"/",disableSource:!0,onAddedRedirect:f.reload},null,8,["urls","target","onAddedRedirect"]))])]}),_:1},8,["show"])])):l("",!0)}const Y=v(D,[["render",q]]),h=document.createElement("div");h.id="aioseo-redirects-add-redirect-standalone";document.body.appendChild(h);let s=y({...Y,name:"Standalone/Redirects/AddRedirect"});s=R(s);s=w(s);L(s);s.mount("#aioseo-redirects-add-redirect-standalone");
