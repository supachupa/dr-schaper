import{a as M,c as O}from"./js/runtime-dom.esm-bundler.36191dca.js";import{c as R,a as q}from"./js/vue-router.d5648d95.js";import{e as T,l as U}from"./js/index.9d0df22d.js";import{l as H}from"./js/index.9c2681d6.js";import{l as N}from"./js/index.d80c2c2c.js";import{Q as V,q as B,a8 as j,u as P,a5 as z,x as G,p as W,l as Q}from"./js/index.6205915e.js";import{P as F}from"./js/PageBuilderIntegration.12e0d58f.js";import{h as K}from"./js/helpers.dc8ef9a2.js";import{i as Y}from"./js/isEqual.29ed9528.js";import"./js/translations.e71e2202.js";import{a as y,_ as p}from"./js/default-i18n.65d58dd6.js";import{_ as v}from"./js/App.d922a7dc.js";import{_ as J}from"./js/ScoreButton.21fd238a.js";import{S as X}from"./js/LogoGear.f137eced.js";import{o as Z,c as tt,w as et,q as ot,u as m,ae as it,h as rt}from"./js/runtime-core.esm-bundler.50cb9e6d.js";import"./js/Button.898cae57.js";import"./js/_plugin-vue_export-helper.eefbdd86.js";import"./js/Input.2db511a5.js";import"./js/Index.92195ca4.js";import"./js/Close.650e0e8f.js";import"./js/Pencil.1f4e936a.js";import"./js/Trash.544ebd43.js";import"./js/Select.ed8403e2.js";import"./js/Caret.19d3d4d0.js";import"./js/Toggle.6b4c4eee.js";import"./js/helpers.7981a424.js";import"./js/isEmpty.4fbe23b1.js";import"./js/_getTag.47f014a4.js";import"./js/_baseIsEqual.45a50e56.js";/* empty css                */import"./js/ScrollAndHighlight.9d04f4c8.js";import"./js/ScrollTo.81bea8a7.js";import"./js/params.af7ed354.js";import"./js/LicenseKeyBar.f2128965.js";import"./js/preload-helper.5f06849a.js";import"./js/icon.5e141fec.js";import"./js/constants.41876895.js";import"./js/Index.c396c06e.js";import"./js/helpers.c3d026e6.js";import"./js/HtmlTagsEditor.c55a7a12.js";import"./js/tags.53ae5e4e.js";import"./js/Editor.5d5c47c6.js";import"./js/_baseClone.9f29425e.js";import"./js/_arrayEach.6af5abac.js";import"./js/_getAllKeysIn.2e381a54.js";import"./js/Plus.1c775378.js";import"./js/UnfilteredHtml.f77bae3c.js";import"./js/SettingsRow.91d13113.js";import"./js/Row.8a74cb5b.js";import"./js/SettingsSeparator.f6565af1.js";import"./js/Checkbox.257eede7.js";import"./js/Checkmark.6216abdd.js";import"./js/Url.7104ea0a.js";import"./js/CreditCounter.41f8f2eb.js";import"./js/datetime.f197aeae.js";import"./js/Tooltip.e5a30815.js";import"./js/CheckSolid.ee9359d4.js";import"./js/ConnectCta.6d8dbcec.js";import"./js/GoogleSearchConsole.a4ac6aa0.js";import"./js/Index.4875e309.js";import"./js/Textarea.65c49117.js";import"./js/AiContent.b61c4e12.js";import"./js/Simple.ba680c5e.js";import"./js/stripHTMLTags.c78d1f5f.js";import"./js/toNumber.fe91f4e8.js";import"./js/Plus.4fc93c5e.js";import"./js/HighlightToggle.cd602d8b.js";import"./js/Radio.77d8ed70.js";import"./js/Tabs.c595cb5a.js";import"./js/ProBadge.3bfca56c.js";import"./js/Information.2306f29d.js";import"./js/Slide.25bc4286.js";import"./js/debounce.25feab40.js";import"./js/Cta.2f64f374.js";import"./js/popup.92105c51.js";import"./js/Blur.73468424.js";import"./js/MaxCounts.b4988c4d.js";import"./js/Ellipse.aec03449.js";import"./js/Eye.d126cfeb.js";import"./js/TruSeoScore.273ac1a4.js";import"./js/Statistics.dc7c8730.js";import"./js/RadioToggle.35f9b684.js";import"./js/GoogleSearchPreview.3c490476.js";import"./js/ConnectStore.38985ac8.js";import"./js/SetupWizardStore.9eae9488.js";import"./js/license.e878a1e9.js";import"./js/upperFirst.ef347579.js";import"./js/Mobile.9de6b5da.js";import"./js/Settings.7cb6d93c.js";import"./js/TableOfContentsStore.41393bd5.js";import"./js/DatePicker.28173dc0.js";import"./js/Calendar.28ce0d4e.js";import"./js/pick.50843c4a.js";import"./js/_basePickBy.1bb6b08b.js";import"./js/Graph.f0fe20bf.js";import"./js/numbers.cdba2587.js";import"./js/vue3-apexcharts.7758436c.js";import"./js/UserAvatar.e423a306.js";import"./js/Profile.19b0fcf9.js";import"./js/WpTable.f468475f.js";import"./js/Table.1b1f3bb9.js";import"./js/Download.dffd952f.js";import"./js/Cta.d280012a.js";import"./js/RequiredPlans.8fb43f75.js";import"./js/addons.e4da3407.js";import"./js/Index.83e64673.js";import"./js/External.c2eafbf8.js";import"./js/PostTypes.4e006733.js";import"./js/Suggestion.624cc0ce.js";import"./js/Affiliate.423cd7e1.js";import"./js/Image.e8cff52f.js";import"./js/Upsell.fe2f1a32.js";import"./js/FacebookPreview.72b3c8f2.js";import"./js/Img.36c2b884.js";import"./js/ImageUploader.dff7a149.js";import"./js/TwitterPreview.1abf1a96.js";import"./js/Book.e78c9ce0.js";import"./js/Build.e06bd5d7.js";import"./js/Index.8561d132.js";import"./js/JsonValues.a0694556.js";import"./js/External.244a731c.js";import"./js/escapeRegExp.fd722845.js";import"./js/Exclamation.f6d05b84.js";import"./js/Gear.a13073cd.js";import"./js/date.7f7d62d0.js";import"./js/UpsellRedirects.aed2b243.js";import"./js/Card.1db76325.js";import"./js/Repeater.efaa0304.js";class nt extends window.$e.modules.hookUI.Base{constructor(e,i,o){super(),this.hook=e,this.id=i,this.callback=o}getCommand(){return this.hook}getId(){return this.id}apply(){return this.callback()}}class st extends window.$e.modules.hookData.Base{constructor(e,i,o){super(),this.hook=e,this.id=i,this.callback=o}getCommand(){return this.hook}getId(){return this.id}apply(){return this.callback()}}function l(t,e,i){window.$e.hooks.registerUIAfter(new nt(t,e,i))}function at(t,e,i){window.$e.hooks.registerDataAfter(new st(t,e,i))}let _={},k=!1;const S=()=>{const t=window.elementor.documents.getCurrent();if(!["wp-post","wp-page"].includes(t.config.type))return;const e={..._},i=V();Y(e,i)||(_=i,B())},mt=()=>{window.$e.internal("document/save/set-is-modified",{status:!0})},pt=()=>{k||(k=!0,l("editor/documents/attach-preview","aioseo-content-scraper-attach-preview",S),l("document/save/set-is-modified","aioseo-content-scraper-on-modified",S),at("document/save/save","aioseo-save",()=>{K("elementor")}),T.on("postSettingsUpdated",mt))},ct=({elementor:t,elementorModules:e})=>{if(t.config.user.introduction["aioseo-introduction"]===!0)return;const i=new e.editor.utils.Introduction({introductionKey:"aioseo-introduction",dialogType:"alert",dialogOptions:{id:"aioseo-introduction",headerMessage:y(p("New: %1$s %2$s integration","all-in-one-seo-pack"),"AIOSEO","Elementor"),message:y(p("You can now manage your SEO settings inside of %1$s via %2$s before you publish your post!","all-in-one-seo-pack"),"Elementor","All in One SEO"),position:{my:"center center",at:"center center"},strings:{confirm:p("Got It!","all-in-one-seo-pack")},hide:{onButtonClick:!1},onConfirm:()=>{i.setViewed(),i.getDialog().hide()}}});i.show()},s={icon:"eicon-calendar",name:"aioseo-limit-modified-date",param:"aioseo_limit_modified_date",title:p("Save (Don't Modify Date)","all-in-one-seo-pack")},E=t=>{const e=document.getElementById(`elementor-panel-footer-sub-menu-item-${s.name}`);e&&(e.classList.remove("elementor-disabled"),t||e.classList.add("elementor-disabled"))},I=()=>{const{elementorCommon:t,$e:e}=window;!t||!e||(t.ajax.requestConstants[s.param]=!0,e.run("document/save/default"))},dt=({elementor:t,elementorCommon:e,$e:i})=>{t.once("preview:loaded",function(){t.getRegion("panel").currentView.footer.currentView.addSubMenuItem("saver-options",{icon:s.icon,name:s.name,title:s.title,callback:o=>{o.currentTarget.classList.contains("elementor-disabled")||I()}})}),t.on("document:loaded",o=>{E(o.container.settings.get("post_status")==="draft")}),i.commandsInternal.on("run:after",(o,r,c)=>{switch(r){case"document/save/set-is-modified":E(c.status);break;case"document/save/save":case"document/save/default":delete e.ajax.requestConstants[s.param];break}}),document.addEventListener("aioseo-limit-modified-date-save",I)},lt={__name:"Button",emits:["click"],setup(t){const{currentPost:e}=j(P());return(i,o)=>(Z(),tt(m(J),{"show-score":m(z)(),score:m(e).seo_score,class:it([""]),onClick:o[0]||(o[0]=M(r=>i.$emit("click"),["prevent"]))},{icon:et(()=>[ot(m(X))]),_:1},8,["show-score","score"]))}};let n=null,A=!1;const ut=()=>{let t=window.elementor.getPreferences("ui_theme")||"auto";t==="auto"&&(t=matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.body.classList.forEach(e=>{e.startsWith("aioseo-elementor-")&&document.body.classList.remove(e)}),document.body.classList.add("aioseo-elementor-"+t)},x=()=>{var e,i,o;const t=(i=(e=window.elementor)==null?void 0:e.documents)==null?void 0:i.getCurrent();return["wp-post","wp-page"].includes((o=t==null?void 0:t.config)==null?void 0:o.type)},u=t=>{var i;const e=t.components.get("panel/elements");e&&!((i=e.tabs)!=null&&i.aioseo)&&e.addTab("aioseo",{title:"AIOSEO"})},D=({$e:t})=>{if(x()){u(t);try{t.routes.run("panel/page-settings/aioseo")}catch{t.routes.run("panel/page-settings/settings"),t.routes.run("panel/page-settings/aioseo")}}},ft=async()=>{await new F({scoreBtn:{component:lt,appName:"Standalone/Elementor/Button",node:{$wrapper:document.querySelector("#elementor-editor-wrapper-v2 .MuiGrid-container:first-child .MuiStack-root:last-child"),tag:"span",attributes:{id:"aioseo-elementor-toolbar-button",style:"cursor: pointer;",role:"button"}}}}).mount(),document.addEventListener("aioseo-pagebuilder-toggle-modal",()=>{D(window)})},gt=({elementor:t,$e:e,Marionette:i})=>{e.routes.on("run:after",function(o,r){ut(),r==="panel/page-settings/aioseo"&&(n==null||n.unmount(),n=C("#elementor-panel-page-settings-controls"))}),t.modules.layouts.panel.pages.menu.Menu.addItem({name:"aioseo",icon:"aioseo aioseo-element-menu-icon aioseo-element-menu-icon-"+t.getPreferences("ui_theme"),title:"All in One SEO",type:"page",callback:()=>{D(window)}},"more"),t.once("preview:loaded",function(){u(e)}),l("editor/documents/attach-preview","aioseo-register-tab-on-document-switch",()=>{x()&&u(e)}),t.hooks.addFilter("panel/elements/regionViews",o=>(o.aioseo={region:o.global.region,view:i.ItemView.extend({template:!1,id:"elementor-panel-aioseo",className:"aioseo-elementor aioseo-sidebar-panel",initialize(){document.getElementById("elementor-panel-elements-search-area").hidden=!0},onShow(){n==null||n.unmount(),n=C("#elementor-panel-aioseo")},onDestroy(){document.getElementById("elementor-panel-elements-search-area").hidden=!1}}),options:{}},o))},C=t=>{const e=document.querySelector(t);e.classList.add("edit-post-sidebar","editor-sidebar","aioseo-elementor-panel"),e.appendChild(document.createElement("div"));const i=R({history:q(),routes:[{path:"/:pathMatch(.*)*",component:v}]});let o=O({name:"Standalone/Elementor",data(){return{tableContext:window.aioseo.currentPost.context,screenContext:"sidebar"}},render:()=>rt(v,{onBeforeMount(){var f,g,w;const r=P(),c=G(),$=W(),d=(w=(g=(f=window.elementor)==null?void 0:f.config)==null?void 0:g.document)==null?void 0:w.id;if(d&&Number(r.currentPost.id)!==Number(d))try{r.fetchPostData({postId:d,integrationSlug:"elementor"}).then(a=>{var h,b;r.updateState(a.body.data.currentPost),c.updateState(((h=a.body.data)==null?void 0:h.redirects)??null),$.updateState(((b=a.body.data)==null?void 0:b.seoRevisions)??null)})}catch(a){console.error(a)}}})});return o=U(o),o=H(o),o=N(o),o.use(i),i.app=o,Q(o,i),pt(),o.mount(`${t} > div`),B(),o},L=()=>{ft(),gt(window),ct(window),dt(window)};window.elementor&&(setTimeout(L),A=!0);(function(t){A||t(window).on("elementor:init",()=>{window.elementor.on("panel:init",()=>{setTimeout(L)})})})(window.jQuery);
