import{t as w,b as j,c as V,H as I,j as W,a as Y}from"./index.6205915e.js";import{u as E}from"./SeoSiteScore.13fd3035.js";import{a as P}from"./utils.8b91fbf4.js";import{C as q}from"./Blur.73468424.js";import{m as K}from"./helpers.7981a424.js";import{i as J}from"./iphone-frame.5f1a5476.js";import{C as Q}from"./DonutChart.72b027fd.js";import{C as X}from"./Index.7d1eb916.js";import{S as Z}from"./Book.e78c9ce0.js";import{S as $}from"./Lab.5125a4e1.js";import"./translations.e71e2202.js";import{_ as ee}from"./_plugin-vue_export-helper.eefbdd86.js";import{a1 as F,a7 as k,o as r,a3 as m,c as b,b as d,a4 as n,t as _,q as O,F as oe,af as se,w as N,a as D,a2 as re,$ as y,j as te,u as s}from"./runtime-core.esm-bundler.50cb9e6d.js";import{_ as x,a as B}from"./default-i18n.65d58dd6.js";const L="all-in-one-seo-pack",ne={setup(g){const{errorObject:c,strings:t}=E({score:F(g.score)});return{analyzerStore:w(),rootStore:j(),composableStrings:t,errorObject:c,links:V,getAssetUrl:K,iphoneFrame:J}},components:{CoreDonutChart:Q,CoreSiteScore:X,SvgBook:Z,SvgDannieLab:$},props:{score:[Number,String],loading:Boolean,description:String,summary:{type:Object,default(){return{}}}},data(){return{strings:I({yourHomepageScore:x("Your Homepage Score:",L),goodResult:B(x("A very good score is between %1$s%3$d and %4$d%2$s.",L),"<strong>","</strong>",50,75),forBestResults:B(x("For best results, you should strive for %1$s%3$d and above%2$s.",L),"<strong>","</strong>",70),readUltimateSeoGuide:x("Read the Ultimate WordPress SEO Guide",L)},this.composableStrings)}},computed:{sortedParts(){var g,c,t,e,o,l,u,p;return P({good:this.summary.good,warnings:((g=this.summary)==null?void 0:g.warnings)||((c=this.summary)==null?void 0:c.recommended),issues:((t=this.summary)==null?void 0:t.issues)||((e=this.summary)==null?void 0:e.critical),total:((o=this.summary)==null?void 0:o.total)||((l=this.summary)==null?void 0:l.good)+((u=this.summary)==null?void 0:u.recommended)+((p=this.summary)==null?void 0:p.critical)})}}},ae={class:"aioseo-seo-analysis"},ie={key:0,class:"seo-analysis-score"},ce={key:1,class:"seo-analysis-description"},le={key:0,class:"seo-analysis-homepage-url"},me=["href"],ue=["innerHTML"],de=["innerHTML"],_e={class:"d-flex"},ge=["href"],pe={key:2,class:"seo-analysis-mobile-snapshot"},he={class:"mobile-snapshot-image"},ye=["src"],Se=["src"],fe={key:3,class:"seo-analysis-error"},ve={class:"error-title"},ke=["innerHTML"],be={class:"error-action-buttons"};function ze(g,c,t,e,o,l){var z,C,A,i,h,R,T,U,H;const u=k("core-site-score"),p=k("core-donut-chart"),S=k("svg-book"),f=k("svg-dannie-lab"),v=k("base-button");return r(),m("div",ae,[e.analyzerStore.analyzeError?d("",!0):(r(),m("div",ie,[t.loading?(r(),b(u,{key:0,loading:!0,score:parseInt(t.score),description:t.description,strokeWidth:1.75},null,8,["score","description"])):(r(),b(p,{key:1,parts:l.sortedParts,total:parseInt(t.score),label:t.description,maxTotal:"100",animatedNumber:!1,"is-label-colored":""},null,8,["parts","total","label"]))])),e.analyzerStore.analyzeError?d("",!0):(r(),m("div",ce,[n("h2",null,_(o.strings.yourHomepageScore),1),(A=(C=(z=e.rootStore)==null?void 0:z.aioseo)==null?void 0:C.urls)!=null&&A.home?(r(),m("span",le,[n("a",{target:"_blank",href:e.rootStore.aioseo.urls.home},_(e.rootStore.aioseo.urls.home),9,me)])):d("",!0),n("div",{innerHTML:o.strings.goodResult},null,8,ue),n("div",{innerHTML:o.strings.forBestResults},null,8,de),n("div",_e,[O(S),n("a",{href:e.links.getDocUrl("ultimateGuide"),target:"_blank"},_(o.strings.readUltimateSeoGuide),9,ge)])])),!e.analyzerStore.analyzeError&&((R=(h=(i=e.analyzerStore.homeResults)==null?void 0:i.results)==null?void 0:h.advanced)!=null&&R.mobileSnapshot)?(r(),m("div",pe,[n("div",he,[n("img",{class:"mobile-snapshot-image__frame",src:e.getAssetUrl(e.iphoneFrame),alt:"Mobile Snapshot iPhone Frame"},null,8,ye),n("img",{class:"mobile-snapshot-image__content",alt:"Mobile Snapshot",src:(H=(U=(T=e.analyzerStore.homeResults)==null?void 0:T.results)==null?void 0:U.advanced)==null?void 0:H.mobileSnapshot},null,8,Se)])])):d("",!0),e.analyzerStore.analyzeError&&e.errorObject?(r(),m("div",fe,[O(f),n("p",ve,_(o.strings.anErrorOccurred),1),n("p",{class:"error-description",innerHTML:e.errorObject.description},null,8,ke),n("div",be,[(r(!0),m(oe,null,se(e.errorObject.buttons,(a,G)=>(r(),b(v,{key:G,type:a.type,tag:a.tag?a.tag:"button",target:"_blank",href:a.url?a.url:"",size:"medium",loading:(a==null?void 0:a.runAgain)&&e.analyzerStore.analyzing,onClick:Le=>a!=null&&a.runAgain?e.analyzerStore.runSiteAnalyzer():""},{default:N(()=>[D(_(a.text),1)]),_:2},1032,["type","tag","href","loading","onClick"]))),128))])])):d("",!0)])}const M=ee(ne,[["render",ze]]),Ce={class:"aioseo-seo-site-score"},Ae={key:1,class:"aioseo-seo-site-score-cta"},xe=["href"],Ge={__name:"Analyze",setup(g){const c=F(0),{description:t,strings:e}=E({score:c}),o=w(),l=W(),u=Y(),p=j();re(()=>{var i;return(i=o.homeResults)==null?void 0:i.score},i=>{c.value=i});const S=y(()=>o.goodCount("homepage")),f=y(()=>o.recommendedCount("homepage")),v=y(()=>o.criticalCount("homepage")),z=y(()=>S.value+f.value+v.value),C=y(()=>({recommended:f.value,critical:v.value,good:S.value})),A=y(()=>P({good:S.value,warnings:f.value,issues:v.value,total:z.value}));return te(()=>{var h;const i=(h=o.homeResults)==null?void 0:h.score;!i&&!l.isUnlicensed&&o.runSiteAnalyzer(),c.value=i}),(i,h)=>(r(),m("div",Ce,[s(l).isUnlicensed&&!s(u).internalOptions.internal.siteAnalysis.connectToken?(r(),b(s(q),{key:0},{default:N(()=>[O(s(M),{score:85,description:s(t)},null,8,["description"])]),_:1})):d("",!0),s(l).isUnlicensed&&!s(u).internalOptions.internal.siteAnalysis.connectToken?(r(),m("div",Ae,[n("a",{href:s(p).aioseo.urls.aio.settings},_(s(e).enterLicenseKey),9,xe),D(" "+_(s(e).toSeeYourSiteScore),1)])):d("",!0),!s(l).isUnlicensed||s(u).internalOptions.internal.siteAnalysis.connectToken?(r(),b(s(M),{key:2,score:c.value,description:s(t),loading:s(o).analyzing,summary:C.value,parts:A.value},null,8,["score","description","loading","summary","parts"])):d("",!0)]))}};export{Ge as _};
