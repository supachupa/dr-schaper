import{a as L}from"./runtime-dom.esm-bundler.36191dca.js";import{R as K,G,a as q,b as X,c as Z}from"./constants.41876895.js";import{x as j,b as J,n as se,A as Q,c as M,ac as re,j as $}from"./index.6205915e.js";import{d as oe,a as le}from"./date.7f7d62d0.js";import{C as ie,u as ne,a as ce,b as ae,S as de}from"./Index.8561d132.js";import{u as ue}from"./WpTable.f468475f.js";import{u as he}from"./Url.7104ea0a.js";import{C as ge}from"./Index.92195ca4.js";import{C as _e}from"./Index.c396c06e.js";import{C as pe}from"./Tooltip.e5a30815.js";import{C as ee}from"./Table.1b1f3bb9.js";import{a as me,S as be}from"./Pencil.1f4e936a.js";import{S as Re}from"./Information.2306f29d.js";import{S as fe}from"./Trash.544ebd43.js";import{S as ye}from"./Close.650e0e8f.js";import"./translations.e71e2202.js";import{_ as W}from"./_plugin-vue_export-helper.eefbdd86.js";import{a1 as Se,a7 as m,o as u,a3 as _,c as C,w as a,a4 as s,t as l,a as p,b as R,q as d,F as N,af as V,ah as Te,ai as ve}from"./runtime-core.esm-bundler.50cb9e6d.js";import{_ as e,a as P}from"./default-i18n.65d58dd6.js";import{l as te}from"./license.e878a1e9.js";import{C as Ue}from"./Blur.73468424.js";import{C as we}from"./Card.1db76325.js";import{C as Ce}from"./Index.4875e309.js";import{_ as ke}from"./Button.898cae57.js";const n="aioseo-pro",De={setup(){const{redirectHasUnPublishedPost:o}=ne(),{decodeUrl:i}=he(),b=j(),c=Se(null),t="aioseo-redirects-wp-table",{orderBy:h,orderDir:T,pageNumber:U,processAdditionalFilters:S,processChangeItemsPerPage:v,processFetchTableData:w,processFilterTable:E,processPagination:x,processSearch:I,processSort:k,refreshTable:F,searchTerm:H,wpTableKey:O,wpTableLoading:Y}=ue({changeItemsPerPageSlug:"redirects",fetchData:b.fetchRedirects,slug:"additionalPages",tableId:t,tableRef:c.value});return{REDIRECTS_CUSTOM_RULES_LABELS:K,dateJsToLocal:oe,dateStringToLocalJs:le,fetchData:b.fetchRedirects,orderBy:h,orderDir:T,pageNumber:U,processAdditionalFilters:S,processChangeItemsPerPage:v,processFetchTableData:w,processFilterTable:E,processPagination:x,processSearch:I,processSort:k,redirectHasUnPublishedPost:o,redirectsStore:b,refreshTable:F,rootStore:J(),searchTerm:H,settingsStore:se(),tableId:t,wpTableKey:O,wpTableLoading:Y,decodeUrl:i}},components:{CoreAddRedirection:ie,CoreAlert:ge,CoreModal:_e,CoreTooltip:pe,CoreWpTable:ee,SvgCircleCheck:me,SvgCircleClose:be,SvgCircleInformation:Re,SvgCircleQuestionMark:fe,SvgClose:ye},props:{showBulkActions:{type:Boolean,default(){return!0}},showTableFooter:{type:Boolean,default(){return!0}},showHeader:{type:Boolean,default(){return!0}},disableSource:{type:Boolean,default(){return!1}},excludeColumns:Array},data(){return{queryUrls:[],deletingRow:!1,showDeleteModal:!1,shouldDeleteRow:null,strings:{searchUrls:e("Search URLs",n),edit:e("Edit",n),checkRedirect:e("Check Redirect",n),delete:e("Delete",n),areYouSureDeleteRedirect:e("Are you sure you want to delete this redirect?",n),areYouSureDeleteRedirects:e("Are you sure you want to delete these redirects?",n),actionCannotBeUndone:e("This action cannot be undone.",n),yesDeleteRedirect:e("Yes, I want to delete this redirect",n),yesDeleteRedirects:e("Yes, I want to delete these redirects",n),noChangedMind:e("No, I changed my mind",n),rules:e("Rules",n),customRules:e("Custom Rules",n),regex:e("Regex",n),redirectTest:e("Check redirect for",n),summary:e("Summary",n),errors:e("Errors",n),responseCode:e("Response Code",n),sourceUrl:e("Source URL",n),targetUrl:e("Target URL",n),xRedirectBy:e("Redirected By",n),customUrl:e("Custom URL",n),testUrl:e("Test Redirect",n),redirectResultOk:e("Woohoo! Your redirect worked perfectly!",n)+" ðŸŽ‰",redirectResultError:e("Whoops! Your URL failed to redirect properly.",n)+" ðŸ¤”",expected:e("Expected",n),result:e("Result",n),regexNeedsUrl:P(e("You are using %1$sRegex%2$s for this redirect so you will need to manually add a URL to test.",n),"<strong>","</strong>"),startDate:e("Start Date",n),endDate:e("End Date",n)},bulkOptions:[{label:e("Enable",n),value:"enable"},{label:e("Disable",n),value:"disable"},{label:e("Reset Hits",n),value:"reset-hits"},{label:e("Delete",n),value:"delete"}],customRuleInfo:null,redirectTestInfo:null,redirectTestResult:null,redirectTestLoading:!1,redirectTestUrl:""}},computed:{areYouSureDeleteRedirect(){return Array.isArray(this.shouldDeleteRow)&&1<this.shouldDeleteRow.length?this.strings.areYouSureDeleteRedirects:this.strings.areYouSureDeleteRedirect},yesDeleteRedirect(){return Array.isArray(this.shouldDeleteRow)&&1<this.shouldDeleteRow.length?this.strings.yesDeleteRedirects:this.strings.yesDeleteRedirect},columns(){const o=[{slug:"source_url",label:e("Source URL",n),sortable:!0,sortDir:this.orderBy==="source_url"?this.orderDir:"asc",sorted:this.orderBy==="source_url"},{slug:"target_url",label:e("Target URL",n),sortable:!0,sortDir:this.orderBy==="target_url"?this.orderDir:"asc",sorted:this.orderBy==="target_url"},{slug:"hits",label:e("Hits",n),width:"97px",sortable:!0,sortDir:this.orderBy==="hits"?this.orderDir:"asc",sorted:this.orderBy==="hits"},{slug:"type",label:e("Type",n),width:"100px",sortable:!0,sortDir:this.orderBy==="type"?this.orderDir:"asc",sorted:this.orderBy==="type"},{slug:"group",label:e("Group",n),width:"150px",sortable:!0,sortDir:this.orderBy==="group"?this.orderDir:"asc",sorted:this.orderBy==="group"},{slug:"enabled",label:G.enabled,width:"85px",sortable:!0,sortDir:this.orderBy==="enabled"?this.orderDir:"asc",sorted:this.orderBy==="enabled"},{slug:"actions",label:"",width:"40px"}];if(this.redirectsStore.options.main.method==="server"){const i=o.findIndex(b=>b.slug==="hits");i!==-1&&o.splice(i,1)}return this.excludeColumns&&this.excludeColumns.length?o.filter(i=>!this.excludeColumns.find(b=>b===i.slug)):o},additionalFilters(){return[{label:e("Filter by Group",n),name:"group",options:[{label:e("All Groups",n),value:"all"}].concat(q)}]},getRows(){return this.redirectsStore.rows.map(o=>(o.source_url=this.decodeUrl(o.source_url),o.target_url=this.decodeUrl(o.target_url)||"-",o))}},methods:{doProcessPagination(o){this.processPagination(o),this.wpTableKey+=1},writeLabel(o,i){if(i==="role"){const b=this.rootStore.aioseo.user.roles;if(b[o])return b[o]}return K[o]||o},toggleInput(o,i){this.wpTableLoading=!0,this.redirectsStore.bulk({action:i?"disable":"enable",rowIds:[o.id]}).then(()=>this.processFetchTableData()).then(()=>this.wpTableLoading=!1).then(()=>window.aioseoBus.$emit("redirect-updated"))},processBulkAction({action:o,selectedRows:i}){if(i.length){if(o==="delete"){this.shouldDeleteRow=i,this.showDeleteModal=!0;return}this.wpTableLoading=!0,this.redirectsStore.bulk({action:o,rowIds:i}).then(()=>this.processFetchTableData()).then(()=>this.wpTableLoading=!1).then(()=>window.aioseoBus.$emit("redirect-updated"))}},getColumnLabel(o){return o===0?e("Pass through",n):o},maybeDeleteRow(o){const i=this.redirectsStore.rows.find((b,c)=>c===o);i&&(this.showDeleteModal=!0,this.shouldDeleteRow=[i.id])},processDeleteRow(){return this.deletingRow=!0,this.redirectsStore.bulk({action:"delete",rowIds:this.shouldDeleteRow}).then(()=>{var o,i;this.deletingRow=!1,this.showDeleteModal=!1,this.shouldDeleteRow=null,this.refreshTable(),(i=(o=this.$refs)==null?void 0:o.table)==null||i.editRow(null)}).then(()=>window.aioseoBus.$emit("redirect-updated"))},isObject(o){return typeof o=="object"},showRedirectTest(o){this.redirectTestResult=null,this.redirectTestUrl=o.regex?"":this.decodeUrl(o.source_url),o.regex||this.redirectTest(o.id),this.redirectTestInfo=o},redirectTest(o){this.redirectTestLoading=!0,this.redirectTestResult=null,this.redirectsStore.test({id:o,payload:{sourceUrl:this.redirectTestUrl}}).then(i=>{this.redirectTestLoading=!1,this.redirectTestResult=i.body}).catch(()=>{this.redirectTestLoading=!1})},customUrlDescription(o){const i=Q(o.source_url.replace(this.rootStore.aioseo.urls.home,""));return P(e("You can test redirects with a URL that includes your domain name ( %1$s ) or just the path ( %2$s )",n),this.rootStore.aioseo.urls.home+i,i)},addedRedirectRefresh(){this.orderBy=null,this.orderDir="asc",this.refreshTable()},inputEventDecodeUrl(o){this.redirectTestUrl="",this.redirectTestUrl=this.decodeUrl(o)},sanitizeString:Q},mounted(){window.aioseoBus.$on("added-redirect",this.addedRedirectRefresh),this.redirectsStore.lateRefresh.redirects&&(this.refreshTable(),this.redirectsStore.setLateRefresh({value:!1,type:"redirects"}))},beforeUnmount(){window.aioseoBus.$off("added-redirect",this.addedRedirectRefresh)}},Le={class:"aioseo-redirects-table"},xe=["onClick"],Ie={class:"row-actions"},Ae={class:"edit"},Be=["onClick"],Me={key:0,class:"test"},Pe=["onClick"],Ee={class:"trash"},Fe=["onClick"],He={key:0},Oe={class:"aioseo-modal-body"},Ye=["innerHTML"],ze={class:"aioseo-modal-body"},Ne={class:"custom-rules-table"},Ve={class:"left-column"},Ge={key:0,class:"regex"},qe={key:0,class:"right-column"},je={key:0,class:"column-schedule"},Je={key:0},We={key:1},Ke={key:1},Qe={key:1,class:"right-column"},Xe={key:2,class:"right-column"},Ze={class:"only-one-child"},$e={class:"title"},et={class:"source"},tt={class:"aioseo-modal-body"},st={class:"custom-url"},rt=["innerHTML"],ot={class:"label"},lt={class:"custom-url-input"},it={key:0,class:"redirect-results"},nt={class:"result"},ct={class:"summary"},at={class:"label"},dt={"aria-label":"Redirect Check Results",class:"redirects-options-table small"},ut=s("td",null,null,-1),ht={class:"even"},gt={key:0},_t={key:1,class:"even"},pt=s("td",null,"AIOSEO",-1),mt={key:0,class:"errors"},bt={class:"label"},Rt=["innerHTML"];function ft(o,i,b,c,t,h){const T=m("base-toggle"),U=m("core-add-redirection"),S=m("svg-circle-information"),v=m("core-tooltip"),w=m("core-wp-table"),E=m("svg-close"),x=m("base-button"),I=m("core-modal"),k=m("core-alert"),F=m("svg-circle-question-mark"),H=m("base-input"),O=m("svg-circle-check"),Y=m("svg-circle-close");return u(),_("div",Le,[(u(),C(w,{ref:"table",id:c.tableId,"additional-filters":h.additionalFilters,"bulk-options":t.bulkOptions,columns:h.columns,filters:c.redirectsStore.filters,"initial-items-per-page":c.settingsStore.settings.tablePagination.redirects,"initial-page-number":c.pageNumber,"initial-search-term":c.searchTerm,key:c.wpTableKey,loading:c.wpTableLoading,rows:h.getRows,"search-label":t.strings.searchUrls,"selected-filters":c.redirectsStore.selectedFilters,"show-bulk-actions":b.showBulkActions,"show-header":b.showHeader,"show-table-footer":b.showTableFooter,totals:c.redirectsStore.totals.main,"show-items-per-page":"",onFilterTable:c.processFilterTable,onPaginate:h.doProcessPagination,onProcessAdditionalFilters:c.processAdditionalFilters,onProcessBulkAction:h.processBulkAction,onProcessChangeItemsPerPage:c.processChangeItemsPerPage,onSearch:c.processSearch,onSortColumn:c.processSort},{source_url:a(({row:r,index:y,column:D,editRow:B})=>[s("strong",null,[s("a",{class:"edit-link",href:"#",onClick:L(z=>B(y),["prevent"])},l(D),9,xe)]),s("div",Ie,[s("span",Ae,[s("a",{href:"#",onClick:L(z=>B(y),["prevent"])},l(t.strings.edit),9,Be),p(" | ")]),r.enabled&&!c.redirectHasUnPublishedPost(r)?(u(),_("span",Me,[s("a",{href:"#",onClick:L(z=>h.showRedirectTest(r),["prevent"])},l(t.strings.checkRedirect),9,Pe),p(" | ")])):R("",!0),s("span",Ee,[s("a",{class:"submitdelete",href:"#",onClick:L(z=>h.maybeDeleteRow(y),["prevent"])},l(t.strings.delete),9,Fe)])])]),target_url:a(({row:r})=>[p(l(400<=r.type?"-":r.target_url),1)]),type:a(({column:r})=>[p(l(h.getColumnLabel(r)),1)]),group:a(({row:r})=>[p(l(r.groupName),1)]),enabled:a(({column:r,row:y})=>[d(T,{modelValue:r,"onUpdate:modelValue":D=>h.toggleInput(y,r)},null,8,["modelValue","onUpdate:modelValue"])]),"edit-row":a(({row:r,editRow:y})=>[d(U,{edit:"",onCancel:D=>y(null),onAddedRedirect:D=>y(null),url:{id:r.id,url:r.source_url,regex:r.regex,ignoreSlash:r.ignore_slash,ignoreCase:r.ignore_case,showOptions:!0,errors:[],warnings:[]},target:r.target_url,type:r.type,query:r.query_param,rules:r.custom_rules,disableSource:b.disableSource,"post-id":r.post_id,"post-status":r.postStatus},null,8,["onCancel","onAddedRedirect","url","target","type","query","rules","disableSource","post-id","post-status"])]),actions:a(({row:r})=>[r.custom_rules&&0<r.custom_rules.length?(u(),_("span",He,[d(v,{type:"action"},{tooltip:a(()=>[p(l(t.strings.rules),1)]),default:a(()=>[d(S,{class:"log-info",onClick:y=>t.customRuleInfo=r.custom_rules},null,8,["onClick"])]),_:2},1024)])):R("",!0)]),_:1},8,["id","additional-filters","bulk-options","columns","filters","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","search-label","selected-filters","show-bulk-actions","show-header","show-table-footer","totals","onFilterTable","onPaginate","onProcessAdditionalFilters","onProcessBulkAction","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),d(I,{show:t.showDeleteModal,classes:["aioseo-redirects-test-modal","aioseo-redirects","delete-redirect"],"no-header":"",onClose:i[3]||(i[3]=r=>t.showDeleteModal=!1)},{body:a(()=>[s("div",Oe,[s("button",{class:"close",onClick:i[1]||(i[1]=L(r=>t.showDeleteModal=!1,["stop"]))},[d(E,{onClick:i[0]||(i[0]=r=>t.showDeleteModal=!1)})]),s("h3",null,l(h.areYouSureDeleteRedirect),1),s("div",{class:"reset-description",innerHTML:t.strings.actionCannotBeUndone},null,8,Ye),d(x,{type:"blue",size:"medium",onClick:h.processDeleteRow,loading:t.deletingRow},{default:a(()=>[p(l(h.yesDeleteRedirect),1)]),_:1},8,["onClick","loading"]),d(x,{type:"gray",size:"medium",onClick:i[2]||(i[2]=r=>t.showDeleteModal=!1)},{default:a(()=>[p(l(t.strings.noChangedMind),1)]),_:1})])]),_:1},8,["show"]),d(I,{show:t.customRuleInfo,classes:["aioseo-redirects","custom-rule-info"],onClose:i[4]||(i[4]=r=>t.customRuleInfo=null)},{headerTitle:a(()=>[p(l(t.strings.customRules),1)]),body:a(()=>[s("div",ze,[s("table",Ne,[(u(!0),_(N,null,V(t.customRuleInfo,(r,y)=>(u(),_("tr",{key:y},[s("td",Ve,[p(l(c.REDIRECTS_CUSTOM_RULES_LABELS[r.type])+" ",1),r.regex?(u(),_("div",Ge,[d(T,{modelValue:r.regex,disabled:!0},{default:a(()=>[p(l(t.strings.regex),1)]),_:2},1032,["modelValue"])])):R("",!0)]),typeof r.value!="object"&&!r.key?(u(),_("td",qe,[r.type==="schedule"?(u(),_("span",je,[r.scheduleStart?(u(),_("p",Je,[s("strong",null,l(t.strings.startDate)+":",1),p(" "+l(c.dateJsToLocal(c.dateStringToLocalJs(r.scheduleStart),"MMMM d, yyyy h:mm a")),1)])):R("",!0),r.scheduleEnd?(u(),_("p",We,[s("strong",null,l(t.strings.endDate)+":",1),p(" "+l(c.dateJsToLocal(c.dateStringToLocalJs(r.scheduleEnd),"MMMM d, yyyy h:mm a")),1)])):R("",!0)])):R("",!0),r.value?(u(),_("span",Ke,l(c.REDIRECTS_CUSTOM_RULES_LABELS[r.value]||r.value),1)):R("",!0)])):R("",!0),h.isObject(r.value)?(u(),_("td",Qe,[s("ul",null,[(u(!0),_(N,null,V(r.value,(D,B)=>(u(),_("li",{key:B},l(h.writeLabel(D,r.type)),1))),128))])])):R("",!0),r.key?(u(),_("td",Xe,[s("ul",Ze,[s("li",null,[s("strong",null,l(r.key)+":",1),p(" "+l(r.value),1)])])])):R("",!0)]))),128))])])]),_:1},8,["show"]),d(I,{show:!!t.redirectTestInfo,classes:["aioseo-redirects-test-modal","aioseo-redirects","redirect-test"],onClose:i[8]||(i[8]=r=>t.redirectTestInfo=null),"allow-overflow":""},{headerTitle:a(()=>[s("div",$e,l(t.strings.redirectTest)+":",1),d(v,null,{tooltip:a(()=>[s("div",null,l(h.sanitizeString(c.decodeUrl(t.redirectTestInfo.source_url))),1)]),default:a(()=>[s("div",et,l(h.sanitizeString(c.decodeUrl(t.redirectTestInfo.source_url))),1)]),_:1})]),body:a(()=>[s("div",tt,[s("div",st,[t.redirectTestInfo.regex?(u(),C(k,{key:0,type:"blue",size:"medium",class:"alert-regex"},{default:a(()=>[d(S),s("span",{innerHTML:t.strings.regexNeedsUrl},null,8,rt)]),_:1})):R("",!0),s("div",ot,[p(l(c.decodeUrl(t.strings.customUrl))+" ",1),d(v,{placement:"right"},{tooltip:a(()=>[p(l(h.customUrlDescription(t.redirectTestInfo)),1)]),default:a(()=>[d(F)]),_:1})]),s("div",lt,[d(H,{size:"medium",modelValue:t.redirectTestUrl,"onUpdate:modelValue":i[5]||(i[5]=r=>t.redirectTestUrl=r),onInput:i[6]||(i[6]=r=>h.inputEventDecodeUrl(r.target.value)),disabled:t.redirectTestLoading},null,8,["modelValue","disabled"]),d(x,{type:"green",size:"medium",loading:t.redirectTestLoading,onClick:i[7]||(i[7]=L(r=>h.redirectTest(t.redirectTestInfo.id),["prevent"]))},{default:a(()=>[p(l(t.strings.testUrl),1)]),_:1},8,["loading"])])]),t.redirectTestResult?(u(),_("div",it,[s("div",nt,[t.redirectTestResult.errors.length===0?(u(),C(k,{key:0,type:"green",size:"medium"},{default:a(()=>[d(O),p(" "+l(t.strings.redirectResultOk),1)]),_:1})):R("",!0),0<t.redirectTestResult.errors.length?(u(),C(k,{key:1,type:"red",size:"medium"},{default:a(()=>[d(Y),p(" "+l(t.strings.redirectResultError),1)]),_:1})):R("",!0)]),s("div",ct,[s("div",at,l(t.strings.summary),1),s("table",dt,[s("thead",null,[s("tr",null,[ut,s("td",null,l(t.strings.expected),1),s("td",null,l(t.strings.result),1)])]),s("tbody",null,[s("tr",ht,[s("td",null,l(t.strings.responseCode)+":",1),s("td",null,l(t.redirectTestInfo.type===0?200:t.redirectTestInfo.type),1),s("td",null,l(t.redirectTestResult.redirect.responseCode),1)]),t.redirectTestResult.redirect.location?(u(),_("tr",gt,[s("td",null,l(t.strings.targetUrl)+":",1),s("td",null,l(c.decodeUrl(t.redirectTestResult.redirect.targetUrl)),1),s("td",null,l(t.redirectTestResult.redirect.location),1)])):R("",!0),t.redirectTestResult.redirect.xRedirectBy?(u(),_("tr",_t,[s("td",null,l(t.strings.xRedirectBy)+":",1),pt,s("td",null,l(t.redirectTestResult.redirect.xRedirectBy),1)])):R("",!0)])])]),0<t.redirectTestResult.errors.length?(u(),_("div",mt,[s("div",bt,l(t.strings.errors),1),d(k,{type:"red",size:"medium"},{default:a(()=>[s("ul",null,[(u(!0),_(N,null,V(t.redirectTestResult.errors,(r,y)=>(u(),_("li",{key:y},[s("span",{innerHTML:r},null,8,Rt)]))),128))])]),_:1})])):R("",!0)])):R("",!0)])]),_:1},8,["show"])])}const Rs=W(De,[["render",ft]]),f="all-in-one-seo-pack",yt={setup(){return{license:te,links:M,softSanitizeHtml:re,redirectsStore:j(),rootStore:J(),licenseStore:$()}},components:{BaseButton:ke,CoreAddRedirectionUrl:ce,CoreAddRedirectionTargetUrl:ae,SvgRightArrow:de},data(){return{strings:{sourceUrl:e("Source URL",f),sourceUrlDescription:P(e("Enter a relative URL to redirect from or start by typing in page or post title, slug or ID. You can also use regex (%1$s)",f),M.getDocLink(e("what's this?",f),"redirectManagerRegex")),targetUrl:e("Target URL",f),targetUrlDescription:e("Enter a URL or start by typing a page or post title, slug or ID.",f),addUrl:e("Add URL",f),addRedirect:e("Add Redirect",f),advancedSettings:e("Advanced Settings",f)},REDIRECT_TYPES:X,REDIRECT_QUERY_PARAMS:Z}},computed:{sourceUrl(){return{id:null,url:null,regex:!1,ignoreSlash:!1,ignoreCase:!1,errors:[],warnings:[],showOptions:!0}},columns(){return[{slug:"source_url",label:e("Source URL",f)},{slug:"target_url",label:e("Target URL",f)},{slug:"hits",label:e("Hits",f),width:"97px"},{slug:"type",label:e("Type",f),width:"100px"},{slug:"group",label:e("Group",f),width:"150px"},{slug:"enabled",label:G.enabled,width:"80px"}]},additionalFilters(){return[{label:e("Filter by Group",f),name:"group",options:[{label:e("All Groups",f),value:"all"}].concat(q)}]}}},A=o=>(Te("data-v-b61b6c5c"),o=o(),ve(),o),St={class:"aioseo-add-redirection"},Tt={class:"urls"},vt={class:"source"},Ut={class:"aioseo-settings-row no-border no-margin small-padding"},wt={class:"settings-name"},Ct={class:"name small-margin"},kt={class:"url-arrow"},Dt={class:"target"},Lt={class:"aioseo-settings-row no-border no-margin small-padding"},xt={class:"settings-name"},It={class:"name small-margin"},At={class:"url"},Bt={class:"aioseo-description"},Mt=A(()=>s("div",{class:"break"},null,-1)),Pt={class:"source"},Et=["innerHTML"],Ft=A(()=>s("div",{class:"url-arrow"},null,-1)),Ht=A(()=>s("div",{class:"target"},null,-1)),Ot=A(()=>s("hr",{class:"aioseo-add-redirection__separator"},null,-1)),Yt={class:"aioseo-add-redirection__settings"},zt=A(()=>s("hr",{class:"aioseo-add-redirection__separator"},null,-1)),Nt={class:"aioseo-add-redirection__actions"};function Vt(o,i,b,c,t,h){const T=m("core-add-redirection-url"),U=m("base-button"),S=m("svg-right-arrow"),v=m("core-add-redirection-target-url"),w=m("base-toggle");return u(),_("div",St,[s("div",Tt,[s("div",vt,[s("div",Ut,[s("div",wt,[s("div",Ct,l(t.strings.sourceUrl),1)]),d(T,{url:h.sourceUrl,"allow-delete":!1,onRemoveUrl:()=>{},"disable-search":!0},null,8,["url"]),d(U,{size:"small",type:"gray",onClick:()=>{}},{default:a(()=>[p(l(t.strings.addUrl),1)]),_:1})])]),s("div",kt,[d(S)]),s("div",Dt,[s("div",Lt,[s("div",xt,[s("div",It,l(t.strings.targetUrl),1)]),s("div",At,[d(v,{url:"",errors:[],warnings:[],"onUpdate:modelValue":()=>{},"disable-search":!0}),s("div",Bt,l(t.strings.targetUrlDescription),1)])])]),Mt,s("div",Pt,[s("div",{class:"aioseo-description source-description",innerHTML:c.softSanitizeHtml(t.strings.sourceUrlDescription)},null,8,Et)]),Ft,Ht]),Ot,s("div",Yt,[d(w,{modelValue:!1}),s("span",null,l(t.strings.advancedSettings),1)]),zt,s("div",Nt,[d(U,{size:"medium",type:"blue",onClick:()=>{},disabled:!0},{default:a(()=>[p(l(t.strings.addRedirect),1)]),_:1})])])}const Gt=W(yt,[["render",Vt],["__scopeId","data-v-b61b6c5c"]]),g="all-in-one-seo-pack",qt={setup(){return{license:te,links:M,redirectsStore:j(),rootStore:J(),licenseStore:$()}},components:{CoreBlur:Ue,CoreCard:we,CoreWpTable:ee,Cta:Ce,UpsellAddRedirection:Gt},props:{noCoreCard:Boolean},data(){return{strings:{addNewRedirection:e("Add New Redirect",g),ctaButtonText:e("Unlock Redirects",g),ctaHeader:e("Redirects is a PRO Feature",g),serverRedirects:e("Fast Server Redirects",g),automaticRedirects:e("Automatic Redirects",g),redirectMonitoring:e("Redirect Monitoring",g),monitoring404:e("404 Monitoring",g),fullSiteRedirects:e("Full Site Redirects",g),siteAliases:e("Site Aliases",g),redirectsDescription:e("Our Redirection Manager lets you easily create and manage redirects for broken links to avoid confusing search engines and users and prevents losing backlinks.",g),sourceUrl:e("Source URL",g),sourceUrlDescription:P(e("Enter a relative URL to redirect from or start by typing in page or post title, slug or ID. You can also use regex (%1$s)",g),M.getDocLink(e("what's this?",g),"redirectManagerRegex")),targetUrl:e("Target URL",g),targetUrlDescription:e("Enter a URL or start by typing a page or post title, slug or ID.",g),addUrl:e("Add URL",g),addRedirect:e("Add Redirect",g),advancedSettings:e("Advanced Settings",g),searchUrls:e("Search URLs",g)},REDIRECT_TYPES:X,REDIRECT_QUERY_PARAMS:Z}},computed:{sourceUrl(){return{id:null,url:null,regex:!1,ignoreSlash:!1,ignoreCase:!1,errors:[],warnings:[],showOptions:!0}},columns(){return[{slug:"source_url",label:e("Source URL",g)},{slug:"target_url",label:e("Target URL",g)},{slug:"hits",label:e("Hits",g),width:"97px"},{slug:"type",label:e("Type",g),width:"100px"},{slug:"group",label:e("Group",g),width:"150px"},{slug:"enabled",label:G.enabled,width:"80px"}]},additionalFilters(){return[{label:e("Filter by Group",g),name:"group",options:[{label:e("All Groups",g),value:"all"}].concat(q)}]}}},jt={class:"aioseo-redirects-blur"};function Jt(o,i,b,c,t,h){const T=m("upsell-add-redirection"),U=m("core-card"),S=m("core-blur"),v=m("core-wp-table"),w=m("cta");return u(),_("div",jt,[b.noCoreCard?R("",!0):(u(),C(S,{key:0},{default:a(()=>[d(U,{slug:"addNewRedirection","header-text":t.strings.addNewRedirection,noSlide:!0},{default:a(()=>[d(T)]),_:1},8,["header-text"])]),_:1})),b.noCoreCard?(u(),C(S,{key:1},{default:a(()=>[d(T)]),_:1})):R("",!0),b.noCoreCard?R("",!0):(u(),C(S,{key:2},{default:a(()=>[d(v,{filters:[],totals:{total:0,pages:0,page:1},columns:h.columns,rows:[],"search-label":t.strings.searchUrls,"additional-filters":h.additionalFilters},null,8,["columns","search-label","additional-filters"])]),_:1})),d(w,{"cta-link":c.links.getPricingUrl("redirects","redirects-upsell",o.parentComponentContext?o.parentComponentContext:null,c.rootStore.isPro?"pricing":"liteUpgrade"),"button-text":t.strings.ctaButtonText,"align-top":"","learn-more-link":c.links.getUpsellUrl("redirects",o.parentComponentContext?o.parentComponentContext:null,c.rootStore.isPro?"pricing":"liteUpgrade"),"feature-list":[t.strings.serverRedirects,t.strings.automaticRedirects,t.strings.redirectMonitoring,t.strings.monitoring404,t.strings.fullSiteRedirects,t.strings.siteAliases],"hide-bonus":!c.licenseStore.isUnlicensed},{"header-text":a(()=>[p(l(t.strings.ctaHeader),1)]),description:a(()=>[p(l(t.strings.redirectsDescription),1)]),_:1},8,["cta-link","button-text","learn-more-link","feature-list","hide-bonus"])])}const fs=W(qt,[["render",Jt]]);export{Rs as R,fs as U};
