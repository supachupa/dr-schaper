import{d as dt,u as pt}from"./vue-router.d5648d95.js";import{j as mt,ap as K,n as gt,c as Dt,b as Mt}from"./index.6205915e.js";import{a as Y}from"./addons.e4da3407.js";import{R as Bt,a as Ot}from"../link-assistant.843d465b.js";import{C as Ft}from"./Index.5b884c4d.js";import{n as ht}from"./numbers.cdba2587.js";import{u as W}from"./WpTable.f468475f.js";import{C as et}from"./Table.1b1f3bb9.js";import{b as kt}from"./date.7f7d62d0.js";import{u as st}from"./PostTypes.4e006733.js";import{D as qt}from"./datetime.f197aeae.js";import{C as ft}from"./Tooltip.e5a30815.js";import{L as nt,a as Nt,_ as bt,b as vt,c as _t,d as wt,e as St,u as yt}from"./Index.83e64673.js";import{_ as Ut}from"./Trash.544ebd43.js";import"./translations.e71e2202.js";import{_ as Z}from"./_plugin-vue_export-helper.eefbdd86.js";import{$ as H,a7 as _,o as b,a3 as V,c as P,w as d,a4 as i,t as m,a as L,q as g,b as R,ae as G,a1 as B,j as ot,n as It,r as it,u as y,a8 as Vt,a5 as Et}from"./runtime-core.esm-bundler.50cb9e6d.js";import{_ as a,a as D}from"./default-i18n.65d58dd6.js";import{S as At}from"./Caret.19d3d4d0.js";import{l as Kt}from"./Input.2db511a5.js";import{S as $}from"./External.c2eafbf8.js";import{a as J}from"./runtime-dom.esm-bundler.36191dca.js";import{C as Pt}from"./Tabs.c595cb5a.js";import{a as at,b as lt,S as rt}from"./Affiliate.423cd7e1.js";import{S as ct}from"./Suggestion.624cc0ce.js";import{S as Tt}from"./Refresh.49ba0458.js";import ut from"./Overview.702ca707.js";import{G as zt}from"./constants.41876895.js";import{u as Yt}from"./JsonValues.a0694556.js";import{B as Ht}from"./Checkbox.257eede7.js";import{B as jt}from"./Textarea.65c49117.js";import{C as Gt}from"./Card.1db76325.js";import{C as Jt}from"./ExcludePosts.40d82d34.js";import{C as Wt}from"./PostStatusOptions.b854de95.js";import{C as Qt}from"./PostTypeOptions.4b62aad5.js";import{C as Xt}from"./SettingsRow.91d13113.js";import"./helpers.7981a424.js";import"./upperFirst.ef347579.js";import"./index.9d0df22d.js";import"./index.9c2681d6.js";import"./Button.898cae57.js";import"./Select.ed8403e2.js";import"./Close.650e0e8f.js";import"./Toggle.6b4c4eee.js";import"./index.d80c2c2c.js";import"./dynamic-import-helper.5ea93cf9.js";import"./preload-helper.5f06849a.js";import"./Index.92195ca4.js";import"./Pencil.1f4e936a.js";import"./license.e878a1e9.js";/* empty css             */import"./params.af7ed354.js";import"./Header.cc570419.js";import"./ScrollAndHighlight.9d04f4c8.js";import"./ScrollTo.81bea8a7.js";import"./LicenseKeyBar.f2128965.js";import"./LogoGear.f137eced.js";import"./AnimatedNumber.1915c79b.js";import"./Logo.3db92090.js";import"./Support.67fe7386.js";import"./Url.7104ea0a.js";import"./Exclamation.f6d05b84.js";import"./Gear.a13073cd.js";import"./Slide.25bc4286.js";import"./Download.dffd952f.js";import"./Index.c396c06e.js";import"./Editor.5d5c47c6.js";import"./tags.53ae5e4e.js";import"./isEqual.29ed9528.js";import"./_baseIsEqual.45a50e56.js";import"./_getTag.47f014a4.js";import"./_baseClone.9f29425e.js";import"./_arrayEach.6af5abac.js";import"./_getAllKeysIn.2e381a54.js";import"./Plus.1c775378.js";import"./Plus.4fc93c5e.js";import"./ProBadge.3bfca56c.js";import"./Information.2306f29d.js";import"./AddonConditions.c0efacdb.js";import"./Index.4875e309.js";import"./Row.8a74cb5b.js";import"./Blur.73468424.js";import"./SeoSiteScore.13fd3035.js";import"./DonutChartWithLegend.b47bcd11.js";import"./DonutChart.72b027fd.js";import"./Loading.80cd60d2.js";import"./Row.c2b7391d.js";import"./RequiredPlans.8fb43f75.js";import"./Checkmark.6216abdd.js";import"./AddPlus.4bf7fe06.js";import"./External.244a731c.js";import"./HighlightToggle.cd602d8b.js";import"./Radio.77d8ed70.js";const Zt=()=>({getExcludedActivationTabs:(s,l)=>{var n;if(!mt().isUnlicensed&&Y.isActive(l)&&!Y.requiresUpgrade(l))return[];const o=[];return(n=s==null?void 0:s.options)!=null&&n.routes&&s.options.routes.forEach(r=>{if(!r.meta||!r.meta.middleware)return;(Array.isArray(r.meta.middleware)?r.meta.middleware:[r.meta.middleware]).some(k=>k===Bt)&&o.push(r.name)}),o}}),$t=()=>({getExcludedUpdateTabs:(s,l)=>{if(!mt().isUnlicensed&&Y.hasMinimumVersion(l)&&!Y.requiresUpgrade(l))return[];const o=[];return s.options.routes.forEach(n=>{if(!n.meta||!n.meta.middleware)return;(Array.isArray(n.meta.middleware)?n.meta.middleware:[n.meta.middleware]).some(w=>w===Ot)&&o.push(n.name)}),o}}),q="aioseo-pro",te={emits:["updated"],setup(t,s){const{editPost:l,viewPost:e}=st(),o=I=>(C.setDomainsReportInnerPaginatedPage({domain:t.domain,page:w}),C.fetchDomainsReportInner({...I,additionalFilters:{domainIndex:t.activeDomain,domain:t.domain}}).then(()=>{u.value++,s.emit("updated")})),n="aioseo-domains-report-inner-",r=H(()=>n+qt.now().toFormat("x")),{pageNumber:w,processPagination:k,refreshTable:v,resultsPerPage:S,searchTerm:f,wpTableKey:u,wpTableLoading:T}=W({changeItemsPerPageSlug:"aioseo-domains-report-inner",fetchData:o,resultsPerPage:5,tableId:r}),C=K();return{dateSqlToLocal:kt,editPost:l,linkAssistantStore:C,pageNumber:w,processPagination:k,refreshTable:v,resultsPerPage:S,searchTerm:f,tableId:r,viewPost:e,wpTableKey:u,wpTableLoading:T}},components:{CoreTooltip:ft,CoreWpTable:et,LinkAssistantConfirmationModal:nt,LinkAssistantEditablePhrase:Nt,SvgTrash:Ut},props:{domain:{type:String,required:!0},rows:{type:Array,required:!0},activeDomain:{type:Number}},data(){return{activePost:-1,showModal:!1,action:"",selectedRows:null,bulkOptions:[{label:a("Delete",q),value:"delete"}],strings:{delete:a("Delete",q)},modalStrings:{areYouSureSingle:a("Are you sure you want to delete these links for this domain?",q),areYouSureMultiple:a("Are you sure you want to delete these links for this domain?",q),areYouSureAll:a("Are you sure you want to delete all links for this domain?",q),actionCannotBeUndone:a("This action cannot be undone.",q),yesSingle:a("Yes, I want to delete these links",q),yesMultiple:a("Yes, I want to delete these links",q),yesAll:a("Yes, I want to delete all links",q),noChangedMind:a("No, I changed my mind",q)}}},computed:{columns(){return[{slug:"post_title",label:a("Post Title",q)},{slug:"phrases",label:a("Phrases with Links",q)},{slug:"publish_date",label:a("Publish Date",q),width:"160px"},{slug:"delete",width:"50px"}]},shouldShowPagination(){var t;return 1<((t=this.rows[0])==null?void 0:t.totals.pages)},initialPageNumber(){if(this.linkAssistantStore.domainsReport.innerPagination===void 0||this.linkAssistantStore.domainsReport.innerPagination[this.domain]===void 0)return 1;const t=this.linkAssistantStore.domainsReport.innerPagination[this.domain];return t||1}},methods:{toggleShowMorePhrases(t){if(this.activePost===t){this.activePost=-1;return}this.activePost=t},deleteLink({postIndex:t,linkIndex:s}){this.wpTableLoading=!0,this.linkAssistantStore.domainsReportInnerLinkDelete({searchTerm:this.searchTerm,rows:this.rows,postIndex:t,linkIndex:s,offset:this.pageNumber===1?0:(this.pageNumber-1)*this.resultsPerPage}).finally(()=>{this.refreshTable().then(()=>{this.$emit("updated"),this.wpTableLoading=!1})})},saveModifiedPhrase(t){if(!this.linkAssistantStore.domainsReport.rows[this.activeDomain])return;const s=Object.keys(this.linkAssistantStore.domainsReport.rows[this.activeDomain])[0];!s||!this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex]||!this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex]||this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex].phrase_html!==t.phraseHtml&&(this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex].phrase=t.phrase,this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex].phrase_html=t.phraseHtml,this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex].anchor=t.anchor,this.wpTableLoading=!0,this.linkAssistantStore.domainsReportInnerLinkUpdate({domain:s,link:this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex]}).then(this.refreshTable).then(()=>{this.wpTableKey++,this.$emit("updated")}).finally(()=>{this.wpTableLoading=!1}))},maybeDoBulkAction({action:t,selectedRows:s}){!t||!s.length||(this.action=t,this.selectedRows=s,this.showModal=!0)},doBulkAction(){if(this.showModal=!1,this.action==="delete")return this.wpTableLoading=!0,this.linkAssistantStore.domainsReportInnerBulk({searchTerm:this.searchTerm,action:this.action,domainIndex:this.activeDomain,linkIndexes:this.selectedRows,offset:this.pageNumber===1?0:(this.pageNumber-1)*this.resultsPerPage}).finally(()=>{this.refreshTable().then(()=>{this.$emit("updated"),this.wpTableLoading=!1})})}},created(){this.pageNumber=this.initialPageNumber}},ee={key:0,class:"domains-report-inner"},se=["href"],ne={class:"row-actions"},oe={class:"view"},ie=["href"],ae={class:"edit"},le=["href"],re={class:"date"};function ce(t,s,l,e,o,n){const r=_("link-assistant-editable-phrase"),w=_("svg-trash"),k=_("core-tooltip"),v=_("core-wp-table"),S=_("link-assistant-confirmation-modal");return l.rows&&l.rows.length?(b(),V("div",ee,[(b(),P(v,{class:"link-assistant-inner-table","bulk-options":o.bulkOptions,columns:n.columns,id:e.tableId,"initial-page-number":e.pageNumber,key:e.wpTableKey,loading:e.wpTableLoading,rows:l.rows,"show-pagination":n.shouldShowPagination,"show-search":!1,"show-table-footer":!1,totals:l.rows[0].totals,onPaginate:e.processPagination,onProcessBulkAction:n.maybeDoBulkAction},{post_title:d(({row:f})=>[i("strong",null,[i("a",{class:"edit-link",href:f.context.permalink,target:"_blank"},m(f.context.postTitle),9,se)]),i("div",ne,[i("span",oe,[i("a",{href:f.context.permalink,target:"_blank"},m(e.viewPost(f.context.postType.singular)),9,ie),L(" | ")]),i("span",ae,[i("a",{href:f.context.editLink,target:"_blank"},m(e.editPost(f.context.postType.singular)),9,le)])])]),phrases:d(({row:f,index:u})=>[g(r,{row:f,rowIndex:u,activeRow:o.activePost,domainsReport:"",onDelete:n.deleteLink,onToggleShowMorePhrases:n.toggleShowMorePhrases,onSaveModifiedPhrase:n.saveModifiedPhrase},null,8,["row","rowIndex","activeRow","onDelete","onToggleShowMorePhrases","onSaveModifiedPhrase"])]),publish_date:d(({row:f})=>[i("span",re,m(e.dateSqlToLocal(f.context.publishDate,"MMMM d, yyyy")),1)]),delete:d(({index:f})=>[g(k,{type:"action"},{tooltip:d(()=>[L(m(o.strings.delete),1)]),default:d(()=>[g(w,{onClick:u=>n.maybeDoBulkAction({action:"delete",selectedRows:[f]})},null,8,["onClick"])]),_:2},1024)]),_:1},8,["bulk-options","columns","id","initial-page-number","loading","rows","show-pagination","totals","onPaginate","onProcessBulkAction"])),g(S,{show:o.showModal,strings:o.modalStrings,selectedRows:o.selectedRows,onDoBulkAction:n.doBulkAction,onCloseModal:s[0]||(s[0]=f=>o.showModal=!1)},null,8,["show","strings","selectedRows","onDoBulkAction"])])):R("",!0)}const ue=Z(te,[["render",ce]]),M="aioseo-pro",de={setup(){const t=K(),s="aioseo-link-assistant-domains-report-wp-table",{pageNumber:l,processChangeItemsPerPage:e,processFetchTableData:o,processPagination:n,processSearch:r,processSort:w,searchTerm:k,wpTableKey:v,wpTableLoading:S}=W({changeItemsPerPageSlug:"linkAssistantDomainsReport",fetchData:t.fetchDomainsReport,tableId:s});return{linkAssistantStore:t,pageNumber:l,processChangeItemsPerPage:e,processFetchTableData:o,processPagination:n,processSearch:r,processSort:w,searchTerm:k,settingsStore:gt(),tableId:s,wpTableKey:v,wpTableLoading:S}},components:{CoreWpTable:et,DomainsReportInner:ue,LinkAssistantConfirmationModal:nt,SvgCaret:At,SvgFile:Kt,SvgLinkExternal:$},data(){return{numbers:ht,innerTableKey:0,activeRow:-1,showModal:!1,selectedRows:null,action:null,bulkOptions:[{label:a("Delete",M),value:"delete"}],strings:{view:a("View",M),deleteAllLinks:a("Delete All Links",M)},modalStrings:{areYouSureSingle:a("Are you sure you want to delete all links for this domain?",M),areYouSureMultiple:a("Are you sure you want to delete all links for these domains?",M),areYouSureAll:a("Are you sure you want to delete all links for all domains?",M),actionCannotBeUndone:a("This action cannot be undone.",M),yesSingle:a("Yes, I want to delete this link",M),yesMultiple:a("Yes, I want to delete these links",M),yesAll:a("Yes, I want to delete all links",M),noChangedMind:a("No, I changed my mind",M)}}},computed:{columns(){return[{slug:"domain",label:a("Domain",M)},{slug:"posts",label:a("Posts",M),width:"90px"},{slug:"links",label:a("Links",M),width:"90px"},{slug:"toggle-button",label:"",width:"60px"}]}},methods:{postCount(t){var l;const s=Object.keys(t)[0];return((l=t[s][0])==null?void 0:l.totals.total)||0},linkCount(t){var l;const s=Object.keys(t)[0];return((l=t[s][0])==null?void 0:l.totals.totalLinks)||0},isRowActive(t){return t===this.activeRow},toggleRow(t){if(this.activeRow===t){this.activeRow=-1;return}this.activeRow=t},maybeDoBulkAction({action:t,selectedRows:s}){s===!1||!t||(this.action=t,this.selectedRows=s,this.showModal=!0)},doBulkAction(){return this.showModal=!1,this.wpTableLoading=!0,this.linkAssistantStore.domainsReportBulk({action:this.action,searchTerm:this.searchTerm,rowIndexes:this.selectedRows}).then(this.processFetchTableData).finally(()=>{this.activeRow=-1,this.wpTableLoading=!1,this.wpTableKey++})},getInnerDomain(t){return Object.keys(t)[0]},getInnerDomainRows(t){return t[this.getInnerDomain(t)]},doProcessPagination(t){this.processPagination(t),this.activeRow=-1},doProcessSearch(t){this.processSearch(t),this.activeRow=-1}},beforeMount(){this.$route.query&&(this.$route.query.hostname&&(this.searchTerm=this.$route.query.hostname,this.processSearch(this.$route.query.hostname)),this.$route.query.fullReport&&(this.searchTerm="",this.processPagination(1)))}},pe={class:"aioseo-link-assistant-domains-report"},me={class:"domain-name"},ge=["onClick"],he=["src"],ke={class:"row-actions"},fe=["href"],be=["onClick"],ve=["onClick"];function _e(t,s,l,e,o,n){const r=_("svg-file"),w=_("svg-link-external"),k=_("svg-caret"),v=_("domains-report-inner"),S=_("core-wp-table"),f=_("link-assistant-confirmation-modal");return b(),V("div",pe,[(b(),P(S,{ref:"table","bulk-options":o.bulkOptions,columns:n.columns,id:e.tableId,"initial-items-per-page":e.settingsStore.settings.tablePagination.linkAssistantDomainsReport,"initial-page-number":e.pageNumber,"initial-search-term":e.searchTerm,key:e.wpTableKey,loading:e.wpTableLoading,rows:e.linkAssistantStore.domainsReport.rows,totals:e.linkAssistantStore.domainsReport.totals,"show-items-per-page":"",onPaginate:n.doProcessPagination,onProcessBulkAction:n.maybeDoBulkAction,onProcessChangeItemsPerPage:e.processChangeItemsPerPage,onSearch:n.doProcessSearch,onSortColumn:e.processSort},{domain:d(({row:u,index:T,editRow:C})=>[i("div",me,[i("a",{href:"#",class:G({active:n.isRowActive(T)}),onClick:J(I=>{C(T),n.toggleRow(T)},["prevent"])},[i("img",{alt:"Domain Favicon",class:"favicon",src:`https://www.google.com/s2/favicons?sz=32&domain=${Object.keys(u)[0]}`},null,8,he),i("span",null,m(Object.keys(u)[0]),1)],10,ge)]),i("div",ke,[i("span",null,[i("a",{class:"view",href:"https://"+Object.keys(u)[0],target:"_blank"},[i("span",null,m(o.strings.view),1)],8,fe),L(" | ")]),i("span",null,[i("a",{class:"delete-all-links",href:"#",onClick:J(I=>n.maybeDoBulkAction({action:"delete",selectedRows:T}),["prevent"])},[i("span",null,m(o.strings.deleteAllLinks),1)],8,be)])])]),posts:d(({row:u})=>[i("div",null,[g(r),i("span",null,m(o.numbers.numberFormat(n.postCount(u))),1)])]),links:d(({row:u})=>[i("div",null,[g(w),i("span",null,m(o.numbers.numberFormat(n.linkCount(u))),1)])]),"toggle-button":d(({index:u,editRow:T})=>[i("button",{class:G(["toggle-row-button",{active:n.isRowActive(u)}]),onClick:C=>{T(u),n.toggleRow(u)}},[g(k)],10,ve)]),"edit-row":d(({row:u})=>[(b(),P(v,{key:o.innerTableKey,domain:n.getInnerDomain(u),rows:n.getInnerDomainRows(u),activeDomain:o.activeRow,onUpdated:s[0]||(s[0]=T=>o.innerTableKey++)},null,8,["domain","rows","activeDomain"]))]),_:1},8,["bulk-options","columns","id","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),g(f,{show:o.showModal,strings:o.modalStrings,selectedRows:o.selectedRows,onDoBulkAction:n.doBulkAction,onCloseModal:s[1]||(s[1]=u=>o.showModal=!1)},null,8,["show","strings","selectedRows","onDoBulkAction"])])}const we=Z(de,[["render",_e]]),Rt=(t={})=>{const{post:s,postIndex:l,processAdditionalFilters:e,requestType:o}=t,n=B(!1),r=H(()=>{let v=K().linksReport.prioritizedPosts;return Array.isArray(v)&&(v=v.map(Number)),v.includes(parseInt(s.ID))});return{doRefresh:()=>{var v;n.value=!0,window.aioseoBus.$emit("updatingLinks",!0),K().linksRefresh({postIndex:(l==null?void 0:l.value)||l,postId:((v=s==null?void 0:s.value)==null?void 0:v.ID)||s.ID,[o]:!0}).finally(()=>{var S;n.value=!1,window.aioseoBus.$emit("updatingLinks",!1),e({filters:{postIndex:(l==null?void 0:l.value)||l,postId:((S=s==null?void 0:s.value)==null?void 0:S.ID)||s.ID}})})},isPrioritizedPost:r,refreshLoading:n}},Se={class:"links-report-inner"},ye={__name:"LinksReportInner",props:{post:{type:Object,required:!0},postIndex:{type:Number,required:!0},postId:{type:Number,required:!0},initialActiveTab:String},setup(t){const s="aioseo-pro",l=K(),e=t,o=B("suggestions-inbound"),n=B("inbound-internal"),r=B(0),w={refresh:a("Refresh",s)},k=H(()=>[{slug:"inbound-internal",icon:at,name:D("%1$s %2$s",l.linksReport.counts[e.postIndex].inboundInternal,a("Inbound Internal",s))},{slug:"outbound-internal",icon:lt,name:D("%1$s %2$s",l.linksReport.counts[e.postIndex].outboundInternal,a("Outbound Internal",s))},{slug:"affiliate",icon:rt,name:D("%1$s %2$s",l.linksReport.counts[e.postIndex].affiliate,a("Affiliate",s))},{slug:"external",icon:$,name:D("%1$s %2$s",l.linksReport.counts[e.postIndex].external,a("External",s))},{slug:"link-suggestions",icon:ct,name:D("%1$s %2$s",l.linksReport.counts[e.postIndex].suggestionsOutbound+l.linksReport.counts[e.postIndex].suggestionsInbound,a("Link Suggestions",s))}]),v=h=>{window.aioseoBus.$emit("updatingLinks",!0);const c={...h,additionalFilters:{postId:e.post.ID,postIndex:e.postIndex}};return l.fetchLinksReportInner(c).finally(()=>{window.aioseoBus.$emit("updatingLinks",!1)})},{refreshTable:S,processAdditionalFilters:f}=W({fetchData:v}),u=(h,c)=>{n.value=h,c&&(o.value=c)},{doRefresh:T,isPrioritizedPost:C,refreshLoading:I}=Rt({post:e.post,postIndex:e.postIndex,refreshTable:S,requestType:"linksReport",processAdditionalFilters:f}),{filteredSuggestionsOutbound:p}=yt();return ot(()=>{e.initialActiveTab&&It(()=>{u(e.initialActiveTab)})}),(h,c)=>{const O=_("base-button");return b(),V("div",Se,[(b(),P(y(Pt),{class:"link-tabs",internal:"",key:r.value,tabs:k.value,active:n.value,onChanged:c[0]||(c[0]=A=>u(A))},{"var-tab-icon":d(({tab:A})=>[(b(),P(it(A.icon),{class:G([{warning:A.warning}])},null,8,["class"]))]),button:d(()=>[g(O,{class:"button-refresh",type:"gray",size:"medium",loading:y(I),disabled:y(C),onClick:y(T)},{default:d(()=>[g(y(Tt)),L(" "+m(w.refresh),1)]),_:1},8,["loading","disabled","onClick"])]),_:1},8,["tabs","active"])),n.value==="outbound-internal"?(b(),P(y(bt),{key:0,post:t.post,postIndex:t.postIndex,postId:t.postId,linksReport:"",onOpenSuggestions:c[1]||(c[1]=A=>u("link-suggestions","suggestions-outbound")),onLinksUpdated:c[2]||(c[2]=A=>r.value++)},null,8,["post","postIndex","postId"])):R("",!0),n.value==="inbound-internal"?(b(),P(y(vt),{key:1,post:t.post,postIndex:t.postIndex,postId:t.postId,linksReport:"",onOpenSuggestions:c[3]||(c[3]=A=>u("link-suggestions","suggestions-inbound")),onLinksUpdated:c[4]||(c[4]=A=>r.value++)},null,8,["post","postIndex","postId"])):R("",!0),n.value==="affiliate"?(b(),P(y(_t),{key:2,post:t.post,postIndex:t.postIndex,postId:t.postId,onLinksUpdated:c[5]||(c[5]=A=>r.value++),linksReport:""},null,8,["post","postIndex","postId"])):R("",!0),n.value==="external"?(b(),P(y(wt),{key:3,post:t.post,postIndex:t.postIndex,postId:t.postId,onLinksUpdated:c[6]||(c[6]=A=>r.value++),linksReport:""},null,8,["post","postIndex","postId"])):R("",!0),n.value==="link-suggestions"?(b(),P(y(St),{key:4,post:t.post,postIndex:t.postIndex,postId:t.postId,filteredSuggestionsOutbound:y(p)(t.post),initialTab:o.value,linksReport:"",onShowStandalone:c[7]||(c[7]=A=>h.showStandalone=!0),onSuggestionsTabChanged:c[8]||(c[8]=A=>o.value=A),onLinksUpdated:c[9]||(c[9]=A=>r.value++)},null,8,["post","postIndex","postId","filteredSuggestionsOutbound","initialTab"])):R("",!0)])}}},N="aioseo-pro",Ie={setup(){const t=K(),s=gt(),l="aioseo-link-assistant-links-report-wp-table",e=B(null),o=B({}),n=({name:A,selectedValue:j})=>{A==="post-type"&&(o.value["post-type"]=j,o.value.term="all"),e.value=t.linksReport.additionalFilters.filter(z=>z.name==="post-type"||z.dependsOn&&o.value["post-type"]===z.dependsOn.value)},r=()=>{o.value.term="all",o.value["post-type"]="",n({name:"post-type",selectedValue:""})},{editPost:w,viewPost:k}=st(),{pageNumber:v,processAdditionalFilters:S,processChangeItemsPerPage:f,processFilterTable:u,processPagination:T,processSearch:C,processSort:I,refreshTable:p,searchTerm:h,wpTableKey:c,wpTableLoading:O}=W({changeItemsPerPageSlug:"linkAssistantLinksReport",fetchData:t.fetchLinksReport,resetSelectedFilters:r,selectedFilters:o,tableId:l});return{additionalFilters:e,dateSqlToLocal:kt,editPost:w,linkAssistantStore:t,pageNumber:v,processAdditionalFilterOptionSelected:n,processAdditionalFilters:S,processChangeItemsPerPage:f,processFilterTable:u,processPagination:T,processSearch:C,processSort:I,refreshTable:p,searchTerm:h,selectedFilters:o,settingsStore:s,tableId:l,viewPost:k,wpTableKey:c,wpTableLoading:O}},components:{CoreTooltip:ft,CoreWpTable:et,LinkAssistantConfirmationModal:nt,LinksReportInner:ye,SvgCaret:At,SvgLinkAffiliate:rt,SvgLinkExternal:$,SvgLinkInternalInbound:at,SvgLinkInternalOutbound:lt,SvgLinkSuggestion:ct},data(){return{numbers:ht,initialActiveTab:"inbound-internal",innerTableKey:0,activeRow:-1,showModal:!1,selectedRows:null,bulkAction:null,strings:{deleteAllLinks:a("Delete All Links",N),inboundInternal:D(a("%1$sInbound Internal Links%2$sLinks from other posts to this post",N),"<strong>","</strong><br />"),outboundInternal:D(a("%1$sOutbound Internal Links%2$sLinks from this post to other posts",N),"<strong>","</strong><br />")},modalStrings:{areYouSureSingle:a("Are you sure you want to delete all links for this post?",N),actionCannotBeUndone:a("This action cannot be undone.",N),yesSingle:a("Yes, I want to delete all links",N),noChangedMind:a("No, I changed my mind",N)}}},computed:{columns(){return[{slug:"post_title",label:a("Post Title",N),width:"100%"},{slug:"publish_date",label:a("Publish Date",N),width:"170px"},{slug:"internal",label:a("Internal",N),width:"150px"},{slug:"affiliate",label:a("Affiliate",N),width:"90px"},{slug:"external",label:a("External",N),width:"90px"},{slug:"suggestions",label:a("Suggestions",N),width:"110px"},{slug:"toggle-button",label:"",width:"60px"}]}},methods:{getPostId(t){return parseInt(t)},isRowActive(t){return t===this.activeRow},maybeEditRow(t,s,l,e){if(!l){this.initialActiveTab=t,s(e),this.toggleRow(e);return}if(this.initialActiveTab===t){s(e),this.toggleRow(e);return}this.initialActiveTab=t,this.innerTableKey++},toggleRow(t){if(this.activeRow===t){this.activeRow=-1;return}this.activeRow=t},maybeDeleteAllLinks(t){t!==!1&&(this.selectedRows=t,this.showModal=!0)},deleteAllLinks(){this.showModal=!1;const t=this.linkAssistantStore.linksReport.rows[this.selectedRows].ID;if(t)return this.wpTableLoading=!0,this.linkAssistantStore.linksReportDeleteAll({postId:t}).finally(()=>{this.activeRow=-1,this.wpTableKey++,this.refreshTable()})},doProcessPagination(t){this.processPagination(t),this.activeRow=-1},doProcessSearch(t){this.processSearch(t),this.activeRow=-1},doProcessFilterTable(t){this.processFilterTable(t),this.activeRow=-1},doProcessAdditionalFilters(t){this.processAdditionalFilters(t),this.activeRow=-1}},beforeMount(){this.additionalFilters=this.linkAssistantStore.linksReport.additionalFilters.filter(t=>t.name==="post-type"||t.dependsOn&&this.selectedFilters["post-type"]===t.dependsOn.value),this.$route.query&&(Object.entries(this.$route.query).forEach(t=>{switch(t[0]){case"fullReport":this.processFilterTable({slug:"all"});break;case"postTitle":this.searchTerm=this.$route.query.postTitle,this.processSearch(this.searchTerm);break;case"linkingOpportunities":this.processFilterTable({slug:"linking-opportunities"});break;case"orphaned-posts":this.processFilterTable({slug:"orphaned-posts"});break}}),this.linkAssistantStore.setLinksReportCounts())}},Ae={class:"aioseo-link-assistant-links-report"},Pe={class:"post-title"},Te=["onClick"],Re={key:0,class:"post-status-badge draft"},xe={key:1,class:"post-status-badges"},Le={class:"post-status-badge future"},Ce={class:"post-status-badge future"},De={class:"row-actions"},Me=["href"],Be=["href"],Oe=["onClick"],Fe={key:0,class:"date"},qe={class:"internal-links-count"},Ne=["onClick"],Ue={class:"aioseo-tooltip-wrapper"},Ve=["innerHTML"],Ee=["onClick"],Ke={class:"aioseo-tooltip-wrapper"},ze=["innerHTML"],Ye=["onClick"],He=["onClick"],je=["onClick"],Ge=["onClick"];function Je(t,s,l,e,o,n){const r=_("svg-link-internal-inbound"),w=_("core-tooltip"),k=_("svg-link-internal-outbound"),v=_("svg-link-suggestion"),S=_("svg-link-affiliate"),f=_("svg-link-external"),u=_("svg-caret"),T=_("LinksReportInner"),C=_("core-wp-table"),I=_("link-assistant-confirmation-modal");return b(),V("div",Ae,[(b(),P(C,{ref:"table",class:"posts-table",id:e.tableId,"additional-filters":e.additionalFilters,columns:n.columns,filters:e.linkAssistantStore.linksReport.filters,"initial-items-per-page":e.settingsStore.settings.tablePagination.linkAssistantLinksReport,"initial-page-number":e.pageNumber,"initial-search-term":e.searchTerm,key:e.wpTableKey,loading:e.wpTableLoading,rows:e.linkAssistantStore.linksReport.rows,"selected-filters":e.selectedFilters,"show-bulk-actions":!1,totals:e.linkAssistantStore.linksReport.totals,"show-items-per-page":"",onAdditionalFilterOptionSelected:e.processAdditionalFilterOptionSelected,onFilterTable:n.doProcessFilterTable,onPaginate:n.doProcessPagination,onProcessAdditionalFilters:n.doProcessAdditionalFilters,onProcessChangeItemsPerPage:e.processChangeItemsPerPage,onSearch:n.doProcessSearch,onSortColumn:e.processSort},{post_title:d(({row:p,index:h,editRow:c})=>{var O,A,j,z,Q,X;return[i("div",Pe,[i("a",{href:"#",class:G({active:n.isRowActive(h)}),onClick:J(tt=>{c(h),n.toggleRow(h)},["prevent"])},[i("span",null,m(p.context.postTitle),1),["draft","private","pending"].includes(p.post_status)?(b(),V("span",Re,m((j=(A=(O=p.context)==null?void 0:O.postStatus)==null?void 0:A.label)==null?void 0:j.toUpperCase()),1)):R("",!0),p.post_status==="future"?(b(),V("span",xe,[i("span",Le,m((X=(Q=(z=p.context)==null?void 0:z.postStatus)==null?void 0:Q.label)==null?void 0:X.toUpperCase()),1),i("span",Ce,m(e.dateSqlToLocal(p.post_date,"MMMM d, yyyy").toUpperCase()),1)])):R("",!0)],10,Te)]),i("div",De,[i("span",null,[i("a",{class:"view",href:p.context.permalink,target:"_blank"},[i("span",null,m(e.viewPost(p.context.postType.singular)),1)],8,Me),L(" | ")]),i("span",null,[i("a",{class:"edit",href:p.context.editLink,target:"_blank"},[i("span",null,m(e.editPost(p.context.postType.singular)),1)],8,Be),L(" | ")]),i("span",null,[i("a",{class:"delete-all-links",href:"#",onClick:J(tt=>n.maybeDeleteAllLinks(h),["prevent"])},[i("span",null,m(o.strings.deleteAllLinks),1)],8,Oe)])])]}),publish_date:d(({row:p})=>[p.post_status==="publish"?(b(),V("span",Fe,m(e.dateSqlToLocal(p.post_date,"MMMM d, yyyy")),1)):R("",!0)]),internal:d(({editRow:p,index:h,editRowActive:c})=>[i("div",qe,[i("div",{onClick:O=>n.maybeEditRow("inbound-internal",p,c,h)},[i("div",Ue,[g(w,{class:"action"},{tooltip:d(()=>[i("span",{innerHTML:o.strings.inboundInternal},null,8,Ve)]),default:d(()=>[g(r),i("span",null,m(o.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[h].inboundInternal)),1)]),_:2},1024)])],8,Ne),i("div",{onClick:O=>n.maybeEditRow("outbound-internal",p,c,h)},[i("div",Ke,[g(w,{class:"action"},{tooltip:d(()=>[i("span",{innerHTML:o.strings.outboundInternal},null,8,ze)]),default:d(()=>[g(k),i("span",null,m(o.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[h].outboundInternal)),1)]),_:2},1024)])],8,Ee)])]),suggestions:d(({editRow:p,index:h,editRowActive:c})=>[i("div",{onClick:O=>n.maybeEditRow("link-suggestions",p,c,h)},[g(v),L(" "+m(o.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[h].suggestionsInbound+e.linkAssistantStore.linksReport.counts[h].suggestionsOutbound)),1)],8,Ye)]),affiliate:d(({editRow:p,index:h,editRowActive:c})=>[i("div",{onClick:O=>n.maybeEditRow("affiliate",p,c,h)},[g(S),L(" "+m(o.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[h].affiliate)),1)],8,He)]),external:d(({editRow:p,index:h,editRowActive:c})=>[i("div",{onClick:O=>n.maybeEditRow("external",p,c,h)},[g(f),L(" "+m(o.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[h].external)),1)],8,je)]),"toggle-button":d(({index:p,editRow:h})=>[i("button",{class:G(["toggle-row-button",{active:n.isRowActive(p)}]),onClick:c=>{h(p),n.toggleRow(p)}},[g(u)],10,Ge)]),"edit-row":d(({row:p,index:h})=>[(b(),P(T,{key:o.innerTableKey,post:p,postIndex:h,postId:n.getPostId(p.ID),initialActiveTab:o.initialActiveTab},null,8,["post","postIndex","postId","initialActiveTab"]))]),_:1},8,["id","additional-filters","columns","filters","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","selected-filters","totals","onAdditionalFilterOptionSelected","onFilterTable","onPaginate","onProcessAdditionalFilters","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),g(I,{show:o.showModal,selectedRows:o.selectedRows,strings:o.modalStrings,onDoBulkAction:n.deleteAllLinks,onCloseModal:s[0]||(s[0]=p=>o.showModal=!1)},null,8,["show","selectedRows","strings","onDoBulkAction"])])}const We=Z(Ie,[["render",Je]]),Qe={class:"aioseo-link-assistant-post-report"},Xe={key:0,class:"header-container"},Ze={class:"first-row"},$e={class:"second-row"},ts={class:"first-column"},es={class:"header"},ss={key:1,class:"load-progress"},ns={key:2,class:"header-container"},os={class:"first-row"},is={class:"second-row"},as={class:"first-column"},ls={class:"header"},rs={class:"actions"},cs=["href"],us=["href"],ds={class:"second-column"},ps={__name:"PostReport",setup(t){const s="aioseo-pro",l=K(),e=B(null),o=B(0),n=B({}),r=B("inbound-internal"),w=B("suggestions-inbound"),k=B(4),v=B(!1),S=B(!1),f={backToLinksReport:a("Back to Links Report",s),loadingHeader:a("Loading Link Suggestions. Please wait...",s),refresh:a("Refresh",s)},u=H(()=>({...n.value,links:l.postReport})),T=H(()=>D(a('Internal Links & Suggestions for "%1$s"',s),n.value.context.postTitle)),C=H(()=>[{slug:"inbound-internal",icon:at,name:D("%1$s %2$s",n.value.links.inboundInternal.totals.total,a("Inbound Internal",s))},{slug:"outbound-internal",icon:lt,name:D("%1$s %2$s",n.value.links.outboundInternal.totals.total,a("Outbound Internal",s))},{slug:"affiliate",icon:rt,name:D("%1$s %2$s",n.value.links.affiliate.totals.total,a("Affiliate",s))},{slug:"external",icon:$,name:D("%1$s %2$s",n.value.links.external.totals.total,a("External",s))},{slug:"link-suggestions",icon:ct,name:D("%1$s %2$s",n.value.links.suggestionsOutbound.totals.total+n.value.links.suggestionsInbound.totals.total,a("Link Suggestions",s))}]),I=dt(),p=()=>{I.push({name:"links-report"})},h=(x,F)=>{r.value=x,F&&(w.value=F)},c=()=>{v.value=!1,S.value&&It(()=>{v.value=!0,2>k.value&&(k.value=4),k.value=k.value/2,setTimeout(c,k.value*1e3)})},{filter:O,processFetchTableData:A,processAdditionalFilters:j}=W({fetchData:l.fetchPostReport}),{editPost:z,viewPost:Q}=st(),{doRefresh:X,isPrioritizedPost:tt,refreshLoading:xt}=Rt({post:n,postIndex:o,processAdditionalFilters:j,requestType:"postReport"}),{filteredSuggestionsOutbound:Lt}=yt();return Vt(()=>{const x=pt();if(x.query){if(!x.query.postId){I.push({name:"links-report"});return}e.value=parseInt(x.query.postId),o.value=parseInt(x.query.postIndex),r.value=x.query.initialTab,w.value=x.query.initialSuggestionTab,n.value={ID:e.value,context:{postType:{singular:null}},links:{...l.postReport}}}}),ot(()=>{l.resetPostReportState(),window.aioseoBus.$emit("updatingLinks",!0),v.value=!0,S.value=!0,setTimeout(c,k.value*1e3),O.value="all",A({postId:e.value}).then(x=>{x.body.links&&(n.value.links=x.body.links),x.body.context&&(n.value.context=x.body.context),l.postReport={...x.body.links}}).catch(x=>{console.error(x),I.push({name:"links-report"})}).finally(()=>{window.aioseoBus.$emit("updatingLinks",!1),v.value=!1,S.value=!1})}),(x,F)=>{const Ct=_("base-button");return b(),V("div",Qe,[S.value?(b(),V("div",Xe,[i("div",Ze,[i("a",{href:"#",onClick:J(p,["stop","prevent"])},[L(" ← "),i("span",null,m(f.backToLinksReport),1)])]),i("div",$e,[i("div",ts,[i("span",es,m(f.loadingHeader),1)])])])):R("",!0),v.value?(b(),V("div",ss,[i("div",{class:"load-progress-value",style:Et({animationDuration:k.value+"s"})},null,4)])):R("",!0),S.value?R("",!0):(b(),V("div",ns,[i("div",os,[i("a",{href:"#",onClick:J(p,["prevent"])},[L(" ← "),i("span",null,m(f.backToLinksReport),1)])]),i("div",is,[i("div",as,[i("span",ls,m(T.value),1),i("div",rs,[i("a",{class:"view-post-link",href:n.value.context.permalink,target:"_blank"},m(y(Q)(n.value.context.postType.singular)),9,cs),L(" | "),i("a",{class:"edit-post-link",href:n.value.context.editLink,target:"_blank"},m(y(z)(n.value.context.postType.singular)),9,us)])]),i("div",ds,[g(Ct,{type:"blue",tag:"button",loading:y(xt),disabled:y(tt),onClick:y(X)},{default:d(()=>[g(y(Tt)),L(" "+m(f.refresh),1)]),_:1},8,["loading","disabled","onClick"])])])])),g(y(Pt),{class:"link-tabs",internal:"",tabs:C.value,active:r.value,showSaveButton:!1,onChanged:F[0]||(F[0]=E=>h(E))},{"var-tab-icon":d(({tab:E})=>[(b(),P(it(E.icon),{class:G([{warning:E.warning}])},null,8,["class"]))]),_:1},8,["tabs","active"]),r.value==="outbound-internal"?(b(),P(y(bt),{key:3,post:u.value,postIndex:o.value,postId:e.value,"post-report":"",onOpenSuggestions:F[1]||(F[1]=E=>h("link-suggestions","suggestions-outbound"))},null,8,["post","postIndex","postId"])):R("",!0),r.value==="inbound-internal"?(b(),P(y(vt),{key:4,post:u.value,postIndex:o.value,postId:e.value,"post-report":"",onOpenSuggestions:F[2]||(F[2]=E=>h("link-suggestions","suggestions-inbound"))},null,8,["post","postIndex","postId"])):R("",!0),r.value==="affiliate"?(b(),P(y(_t),{key:5,post:u.value,postIndex:o.value,postId:e.value,"post-report":""},null,8,["post","postIndex","postId"])):R("",!0),r.value==="external"?(b(),P(y(wt),{key:6,post:u.value,postIndex:o.value,postId:e.value,"post-report":""},null,8,["post","postIndex","postId"])):R("",!0),r.value==="link-suggestions"?(b(),P(y(St),{key:7,post:u.value,postIndex:o.value,postId:e.value,filteredSuggestionsOutbound:y(Lt)(n.value),initialTab:w.value,"post-report":"",onShowStandalone:F[3]||(F[3]=E=>x.showStandalone=!0),onSuggestionsTabChanged:F[4]||(F[4]=E=>w.value=E)},null,8,["post","postIndex","postId","filteredSuggestionsOutbound","initialTab"])):R("",!0)])}}},U="aioseo-pro",ms={setup(){const{getJsonValue:t,setJsonValue:s}=Yt();return{GLOBAL_STRINGS:zt,getJsonValue:t,linkAssistantStore:K(),links:Dt,setJsonValue:s}},components:{BaseCheckbox:Ht,BaseTextarea:jt,CoreCard:Gt,CoreExcludePosts:Jt,CorePostStatusOptions:Wt,CorePostTypeOptions:Qt,CoreSettingsRow:Xt},data(){return{initialAffiliateLinkPrefixes:"",strings:{settings:a("Link Settings",U),postTypes:a("Post Types",U),includeAllPostTypes:a("Include All Post Types",U),selectPostTypes:a("Select which Post Types you want to enable Link Assistant for.",U),postStatuses:a("Post Statuses",U),includeAllPostStatuses:a("Include All Post Statuses",U),selectPostStatuses:a("Select which Post Statuses you want to enable Link Assistant for.",U),skipSentences:a("Number of Sentences to Skip at Beginning",U),skipSentencesDescription:D(a("The amount of sentences at the beginning of the article that %1$s should not suggest internal links for.",U),"AIOSEO"),affiliatePrefix:a("Affiliate Link Prefix",U),affiliatePrefixDescription:D(a('Enter one or multiple link prefixes that %1$s should consider as affiliate links, e.g. "/go/", "/refer/" or "https://amazn.to".',U),"AIOSEO"),excludePostsPages:a("Exclude Posts / Pages",U),wordsToIgnore:a("Words to Ignore",U)}}},methods:{validateSkipSentences(t){0>t.target.value&&(t.target.value=0)}},beforeMount(){this.initialAffiliateLinkPrefixes=this.linkAssistantStore.options.main.affiliatePrefix,window.aioseoBus.$on("changes-saved",()=>{this.initialAffiliateLinkPrefixes=this.linkAssistantStore.options.main.affiliatePrefix})}},gs={class:"aioseo-link-assistant-settings"},hs={class:"aioseo-description"},ks=["innerHTML"],fs={class:"aioseo-description"},bs=["innerHTML"],vs={class:"aioseo-description"},_s={class:"aioseo-description"};function ws(t,s,l,e,o,n){const r=_("base-checkbox"),w=_("core-post-type-options"),k=_("core-settings-row"),v=_("core-post-status-options"),S=_("base-input"),f=_("base-select"),u=_("core-exclude-posts"),T=_("base-textarea"),C=_("core-card");return b(),V("div",gs,[g(C,{slug:"linkAssistantSettings","header-text":o.strings.settings},{default:d(()=>[g(k,{name:o.strings.postTypes},{content:d(()=>[g(r,{size:"medium",modelValue:e.linkAssistantStore.options.main.postTypes.all,"onUpdate:modelValue":s[0]||(s[0]=I=>e.linkAssistantStore.options.main.postTypes.all=I)},{default:d(()=>[L(m(o.strings.includeAllPostTypes),1)]),_:1},8,["modelValue"]),e.linkAssistantStore.options.main.postTypes.all?R("",!0):(b(),P(w,{key:0,id:"postTypes",options:e.linkAssistantStore.options.main,excluded:["attachment","web-story"],type:"postTypes"},null,8,["options"])),i("div",hs,[L(m(o.strings.selectPostTypes)+" ",1),i("span",{innerHTML:e.links.getDocLink(e.GLOBAL_STRINGS.learnMore,"linkAssistantPostTypes",!0)},null,8,ks)])]),_:1},8,["name"]),g(k,{name:o.strings.postStatuses},{content:d(()=>[g(r,{size:"medium",modelValue:e.linkAssistantStore.options.main.postStatuses.all,"onUpdate:modelValue":s[1]||(s[1]=I=>e.linkAssistantStore.options.main.postStatuses.all=I)},{default:d(()=>[L(m(o.strings.includeAllPostStatuses),1)]),_:1},8,["modelValue"]),e.linkAssistantStore.options.main.postStatuses.all?R("",!0):(b(),P(v,{key:0,id:"postStatuses",options:e.linkAssistantStore.options.main,type:"postStatuses"},null,8,["options"])),i("div",fs,[L(m(o.strings.selectPostStatuses)+" ",1),i("span",{innerHTML:e.links.getDocLink(e.GLOBAL_STRINGS.learnMore,"linkAssistantPostStatuses",!0)},null,8,bs)])]),_:1},8,["name"]),g(k,{name:o.strings.skipSentences,align:""},{content:d(()=>[g(S,{modelValue:e.linkAssistantStore.options.main.skipSentences,"onUpdate:modelValue":s[2]||(s[2]=I=>e.linkAssistantStore.options.main.skipSentences=I),class:"settings-skip-sentences",type:"number",size:"medium",min:0,onKeyup:s[3]||(s[3]=I=>n.validateSkipSentences(I))},null,8,["modelValue"]),i("div",vs,m(o.strings.skipSentencesDescription),1)]),_:1},8,["name"]),g(k,{class:"affiliate-prefix",name:o.strings.affiliatePrefix,align:""},{content:d(()=>[g(f,{multiple:"",taggable:"",options:e.getJsonValue(e.linkAssistantStore.options.main.affiliatePrefix)||[],modelValue:e.getJsonValue(e.linkAssistantStore.options.main.affiliatePrefix)||[],"onUpdate:modelValue":s[4]||(s[4]=I=>e.linkAssistantStore.options.main.affiliatePrefix=e.setJsonValue(I))},null,8,["options","modelValue"]),i("div",_s,m(o.strings.affiliatePrefixDescription),1)]),_:1},8,["name"]),g(k,{name:o.strings.excludePostsPages,align:""},{content:d(()=>[g(u,{options:e.linkAssistantStore.options.main,type:"posts"},null,8,["options"])]),_:1},8,["name"]),g(k,{name:o.strings.wordsToIgnore},{content:d(()=>[g(T,{minHeight:200,autosize:!1,modelValue:e.linkAssistantStore.options.main.wordsToIgnore,"onUpdate:modelValue":s[5]||(s[5]=I=>e.linkAssistantStore.options.main.wordsToIgnore=I)},null,8,["modelValue"])]),_:1},8,["name"])]),_:1},8,["header-text"])])}const Ss=Z(ms,[["render",ws]]),ys={class:"aioseo-link-assistant"},uo={__name:"Main",setup(t){const s="all-in-one-seo-pack",l=pt(),e=dt(),o=H(()=>l.name==="overview"?ut:l.name==="domains-report"?we:l.name==="links-report"?We:l.name==="post-report"?ps:l.name==="settings"?Ss:ut),{getExcludedActivationTabs:n}=Zt(),{getExcludedUpdateTabs:r}=$t(),w={pageName:a("Link Assistant",s)},k=H(()=>{const f=(Y.isActive("aioseo-link-assistant")?r(e,"aioseo-link-assistant"):n(e,"aioseo-link-assistant"))||[];return f.push("post-report"),f}),v=K(),S=Mt();return ot(()=>{window.aioseoBus.$on("changes-saved",()=>{v.getMenuData()}),S.isPro&&v.suggestionsScan.percent!==100&&Y.isActive("aioseo-link-assistant")&&!Y.requiresUpgrade("aioseo-link-assistant")&&Y.hasMinimumVersion("aioseo-link-assistant")&&v.pollSuggestionsScan()}),(f,u)=>(b(),V("div",ys,[g(y(Ft),{"page-name":w.pageName,"exclude-tabs":k.value,showTabs:y(l).name!=="post-report"},{default:d(()=>[(b(),P(it(o.value)))]),_:1},8,["page-name","exclude-tabs","showTabs"])]))}};export{uo as default};
