import{p as R,D as G,i as X,A as N,a8 as A,j as Y}from"./index.6205915e.js";import{j as Z}from"./helpers.7981a424.js";import{g as J}from"./params.af7ed354.js";import{_ as S}from"./_plugin-vue_export-helper.eefbdd86.js";import{o as c,a3 as m,a4 as n,a7 as v,a as b,t as p,F as k,af as M,aj as U,q as _,a5 as Q,a6 as P,b as f,ae as ee,ah as O,ai as L,c as $,w as y,ao as te,u as I,ab as se}from"./runtime-core.esm-bundler.50cb9e6d.js";import"./translations.e71e2202.js";import{a as g,v as ie,b as oe,w as E}from"./runtime-dom.esm-bundler.36191dca.js";import{_ as r}from"./default-i18n.65d58dd6.js";import{C as j}from"./Index.92195ca4.js";import{C as z}from"./Button.898cae57.js";import{U as K,u as ne}from"./UserAvatar.e423a306.js";import{t as ae}from"./tags.53ae5e4e.js";import{u as re}from"./Image.e8cff52f.js";import{u as de,S as le}from"./Upsell.fe2f1a32.js";import{C as ce}from"./Blur.73468424.js";import"./Close.650e0e8f.js";import"./Profile.19b0fcf9.js";import"./constants.41876895.js";import"./Index.4875e309.js";import"./Row.8a74cb5b.js";import"./Pencil.1f4e936a.js";import"./RequiredPlans.8fb43f75.js";import"./addons.e4da3407.js";import"./upperFirst.ef347579.js";import"./license.e878a1e9.js";const me={},pe={viewBox:"0 0 24 25",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-slider-handle",fill:"none"},ue=n("ellipse",{cx:"12.157",cy:"12.5",rx:"11.657",ry:"12",fill:"#B4B5B7"},null,-1),he=n("circle",{cx:"12.157",cy:"12.157",r:"10.971",fill:"#F4F6F6"},null,-1),ve=n("path",{d:"m13.529 15.586v-7.2l4.68 3.6-4.68 3.6z",fill:"#33353A"},null,-1),_e=n("path",{d:"m11.009 8.3858v7.2l-4.68-3.6 4.68-3.6z",fill:"#33353A"},null,-1),fe=[ue,he,ve,_e];function be(e,t){return c(),m("svg",pe,fe)}const W=S(me,[["render",be]]),B="aioseo-pro",ge={setup(){return{seoRevisionsStore:R()}},components:{SvgSliderHandle:W},props:{itemFrom:Object,itemTo:{type:[Object],required:!0}},data(){return{activeSliderHandle:"to",isSliderHandleActive:!1,showSliderHandleFrom:!!J().from,strings:{compareTwoRevisions:r("Compare any two revisions",B),next:r("Next",B),previous:r("Previous",B)}}},watch:{itemTo(e){let t=this.itemFrom;this.showSliderHandleFrom||(t=this.$parent.getPreviousItemById(e.id)||null),t!==this.itemFrom&&(this.$parent.itemFromId=(t==null?void 0:t.id)||0),this.abstractFetchDiff(t,e)},itemFrom(e){if(!this.showSliderHandleFrom)return!1;this.$parent.itemFromId=(e==null?void 0:e.id)||0,this.abstractFetchDiff(e,this.itemTo)},showSliderHandleFrom(e){e&&this.setHandlePositionByItem("from");const t=this.$parent.getPreviousItemById(this.itemTo.id);this.$parent.itemFromId=(t==null?void 0:t.id)||0,this.abstractFetchDiff(t,this.itemTo)}},computed:{activeSliderHandleNode(){return this.activeSliderHandle==="from"?this.$refs.sliderHandleFrom:this.$refs.sliderHandleTo},btnHandleDisabled(){return this.$parent.isFetchingDiff},btnNextDisabled(){return this.$parent.seoRevisionsStore.items[0].id===this.itemTo.id||this.$parent.isFetchingDiff},btnPreviousDisabled(){return this.$parent.seoRevisionsStore.items[this.$parent.seoRevisionsStore.items.length-1].id===this.itemTo.id||this.$parent.isFetchingDiff},checkboxCompareModeDisabled(){return this.$parent.seoRevisionsStore.items[this.$parent.seoRevisionsStore.items.length-1].id===this.itemTo.id||this.$parent.isFetchingDiff},sliderMaxWidth(){const e=Math.min(1e3,this.$parent.seoRevisionsStore.items.length);let t=100;return 1<e&&(t=Math.min(1920,e*49)),`${t}px`}},methods:{abstractFetchDiff(e,t){this.$parent.isFetchingDiff=!0,this.seoRevisionsStore.fetchDiff({fromId:(e==null?void 0:e.id)||0,toId:t.id}).finally(()=>{this.$parent.isFetchingDiff=!1}),this.setHandlePositionByItem(),this.replaceHistoryState()},getMarks(){const e=[];for(const t of this.$refs.marks.querySelectorAll("div"))e.push({left:t.offsetLeft,id:parseInt(t.dataset.id)});return e},onClickBtnNext(){const e=this.$parent.getNextItemById(this.itemTo.id);if(!e)return!1;this.$parent.itemToId=e.id},onClickBtnPrevious(){const e=this.$parent.getPreviousItemById(this.itemTo.id);if(!e)return!1;this.$parent.itemToId=e.id},onClickMarks(e){if(this.$parent.isFetchingDiff)return!1;this.setItemIdByHandlePosition(this.parseHandlePosition(e.offsetX))},onInputCompareMode(){this.showSliderHandleFrom=!this.showSliderHandleFrom,this.showSliderHandleFrom||(this.activeSliderHandle="to")},onMousedownSliderHandle(){this.isSliderHandleActive=!0,document.addEventListener("mousemove",this.onMousemoveSlider)},onMousemoveSlider(e){const t=this.$refs.slider,s=this.$refs.slider.getBoundingClientRect();let a=Math.max(0,e.clientX-s.left);a=this.parseHandlePosition(a>t.offsetWidth?t.offsetWidth:a),this.activeSliderHandleNode.style.left=`${a}px`},parseHandlePosition(e){if(this.showSliderHandleFrom){const t=this.activeSliderHandleNode.offsetWidth/2;if(this.activeSliderHandle==="from"){const s=this.$refs.sliderHandleTo.offsetLeft;s-t<e&&(e=s-t)}else if(this.activeSliderHandle==="to"){const s=this.$refs.sliderHandleFrom.offsetLeft;e<s+t&&(e=s+t)}}return e},replaceHistoryState(){var e;if(window!=null&&window.history.replaceState){const t=new URL(window.location.href),s=t.searchParams;s.delete("from"),s.delete("to"),this.showSliderHandleFrom&&s.append("from",((e=this.itemFrom)==null?void 0:e.id)||0),s.append("to",this.itemTo.id),t.search=s.toString(),window.history.replaceState({},"",t.toString())}},setItemIdByHandlePosition(e){var a,o,i;const s=this.getMarks().reduce((l,d)=>Math.abs(d.left-e)<Math.abs(l.left-e)?d:l);if(this.activeSliderHandle==="from")return s.id>=this.itemTo.id&&(s.id=((a=this.$parent.getPreviousItemById(s.id))==null?void 0:a.id)||0),s.id===(((o=this.itemFrom)==null?void 0:o.id)||0)&&this.setHandlePositionByItem("from"),this.$parent.itemFromId=s.id,!1;this.showSliderHandleFrom&&s.id<=(((i=this.itemFrom)==null?void 0:i.id)||0)&&(s.id=this.$parent.getNextItemById(s.id).id),s.id===this.itemTo.id&&this.setHandlePositionByItem("to"),this.$parent.itemToId=s.id},setHandlePositionByItem(e=null){var o,i;let t=this.activeSliderHandle==="from"?((o=this.itemFrom)==null?void 0:o.id)||0:this.itemTo.id,s=this.activeSliderHandleNode;e==="from"?(t=((i=this.itemFrom)==null?void 0:i.id)||0,s=this.$refs.sliderHandleFrom):e==="to"&&(t=this.itemTo.id,s=this.$refs.sliderHandleTo);const a=this.$refs[`mark-${t}`][0];s.style.left=`${a.offsetLeft}px`}},mounted(){this.setHandlePositionByItem("to"),this.showSliderHandleFrom&&this.setHandlePositionByItem("from"),document.addEventListener("mouseup",()=>{if(!this.isSliderHandleActive)return!1;this.isSliderHandleActive=!1,document.removeEventListener("mousemove",this.onMousemoveSlider),this.setItemIdByHandlePosition(this.activeSliderHandleNode.offsetLeft)})}},ye={class:"aioseo-seo-revisions-comparison__controls"},Se={class:"aioseo-seo-revisions-comparison__controls__compare-mode"},Ie=["checked","disabled"],we={class:"aioseo-seo-revisions-comparison__controls__previous"},xe=["disabled"],$e=["aria-disabled"],Te=["data-id"],Re=["disabled"],Ne=["disabled"],ke={class:"aioseo-seo-revisions-comparison__controls__next"},He=["disabled"];function Ce(e,t,s,a,o,i){const l=v("svg-slider-handle");return c(),m("div",ye,[n("div",Se,[n("input",{type:"checkbox",checked:o.showSliderHandleFrom,disabled:i.checkboxCompareModeDisabled,onInput:t[0]||(t[0]=d=>i.onInputCompareMode())},null,40,Ie),b(" "+p(o.strings.compareTwoRevisions),1)]),n("div",we,[n("button",{class:"button",type:"button",disabled:i.btnPreviousDisabled||o.showSliderHandleFrom,onClick:t[1]||(t[1]=g(d=>i.onClickBtnPrevious(),["stop","exact"]))},p(o.strings.previous),9,xe)]),n("div",{ref:"slider",class:"aioseo-seo-revisions-comparison__controls__slider",style:Q({"max-width":i.sliderMaxWidth})},[n("div",{ref:"marks",class:"marks",role:"button","aria-disabled":i.btnHandleDisabled,onClick:t[2]||(t[2]=g(d=>i.onClickMarks(d),["stop","exact"]))},[(c(!0),m(k,null,M(e.$parent.seoRevisionsStore.items,d=>(c(),m("div",{"data-id":d.id,ref_for:!0,ref:`mark-${d.id}`,key:d.id},null,8,Te))),128))],8,$e),U(n("button",{ref:"sliderHandleFrom",class:"aioseo-seo-revisions-comparison__controls__slider__handle from",tabindex:"0",onMousedown:t[3]||(t[3]=g(d=>{o.activeSliderHandle="from",i.onMousedownSliderHandle()},["prevent"])),disabled:i.btnHandleDisabled},[_(l)],40,Re),[[ie,o.showSliderHandleFrom]]),n("button",{ref:"sliderHandleTo",class:"aioseo-seo-revisions-comparison__controls__slider__handle to",tabindex:"0",onMousedown:t[4]||(t[4]=g(d=>{o.activeSliderHandle="to",i.onMousedownSliderHandle()},["prevent"])),disabled:i.btnHandleDisabled},[_(l)],40,Ne)],4),n("div",ke,[n("button",{class:"button",type:"button",disabled:i.btnNextDisabled||o.showSliderHandleFrom,onClick:t[5]||(t[5]=g(d=>i.onClickBtnNext(),["stop","exact"]))},p(o.strings.next),9,He)])])}const Fe=S(ge,[["render",Ce],["__scopeId","data-v-3c08cfcb"]]),T="aioseo-pro",Ee={setup(){const{getAuthorEmailAndLogin:e}=ne();return{getAuthorEmailAndLogin:e,seoRevisionsStore:R()}},components:{CoreLoader:z,UtilUserAvatar:K},props:{revision:{type:Object,default(){return{}}},isCurrentVersion:Boolean},data(){return{isUpdating:!1,noteElements:{input:{maxlength:this.seoRevisionsStore.noteMaxlength,visible:!1,value:this.revision.note},btnAdd:{visible:!1},btnEdit:{visible:!1}},strings:{currentRevisionBy:r("Current Revision by",T),revisionBy:r("Revision by",T),addNote:r("Add Note",T),editNote:r("Edit Note",T),typeToAddNote:r("Type to add note",T)}}},watch:{revision(e){this.noteElements.input.value=e.note}},methods:{truncate:G,focusInputNote(){setTimeout(()=>{this.$refs.itemWrapper.querySelector("input").focus()},50)},onBlurInputNote(){this.noteElements.input.value!==this.revision.note?this.updateNote():this.onKeyUpEscInputNote()},onKeyUpEnterInputNote(){this.noteElements.input.value!==this.revision.note&&this.updateNote()},onKeyUpEscInputNote(){this.noteElements.input.value=this.revision.note,this.setNoteElementVisibility("input",!1)},onClickBtnAddNote(){this.setNoteElementVisibility("input",!0),this.setNoteElementVisibility("btnAdd",!1),this.focusInputNote()},onClickBtnEditNote(){this.setNoteElementVisibility("input",!0),this.setNoteElementVisibility("btnEdit",!1),this.focusInputNote()},onFocusItem(){this.onMouseEnterItem()},onMouseEnterItem(){this.isNoteElementVisible("input")||(this.revision.note?this.setNoteElementVisibility("btnEdit",!0):this.setNoteElementVisibility("btnAdd",!0))},onMouseLeaveItem(){this.setNoteElementVisibility("btnAdd",!1),this.setNoteElementVisibility("btnEdit",!1)},isNoteElementVisible(e){return this.noteElements[e].visible},setNoteElementVisibility(e,t){this.noteElements[e].visible=t},updateNote(){this.isUpdating=!0,this.seoRevisionsStore.update({id:this.revision.id,payload:{note:this.noteElements.input.value}}).then(e=>{const t=this.seoRevisionsStore.items.findIndex(s=>s.id===e.body.item.id);this.seoRevisionsStore.items.splice(t,1,e.body.item),this.setNoteElementVisibility("input",!1)}).finally(()=>{this.isUpdating=!1})}}},Be=e=>(O("data-v-8277e3c6"),e=e(),L(),e),De={key:0,class:"aioseo-seo-revisions-comparison__item-meta__col"},Pe={class:"aioseo-seo-revisions-comparison__item-meta__title"},Me={class:"aioseo-seo-revisions-comparison__item-meta__col"},Oe={class:"aioseo-seo-revisions-comparison__item-meta__author-avatar"},Le={class:"aioseo-seo-revisions-comparison__item-meta__col"},Ve={class:"aioseo-wrapper"},Ae=["title"],Ue=["textContent"],je=["textContent"],ze=Be(()=>n("span",null," ",-1)),Ke=["textContent"],We={key:0,class:"aioseo-seo-revisions-comparison__item-meta__note"},qe={class:"text-truncate"},Ge=["maxlength","placeholder"],Xe={class:"aioseo-seo-revisions-comparison__item-meta__date"},Ye={key:1,class:"aioseo-seo-revisions-comparison__item-meta__col"},Ze={key:2,class:"loader"};function Je(e,t,s,a,o,i){const l=v("util-user-avatar"),d=v("core-loader");return s.revision?(c(),m("div",{key:0,class:ee(["aioseo-seo-revisions-comparison__item-meta",{"aioseo-seo-revisions-comparison__item-meta--title-empty":!e.$slots.title}]),tabindex:"0",ref:"itemWrapper",onFocus:t[7]||(t[7]=u=>i.onFocusItem()),onMouseenter:t[8]||(t[8]=u=>i.onMouseEnterItem()),onMouseleave:t[9]||(t[9]=u=>i.onMouseLeaveItem())},[e.$slots.title?(c(),m("div",De,[n("div",Pe,[P(e.$slots,"title",{},void 0,!0)])])):f("",!0),n("div",Me,[n("div",Oe,[_(l,{src:s.revision.author.avatar.url,size:s.revision.author.avatar.size},null,8,["src","size"])])]),n("div",Le,[n("div",Ve,[n("div",{title:a.getAuthorEmailAndLogin(s.revision),class:"aioseo-seo-revisions-comparison__item-meta__author"},[s.isCurrentVersion?(c(),m("span",{key:0,textContent:p(o.strings.currentRevisionBy)},null,8,Ue)):(c(),m("span",{key:1,textContent:p(o.strings.revisionBy)},null,8,je)),ze,n("span",{textContent:p(i.truncate(s.revision.author.display_name,30))},null,8,Ke)],8,Ae),s.revision.note&&!i.isNoteElementVisible("input")?(c(),m("div",We,[n("span",qe,p(s.revision.note),1)])):f("",!0),i.isNoteElementVisible("input")?U((c(),m("input",{key:1,type:"text",maxlength:o.noteElements.input.maxlength,placeholder:o.strings.typeToAddNote,"onUpdate:modelValue":t[0]||(t[0]=u=>o.noteElements.input.value=u),onBlur:t[1]||(t[1]=g(u=>i.onBlurInputNote(),["prevent"])),onKeyup:[t[2]||(t[2]=E(g(u=>i.onKeyUpEnterInputNote(),["prevent"]),["enter"])),t[3]||(t[3]=E(g(u=>i.onKeyUpEscInputNote(),["prevent"]),["esc"]))],onKeydown:t[4]||(t[4]=E(g(()=>{},["prevent"]),["enter"]))},null,40,Ge)),[[oe,o.noteElements.input.value]]):f("",!0),i.isNoteElementVisible("btnEdit")?(c(),m("button",{key:2,class:"aioseo-seo-revisions-comparison__item-meta__btn-edit-note",onClick:t[5]||(t[5]=g(u=>i.onClickBtnEditNote(),["prevent"]))},p(o.strings.editNote),1)):f("",!0),i.isNoteElementVisible("btnAdd")?(c(),m("button",{key:3,class:"aioseo-seo-revisions-comparison__item-meta__btn-add-note",onClick:t[6]||(t[6]=g(u=>i.onClickBtnAddNote(),["prevent"]))},p(o.strings.addNote),1)):f("",!0)]),n("div",Xe,p(s.revision.date.created_formatted),1)]),e.$slots["btn-restore"]?(c(),m("div",Ye,[P(e.$slots,"btn-restore",{},void 0,!0)])):f("",!0),o.isUpdating?(c(),m("div",Ze,[_(d)])):f("",!0)],34)):f("",!0)}const Qe=S(Ee,[["render",Je],["__scopeId","data-v-8277e3c6"]]),h="aioseo-pro",et={setup(){const{getImageSourceOptionFiltered:e}=re(),{getObjectTypeLabelByOption:t,getTwitterCardLabelByOption:s}=de();return{getImageSourceOptionFiltered:e,getObjectTypeLabelByOption:t,getTwitterCardLabelByOption:s,seoRevisionsStore:R(),tagsStore:X()}},components:{CoreAlert:j},props:{itemFromId:Number,itemToId:Number,itemContext:String},data(){return{globalSmartTags:this.tagsStore.tags,strings:{imgPreviewBasedOnSettings:r("Image preview based on your current settings",h),imgPreviewBasedOnUrl:r("Image URL preview",h),noDifference:r("There are no differences between these two revisions.",h),robotsdefault:r("Use Default Settings",h),robotsnoindex:r("No Index",h),robotsnofollow:r("No Follow",h),robotsnoarchive:r("No Archive",h),robotsnotranslate:r("No Translate",h),robotsnoimageindex:r("No Image Index",h),robotsnosnippet:r("No Snippet",h),robotsnoodp:r("No ODP",h),robotsmaxsnippet:r("Max Snippet",h),robotsmaxvideopreview:r("Max Video Preview",h),robotsmaximagepreview:r("Max Image Preview",h),breadcrumbdefault:r("Use Default Settings",h),breadcrumbseparator:r("Separator",h),breadcrumbshowHomeCrumb:r("Show homepage link",h),breadcrumbshowTaxonomyCrumbs:r("Show taxonomy link",h),breadcrumbshowParentCrumbs:r("Show parent item link",h),breadcrumbtemplate:r("Single item template",h),breadcrumbparentTemplate:r("Parent item template",h),breadcrumbtaxonomy:r("Taxonomy Priority",h)},tags:ae}},methods:{insertImageSourceLabel(e){const t=e.match(/\{optionValue\|[^}]+/g);return Object.values(t??{}).forEach(s=>{var l;const a=s.split("|")[1],o=N(a);let i=((l=this.getImageSourceOptionFiltered(o))==null?void 0:l.label)||"";i=a.indexOf("<ins>")!==-1?`<ins>${i}</ins>`:i,e=e.replace(`{optionValue|${a}}`,i)}),e},insertImagePreview(e,t=""){let s="img-preview--url",a=this.strings.imgPreviewBasedOnUrl;t.indexOf("twitter")!==-1?(s=" img-preview--twitter",a=this.strings.imgPreviewBasedOnSettings):t.indexOf("og")!==-1&&(s=" img-preview--facebook",a=this.strings.imgPreviewBasedOnSettings);const o=e.match(/\{imageUrl\|[^}]*/g);return Object.values(o??{}).forEach(i=>{const l=i.split("|")[1]||"",d=N(l),u=`<div class="img-preview ${s}"><img src="${d}" loading="lazy" alt="${a}" title="${a}" /></div>`;e=e.replace(`{imageUrl|${l}}`,l?u:"")}),e},insertObjectTypeLabel(e){const t=e.match(/\{optionValue\|[^}]+/g);return Object.values(t??{}).forEach(s=>{const a=s.split("|")[1],o=N(a),i=this.getObjectTypeLabelByOption(o);e=e.replace(`{optionValue|${a}}`,i)}),e},insertTwitterCardLabel(e){const t=e.match(/\{optionValue\|[^}]+/g);return Object.values(t??{}).forEach(s=>{const a=s.split("|")[1],o=N(a),i=this.getTwitterCardLabelByOption(o);e=e.replace(`{optionValue|${a}}`,i)}),e},buildCustomBreadcrumbSettings(e){const t=e.match(/\{.[^}]+}/g);return Object.values(t??{}).forEach(s=>{var w;const[a,o]=s.split("|"),i=a.replace("{",""),l=o.replace("}",""),d=(w=this.strings)==null?void 0:w[`breadcrumb${i}`];if(!d){e=e.replace(s,"");return}if(i.match(/separator|template|parentTemplate|taxonomy/)){e=e.replace(s,`
${d}: ${l}`);return}const u=`<input style="opacity:1" type="checkbox" disabled="disabled" ${l?'checked="checked"':""} />`;e=e.replace(s,`<span>${d}:</span> ${u}`)}),e},buildCustomRobotsSetting(e){const t=e.match(/\{.[^}]+}/g);return Object.values(t??{}).forEach(s=>{const[a,o]=s.split("|"),i=a.replace("{",""),l=o.replace("}",""),d=this.strings[`robots${i}`];if(i.match(/maxsnippet|maxvideopreview|maximagepreview/)){e=e.replace(s,`${d}: ${l}`);return}const u=`<input style="opacity:1" type="checkbox" disabled="disabled" ${l?'checked="checked"':""} />`;e=e.replace(s,`<span>${d}:</span> ${u}`)}),e},replaceSmartTags(e,t){let s=e.match(/#[a-zA-Z0-9_-]{3,}/g);return s&&(s=[...new Set(s)],s.forEach(a=>{const o=this.filteredTags(a,t),l=(0<o.length?o:this.globalSmartTags).find(d=>d.id===a.replace("#",""));l!=null&&l.name&&(e=e.replaceAll(a,`<span class="tag">${l.name}</span>`))})),e},filteredTags(e,t){const s=t.charAt(0).toUpperCase()+t.slice(1),a=`${this.itemContext}${s}`;return Object.prototype.hasOwnProperty.call(this.tagsStore.context,a)?this.tags.context(a):[]},parseFieldDiff(e,t){return e.indexOf("#")!==-1&&(e=this.replaceSmartTags(e,t)),(t==="og_image_type"||t==="twitter_image_type")&&(e=this.insertImageSourceLabel(e),e=this.insertImagePreview(e,t)),(t==="og_image_custom_url"||t==="twitter_image_custom_url")&&(e=this.insertImagePreview(e)),t==="og_object_type"&&(e=this.insertObjectTypeLabel(e)),t==="twitter_card"&&(e=this.insertTwitterCardLabel(e)),t==="robots_all_settings"&&(e=this.buildCustomRobotsSetting(e)),t==="breadcrumb_settings"&&(e=this.buildCustomBreadcrumbSettings(e)),e}},mounted(){this.$parent.isFetchingDiff=!0,this.seoRevisionsStore.fetchDiff({fromId:this.itemFromId,toId:this.itemToId}).finally(()=>{this.$parent.isFetchingDiff=!1})}},tt={class:"aioseo-seo-revisions-item-diff"},st=["innerHTML"],it=["innerHTML"];function ot(e,t,s,a,o,i){const l=v("core-alert");return c(),m("div",tt,[a.seoRevisionsStore.hasDiff?f("",!0):(c(),$(l,{key:0,type:"yellow"},{default:y(()=>[b(p(o.strings.noDifference),1)]),_:1})),(c(!0),m(k,null,M(a.seoRevisionsStore.seoRevisionsDiff,(d,u)=>(c(),m(k,null,[d.diff||!a.seoRevisionsStore.hasDiff?(c(),m("h3",{key:"label-"+u},p(d.label),1)):f("",!0),a.seoRevisionsStore.hasDiff?(c(),m("div",{innerHTML:i.parseFieldDiff(d.diff,d.key),key:"diff-"+u},null,8,st)):f("",!0),a.seoRevisionsStore.hasDiff?f("",!0):(c(),m("div",{innerHTML:i.parseFieldDiff(d.raw,d.key),key:"diff-"+u},null,8,it))],64))),256))])}const nt=S(et,[["render",ot],["__scopeId","data-v-ed2c105c"]]),x="aioseo-pro",at={setup(){return{seoRevisionsStore:R()}},components:{Controls:Fe,CoreAlert:j,CoreLoader:z,ItemMeta:Qe,ItemsDiff:nt},data(){var e,t;return{btnRestoreLoading:!1,isFetchingDiff:!1,itemFromId:((e=this.seoRevisionsStore.itemFrom)==null?void 0:e.id)||0,itemToId:(t=this.seoRevisionsStore.itemTo)==null?void 0:t.id,itemContext:this.seoRevisionsStore.itemContext||"",restoreFailed:!1,strings:{compareRevisionsOf:r("Compare Revisions of",x),from:r("From:",x),goToEditor:r("Go to editor",x),pleaseReload:r("Something went wrong. Please, reload the page and try again.",x),restoreRevision:r("Restore This Revision",x),to:r("To:",x)}}},computed:{btnRestoreDisabled(){return this.seoRevisionsStore.items[0].id===this.itemToId},itemIds(){return Z(this.seoRevisionsStore.items,"id")},itemFrom(){return this.seoRevisionsStore.items.find(e=>e.id===this.itemFromId)},itemTo(){return this.seoRevisionsStore.items.find(e=>e.id===this.itemToId)}},methods:{getNextItemById(e){const t=this.itemIds.indexOf(e);return this.seoRevisionsStore.items[t-1]||null},getPreviousItemById(e){const t=this.itemIds.indexOf(e);return this.seoRevisionsStore.items[t+1]||null},initRestore(){this.btnRestoreLoading=!0,this.seoRevisionsStore.restore({id:this.itemToId}).then(()=>(window.location.href=this.itemTo.urls.edit_object+"&aioseo-tab=seoRevisions",!1)).catch(()=>{this.restoreFailed=!0,this.btnRestoreLoading=!1})}}},rt={key:1,class:"aioseo-seo-revisions-comparison"},dt={class:"long-header"},lt={class:"text-truncate"},ct=["href"],mt=["href"],pt={class:"aioseo-seo-revisions-comparison__item-meta-wrapper"},ut={class:"aioseo-seo-revisions-comparison__diff"},ht={key:0,class:"loader"};function vt(e,t,s,a,o,i){const l=v("core-alert"),d=v("controls"),u=v("item-meta"),w=v("base-button"),C=v("items-diff"),F=v("core-loader");return a.seoRevisionsStore.error?(c(),$(l,{key:0,type:"red"},{default:y(()=>[b(p(a.seoRevisionsStore.error),1)]),_:1})):(c(),m("div",rt,[n("h1",dt,[b(p(o.strings.compareRevisionsOf)+" ",1),n("span",lt,[b("  “"),n("a",{href:i.itemTo.urls.edit_object},p(i.itemTo.object.title),9,ct),b("” ")])]),n("a",{href:i.itemTo.urls.edit_object},"← "+p(o.strings.goToEditor),9,mt),_(d,{"item-to":i.itemTo,"item-from":i.itemFrom},null,8,["item-to","item-from"]),n("div",pt,[i.itemFrom?(c(),$(u,{key:0,revision:i.itemFrom},{title:y(()=>[b(p(o.strings.from),1)]),_:1},8,["revision"])):f("",!0),_(u,{"is-current-version":o.itemToId===a.seoRevisionsStore.items[0].id,revision:i.itemTo},te({"btn-restore":y(()=>[_(w,{size:"small-table",type:"blue",disabled:i.btnRestoreDisabled,loading:o.btnRestoreLoading,onClick:t[0]||(t[0]=g(q=>i.initRestore(),["exact"]))},{default:y(()=>[b(p(o.strings.restoreRevision),1)]),_:1},8,["disabled","loading"])]),_:2},[i.itemFrom?{name:"title",fn:y(()=>[b(p(o.strings.to),1)]),key:"0"}:void 0]),1032,["is-current-version","revision"])]),o.restoreFailed?(c(),$(l,{key:0,type:"yellow","show-close":"",onCloseAlert:t[1]||(t[1]=q=>o.restoreFailed=!1)},{default:y(()=>[b(p(o.strings.pleaseReload),1)]),_:1})):f("",!0),n("div",ut,[_(C,{"item-from-id":o.itemFromId,"item-to-id":o.itemToId,"item-context":o.itemContext},null,8,["item-from-id","item-to-id","item-context"]),o.isFetchingDiff?(c(),m("div",ht,[_(F)])):f("",!0)])]))}const _t=S(at,[["render",vt],["__scopeId","data-v-d2cfe8af"]]),D="all-in-one-seo-pack",ft={components:{SvgSliderHandle:W},data(){return{strings:{compareTwoRevisions:r("Compare any two revisions",D),next:r("Next",D),previous:r("Previous",D)}}}},bt=e=>(O("data-v-3cd53777"),e=e(),L(),e),gt={class:"aioseo-seo-revisions-comparison__controls"},yt={class:"aioseo-seo-revisions-comparison__controls__compare-mode"},St=bt(()=>n("input",{type:"checkbox"},null,-1)),It={class:"aioseo-seo-revisions-comparison__controls__previous"},wt={class:"button",disabled:""},xt={class:"aioseo-seo-revisions-comparison__controls__slider"},$t={class:"marks"},Tt={class:"aioseo-seo-revisions-comparison__controls__slider__handle to",disabled:""},Rt={class:"aioseo-seo-revisions-comparison__controls__next"},Nt={class:"button",disabled:""};function kt(e,t,s,a,o,i){const l=v("svg-slider-handle");return c(),m("div",gt,[n("div",yt,[St,b(" "+p(o.strings.compareTwoRevisions),1)]),n("div",It,[n("button",wt,p(o.strings.previous),1)]),n("div",xt,[n("div",$t,[(c(),m(k,null,M(15,d=>n("div",{key:d})),64))]),n("button",Tt,[_(l)])]),n("div",Rt,[n("button",Nt,p(o.strings.next),1)])])}const Ht=S(ft,[["render",kt],["__scopeId","data-v-3cd53777"]]),H=e=>(O("data-v-2c5e7d56"),e=e(),L(),e),Ct={class:"aioseo-seo-revisions-comparison__item-meta"},Ft={class:"aioseo-seo-revisions-comparison__item-meta__col"},Et={class:"aioseo-seo-revisions-comparison__item-meta__author-avatar"},Bt={class:"aioseo-seo-revisions-comparison__item-meta__col"},Dt={class:"aioseo-wrapper"},Pt={class:"aioseo-seo-revisions-comparison__item-meta__author"},Mt=H(()=>n("span",null," Revision by ",-1)),Ot=H(()=>n("div",{class:"aioseo-seo-revisions-comparison__item-meta__note"}," SEO Revision note ",-1)),Lt=H(()=>n("button",{class:"aioseo-seo-revisions-comparison__item-meta__btn-edit-note"}," Edit Note ",-1)),Vt=H(()=>n("div",{class:"aioseo-seo-revisions-comparison__item-meta__date"}," 1 week ago (2 Dec, 2022 @ 18:28:57) ",-1)),At={class:"aioseo-seo-revisions-comparison__item-meta__col"},Ut={__name:"ItemMeta",setup(e){const{currentUser:t}=A(R());return(s,a)=>(c(),m("div",Ct,[n("div",Ft,[n("div",Et,[_(I(K),{src:I(t).avatar.url,size:I(t).avatar.size},null,8,["src","size"])])]),n("div",Bt,[n("div",Dt,[n("div",Pt,[Mt,n("span",null,p(I(t).display_name),1)]),Ot,Lt]),Vt]),n("div",At,[P(s.$slots,"btn-restore",{},void 0,!0)])]))}},jt=S(Ut,[["__scopeId","data-v-2c5e7d56"]]),zt={},Kt={class:"aioseo-seo-revisions-item-diff"},Wt=se('<h3 data-v-499413e7>SEO Title</h3><div data-v-499413e7><table class="diff is-split-view" data-v-499413e7><tbody data-v-499413e7><tr data-v-499413e7><td class="diff-deletedline" data-v-499413e7><span aria-hidden="true" class="dashicons dashicons-minus" data-v-499413e7></span><span class="tag" data-v-499413e7>Post Title</span><span class="tag" data-v-499413e7>Separator</span><del data-v-499413e7><span class="tag" data-v-499413e7>Site Title</span></del></td><td class="diff-addedline" data-v-499413e7><span aria-hidden="true" class="dashicons dashicons-plus" data-v-499413e7></span><span class="tag" data-v-499413e7>Post Title</span><span class="tag" data-v-499413e7>Separator</span><ins data-v-499413e7><span class="tag" data-v-499413e7>Tagline</span></ins></td></tr></tbody></table></div><h3 data-v-499413e7>SEO Description</h3><div data-v-499413e7><table class="diff is-split-view" data-v-499413e7><tbody data-v-499413e7><tr data-v-499413e7><td class="diff-deletedline" data-v-499413e7><span aria-hidden="true" class="dashicons dashicons-minus" data-v-499413e7></span><del data-v-499413e7><span data-v-499413e7>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&#39;s standard dummy text ever since the 1500s.</span></del></td><td class="diff-addedline" data-v-499413e7><span aria-hidden="true" class="dashicons dashicons-plus" data-v-499413e7></span><ins data-v-499413e7><span data-v-499413e7>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&#39;s standard dummy text ever since the 1500s.</span></ins></td></tr></tbody></table></div><h3 data-v-499413e7>Focus Keyword</h3><div data-v-499413e7><table class="diff is-split-view" data-v-499413e7><tbody data-v-499413e7><tr data-v-499413e7><td class="diff-deletedline" data-v-499413e7><span aria-hidden="true" class="dashicons dashicons-minus" data-v-499413e7></span><del data-v-499413e7><span data-v-499413e7>Apple Pie</span></del></td><td class="diff-addedline" data-v-499413e7><span aria-hidden="true" class="dashicons dashicons-plus" data-v-499413e7></span><ins data-v-499413e7><span data-v-499413e7>Apple Pie</span></ins></td></tr></tbody></table></div><h3 data-v-499413e7>Additional Keywords</h3><div data-v-499413e7><table class="diff is-split-view" data-v-499413e7><tbody data-v-499413e7><tr data-v-499413e7><td class="diff-deletedline" data-v-499413e7><span aria-hidden="true" class="dashicons dashicons-minus" data-v-499413e7></span><del data-v-499413e7><span data-v-499413e7>Assistance</span></del><br data-v-499413e7><del data-v-499413e7><span data-v-499413e7>Explanation</span></del><br data-v-499413e7><del data-v-499413e7><span data-v-499413e7>Inspector</span></del><br data-v-499413e7><del data-v-499413e7><span data-v-499413e7>Championship</span></del><br data-v-499413e7><span data-v-499413e7>Smile</span></td><td class="diff-addedline" data-v-499413e7><span aria-hidden="true" class="dashicons dashicons-plus" data-v-499413e7></span><ins data-v-499413e7><span data-v-499413e7>Perspective</span></ins><br data-v-499413e7><ins data-v-499413e7><span data-v-499413e7>Family</span></ins><br data-v-499413e7><ins data-v-499413e7><span data-v-499413e7>Priority</span></ins><br data-v-499413e7><ins data-v-499413e7><span data-v-499413e7>Independence</span></ins><br data-v-499413e7><span data-v-499413e7>Smile</span></td></tr></tbody></table></div>',8),qt=[Wt];function Gt(e,t){return c(),m("div",Kt,qt)}const Xt=S(zt,[["render",Gt],["__scopeId","data-v-499413e7"]]),V="all-in-one-seo-pack",Yt={components:{Controls:Ht,CoreBlur:ce,ItemMeta:jt,ItemsDiff:Xt,SeoRevisionsUpsell:le},data(){return{strings:{compareRevisionsOf:r("Compare Revisions of",V),goToEditor:r("Go to editor",V)}}}},Zt={class:"aioseo-seo-revisions-comparison"},Jt={class:"long-header"},Qt={class:"aioseo-seo-revisions-comparison__item-meta-wrapper"},es={class:"aioseo-seo-revisions-comparison__diff"};function ts(e,t,s,a,o,i){const l=v("controls"),d=v("base-button"),u=v("item-meta"),w=v("items-diff"),C=v("core-blur"),F=v("seo-revisions-upsell");return c(),m("div",Zt,[n("h1",Jt,[b(p(o.strings.compareRevisionsOf)+" “ ",1),n("a",{href:"#",onClick:t[0]||(t[0]=g(()=>{},["prevent"]))}," 8 Link Building Strategies You Need to Know "),b(" ” ")]),n("a",{href:"#",onClick:t[1]||(t[1]=g(()=>{},["prevent"]))}," ← "+p(o.strings.goToEditor),1),_(l),_(C,null,{default:y(()=>[n("div",Qt,[_(u,null,{"btn-restore":y(()=>[_(d,{size:"small-table",disabled:!0},{default:y(()=>[b(" Restore This Revision ")]),_:1})]),_:1})]),n("div",es,[_(w)])]),_:1}),_(F,{"parent-component-context":"comparison-ui"})])}const ss=S(Yt,[["render",ts],["__scopeId","data-v-5530d74a"]]),is={class:"wrap"},ks={__name:"Main",setup(e){const{isUnlicensed:t}=A(Y());return(s,a)=>(c(),m("div",is,[I(t)?(c(),$(I(ss),{key:1})):(c(),$(I(_t),{key:0}))]))}};export{ks as default};
