import{H as B}from"./index.6205915e.js";import{u as O}from"./Wizard.3a3eef07.js";import{B as T}from"./Checkbox.257eede7.js";import{C as U}from"./ProBadge.3bfca56c.js";import{G as E,a as L}from"./Row.8a74cb5b.js";import{W as q,a as F,b as G}from"./Header.4e316309.js";import{W as I}from"./CloseAndExit.19db804d.js";import{_ as D}from"./Steps.8c31491a.js";import"./translations.e71e2202.js";import{_ as H}from"./_plugin-vue_export-helper.eefbdd86.js";import{u as R}from"./SetupWizardStore.9eae9488.js";import{_ as p,a as g}from"./default-i18n.65d58dd6.js";import{a3 as _,q as t,w as n,a7 as r,o as h,a4 as c,a as f,t as u,F as j,af as J,c as K,b as W,ae as M}from"./runtime-core.esm-bundler.50cb9e6d.js";import"./helpers.7981a424.js";import"./addons.e4da3407.js";import"./upperFirst.ef347579.js";import"./Checkmark.6216abdd.js";import"./runtime-dom.esm-bundler.36191dca.js";import"./Logo.3db92090.js";import"./Index.c396c06e.js";import"./Close.650e0e8f.js";const m="all-in-one-seo-pack",Q={setup(){const{features:e,needsUpsell:i,strings:a}=O({stage:"features"});return{composableStrings:a,features:e,needsUpsell:i,setupWizardStore:R()}},components:{BaseCheckbox:T,CoreProBadge:U,GridColumn:E,GridRow:L,WizardBody:q,WizardCloseAndExit:I,WizardContainer:F,WizardHeader:G,WizardSteps:D},data(){return{loading:!1,strings:B(this.composableStrings,{whichFeatures:p("Which SEO features do you want to enable?",m),description:p("We have already selected our recommended features based on your site category, but you can use the following features to fine-tune your site.",m)})}},computed:{showPluginsAll(){return(this.setupWizardStore.features.includes("analytics")||this.setupWizardStore.features.includes("broken-link-checker")||this.setupWizardStore.features.includes("conversion-tools"))&&(this.setupWizardStore.features.includes("aioseo-eeat")||this.setupWizardStore.features.includes("aioseo-image-seo")||this.setupWizardStore.features.includes("aioseo-index-now")||this.setupWizardStore.features.includes("aioseo-link-assistant")||this.setupWizardStore.features.includes("aioseo-local-business")||this.setupWizardStore.features.includes("aioseo-news-sitemap")||this.setupWizardStore.features.includes("aioseo-rest-api")||this.setupWizardStore.features.includes("aioseo-video-sitemap"))},showPluginsAddons(){return(!this.setupWizardStore.features.includes("analytics")||!this.setupWizardStore.features.includes("broken-link-checker")||!this.setupWizardStore.features.includes("conversion-tools"))&&(this.setupWizardStore.features.includes("aioseo-eeat")||this.setupWizardStore.features.includes("aioseo-image-seo")||this.setupWizardStore.features.includes("aioseo-index-now")||this.setupWizardStore.features.includes("aioseo-link-assistant")||this.setupWizardStore.features.includes("aioseo-local-business")||this.setupWizardStore.features.includes("aioseo-news-sitemap")||this.setupWizardStore.features.includes("aioseo-rest-api")||this.setupWizardStore.features.includes("aioseo-video-sitemap"))},showPluginsOnly(){return(this.setupWizardStore.features.includes("analytics")||this.setupWizardStore.features.includes("broken-link-checker")||this.setupWizardStore.features.includes("conversion-tools"))&&!this.setupWizardStore.features.includes("aioseo-eeat")&&!this.setupWizardStore.features.includes("aioseo-image-seo")&&!this.setupWizardStore.features.includes("aioseo-index-now")&&!this.setupWizardStore.features.includes("aioseo-link-assistant")&&!this.setupWizardStore.features.includes("aioseo-local-business")&&!this.setupWizardStore.features.includes("aioseo-news-sitemap")&&!this.setupWizardStore.features.includes("aioseo-rest-api")&&!this.setupWizardStore.features.includes("aioseo-video-sitemap")},getPluginsText(){return this.showPluginsOnly?g(p("The following plugins will be installed: %1$s",m),this.getPluginNames):this.showPluginsAddons?g(p("The following %1$s addons will be installed: %2$s",m),"AIOSEO",this.getPluginNames):this.showPluginsAll?g(p("The following plugins and %1$s addons will be installed: %2$s",m),"AIOSEO",this.getPluginNames):null},getPluginNames(){const e=[];this.features.forEach(o=>{this.setupWizardStore.features.includes(o.value)&&o.pluginName&&e.push(o.pluginName)});let i="";return 1<e.length?i=g(p(" and %1$s",m),e[e.length-1]):i=e[e.length-1],delete e[e.length-1],e.join(", ").replace(/(^[,\s]+)|([,\s]+$)/g,"")+i}},methods:{preventUncheck(e,i){i.required&&(e.preventDefault(),e.stopPropagation())},getValue(e){return this.setupWizardStore.features.includes(e.value)},updateValue(e,i){const a=[...this.setupWizardStore.features];if(e){a.push(i.value),this.setupWizardStore.features=a;return}const o=a.findIndex(l=>l===i.value);o!==-1&&a.splice(o,1),this.setupWizardStore.features=a},saveAndContinue(){this.loading=!0,this.setupWizardStore.saveWizard("features").then(()=>{this.$router.push(this.setupWizardStore.getNextLink)})}}},X={class:"aioseo-wizard-features"},Y={class:"header"},Z={class:"description"},$={class:"settings-name"},ee={class:"name small-margin"},se={class:"aioseo-description-text"},te={key:0,class:"aioseo-installs-text"},ie={class:"go-back"},oe=c("div",{class:"spacer"},null,-1),re={key:0,class:"plugins"};function ae(e,i,a,o,l,d){const k=r("wizard-header"),b=r("wizard-steps"),v=r("core-pro-badge"),S=r("grid-column"),y=r("base-checkbox"),x=r("grid-row"),w=r("router-link"),P=r("base-button"),C=r("wizard-body"),N=r("wizard-close-and-exit"),A=r("wizard-container");return h(),_("div",X,[t(k),t(A,null,{default:n(()=>[t(C,null,{footer:n(()=>[c("div",ie,[t(w,{to:o.setupWizardStore.getPrevLink,class:"no-underline"},{default:n(()=>[f("←")]),_:1},8,["to"]),f("   "),t(w,{to:o.setupWizardStore.getPrevLink},{default:n(()=>[f(u(l.strings.goBack),1)]),_:1},8,["to"])]),oe,t(P,{type:"blue",loading:l.loading,onClick:d.saveAndContinue},{default:n(()=>[f(u(l.strings.saveAndContinue)+" →",1)]),_:1},8,["loading","onClick"])]),default:n(()=>[t(b),c("div",Y,u(l.strings.whichFeatures),1),c("div",Z,u(l.strings.description),1),(h(!0),_(j,null,J(o.features,(s,V)=>(h(),_("div",{key:V,class:"feature-grid small-padding medium-margin"},[t(x,null,{default:n(()=>[t(S,{xs:"11"},{default:n(()=>[c("div",$,[c("div",ee,[f(u(s.name)+" ",1),o.needsUpsell(s)?(h(),K(v,{key:0})):W("",!0)]),c("div",se,u(s.description),1),s.installs&&d.getValue(s)?(h(),_("div",te,u(s.installs),1)):W("",!0)])]),_:2},1024),t(S,{xs:"1"},{default:n(()=>[t(y,{round:"",class:M({"no-clicks":s.required}),type:s.required?"green":"blue",modelValue:s.required?!0:d.getValue(s),"onUpdate:modelValue":z=>d.updateValue(z,s),onClick:z=>d.preventUncheck(z,s)},null,8,["class","type","modelValue","onUpdate:modelValue","onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1}),d.getPluginsText?(h(),_("div",re,u(d.getPluginsText),1)):W("",!0),t(N)]),_:1})])}const Ce=H(Q,[["render",ae]]);export{Ce as default};
