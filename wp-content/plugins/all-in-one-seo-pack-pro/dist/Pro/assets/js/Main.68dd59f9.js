import{t as Y,n as de,ac as Pe,aG as M,w as qe,a as pe,b as ee,c as me,j as _e}from"./index.6205915e.js";import Ke from"./AnalyzeCompetitorSite.48a83063.js";import{C as Fe}from"./Index.5b884c4d.js";import Me from"./SeoHomepageAudit.8b6a17c1.js";import{G as ge}from"./constants.41876895.js";import{C as Z}from"./Card.1db76325.js";import{C as Le}from"./DonutChartWithLegend.b47bcd11.js";import{C as se}from"./Button.898cae57.js";import{C as N}from"./Tooltip.e5a30815.js";import{u as Re}from"./vue-router.d5648d95.js";import{C as Ie}from"./Tabs.c595cb5a.js";import{S as ce}from"./Caret.19d3d4d0.js";import{T as je}from"./Slide.25bc4286.js";import{u as ye}from"./WpTable.f468475f.js";import{S as He}from"./Info.b162850e.js";import"./translations.e71e2202.js";import{_ as E}from"./_plugin-vue_export-helper.eefbdd86.js";import{_ as i,a as Ne}from"./default-i18n.65d58dd6.js";import{$ as q,o as s,a3 as c,q as b,w as u,a4 as m,t as r,ae as V,a as z,u as e,b as p,a1 as G,j as he,c as f,F as W,af as ne,r as fe,a7 as ue,a8 as ve,a2 as Ee,a6 as Ve}from"./runtime-core.esm-bundler.50cb9e6d.js";import{C as be}from"./Table.1b1f3bb9.js";import{g as Oe,a as ze}from"./utils.8b91fbf4.js";import{w as Te,a as Ge}from"./runtime-dom.esm-bundler.36191dca.js";import{a as Be,S as Ye}from"./Pencil.1f4e936a.js";import{S as Qe}from"./Information.2306f29d.js";import{S as ke}from"./Trash.544ebd43.js";import{S as We}from"./Gear.a13073cd.js";import{B as ie}from"./Checkbox.257eede7.js";import{C as Je}from"./PostStatusOptions.b854de95.js";import{C as Se}from"./PostTypeOptions.4b62aad5.js";import{C as le}from"./SettingsRow.91d13113.js";import{C as Ae}from"./Blur.73468424.js";import Xe from"./HeadlineAnalyzer.168775dd.js";import"./helpers.7981a424.js";import"./ScrollTo.81bea8a7.js";import"./SeoSiteScore.13fd3035.js";import"./Score.1e574038.js";import"./iphone-frame.5f1a5476.js";import"./GoogleSearchPreview.3c490476.js";import"./Url.7104ea0a.js";import"./Refresh.49ba0458.js";import"./Close.650e0e8f.js";import"./DonutChart.72b027fd.js";import"./AnimatedNumber.1915c79b.js";import"./numbers.cdba2587.js";import"./Loading.80cd60d2.js";import"./license.e878a1e9.js";import"./upperFirst.ef347579.js";/* empty css             */import"./params.af7ed354.js";import"./Index.92195ca4.js";import"./Header.cc570419.js";import"./addons.e4da3407.js";import"./ScrollAndHighlight.9d04f4c8.js";import"./LicenseKeyBar.f2128965.js";import"./LogoGear.f137eced.js";import"./Logo.3db92090.js";import"./Support.67fe7386.js";import"./date.7f7d62d0.js";import"./datetime.f197aeae.js";import"./Exclamation.f6d05b84.js";import"./Analyze.5089c4c6.js";import"./Index.7d1eb916.js";import"./Index.d517260b.js";import"./Book.e78c9ce0.js";import"./Lab.5125a4e1.js";import"./ProBadge.3bfca56c.js";import"./Download.dffd952f.js";import"./Checkmark.6216abdd.js";import"./HighlightToggle.cd602d8b.js";import"./Radio.77d8ed70.js";import"./Row.8a74cb5b.js";import"./PostTypes.4e006733.js";import"./List.6b9e55e3.js";const Ze={key:0,class:"aioseo-seo-analysis-post-status-badge"},es={__name:"PostStatusBadge",props:{status:{type:String,required:!0}},setup(x){const o="all-in-one-seo-pack",t=x,a={tooltip:i("The results for this post may be inaccurate or vary slightly until the post is published.",o)},l=q(()=>t.status==="future"?i("Scheduled",o):t.status.toUpperCase());return(S,n)=>["draft","private","pending","future"].includes(t.status)?(s(),c("div",Ze,[b(e(N),null,{tooltip:u(()=>[m("span",null,r(a.tooltip),1)]),default:u(()=>[m("span",{class:V(["aioseo-seo-analysis-post-status-badge__status",t.status])},[z(r(l.value)+" ",1),b(e(He))],2)]),_:1})])):p("",!0)}},we=E(es,[["__scopeId","data-v-d5a4d223"]]),ss={class:"result-body"},ts={key:0,class:"result-body-loading"},os={class:"content-type"},as={class:"aioseo-seo-site-analysis-issues-item__post-title"},ns=["innerHTML"],is={key:0,class:"row-actions"},ls={key:0},rs=["href"],cs={key:1},us={key:2},ds=["href"],ps={key:0,class:"issue"},ms={key:1,class:"issue-content"},_s=["innerHTML"],gs={key:0,class:"aioseo-seo-site-analysis-issues-item__row-actions"},ys=["href"],hs={target:"_blank",class:"aioseo-button disabled black small"},fs=["onClick"],vs={target:"_blank",class:"aioseo-button disabled black small"},$e="seoAnalysis",bs={__name:"SiteAuditIssueRowTable",props:{result:{type:Object,required:!0}},setup(x){const o="aioseo-pro",t=x,a=G(!1),l=Y(),S=de(),n={fixActionText:i("Fix",o),fixActionTooltipText:i("You don't have the required permission to fix this issue.",o),ignoreActionText:i("Ignore",o),ignoreActionTooltipText:i("You don't have the required permission to ignore this issue.",o),viewObject:i("View",o),editObject:i("Edit",o)},{pageNumber:y,processFilterTable:_,processPagination:A,processChangeItemsPerPage:v,processSearch:D,searchTerm:B,wpTableKey:I,wpTableLoading:L}=ye({changeItemsPerPageSlug:"seoAnalysis",fetchData:l.fetchPostsByIssue,tableId:$e}),R=q(()=>{var d;const T={slug:"title",label:i("Title",o),width:"100%"},U={slug:"issue",label:i("Issue",o),width:"100%"},h={slug:"actions",label:"",width:"180px"},K=l.issuesResults.auditItemResults[t.result.code].hasIssueDetails?[T,U]:[T];return((d=t.result)==null?void 0:d.status)!=="passed"&&K.push(h),K});function P(T){var K,d;if(!["author-bio-missing","author-bio-ok"].includes(T.code))return T.fixLink+(((K=M.strings[T.code])==null?void 0:K.fixActionParams)||"");const h=T.fixLink.includes("profile.php")?"?":"&";return T.fixLink+h+(((d=M.strings[T.code])==null?void 0:d.fixActionParams)||"")}function k(T){A(T)}function w(T){D(T)}function C(T){v(T)}function O(T,U){l.doIgnoreIssue(T,U),t.result.count=t.result.count-1}return he(()=>{_({slug:t.result.code}),setTimeout(()=>{a.value=!0},500)}),(T,U)=>{var h,K;return s(),c("div",ss,[!((h=e(l))!=null&&h.issuesResults.auditItemResults[t.result.code])||!a.value?(s(),c("div",ts,[b(e(se))])):p("",!0),(K=e(l))!=null&&K.issuesResults.auditItemResults[t.result.code]&&a.value?(s(),f(e(be),{ref:"'seoAnalysisIssuesByObjectCodeTable'",class:"posts-table",id:$e,columns:R.value,"initial-page-number":e(y),"initial-items-per-page":e(S).settings.tablePagination.seoAnalysis,"initial-search-term":e(B),"show-bulk-actions":!1,"show-items-per-page":"",key:e(I),loading:e(L),rows:e(l).issuesResults.auditItemResults[t.result.code].rows,totals:e(l).issuesResults.auditItemResults[t.result.code].totals,onPaginate:k,onProcessChangeItemsPerPage:C,onSearch:w},{content_type:u(({row:d})=>[m("span",os,r(d.type),1)]),title:u(({row:d})=>[m("div",as,[m("span",{innerHTML:e(Pe)(d.title)},null,8,ns),d.status?(s(),f(e(we),{key:0,status:d.status},null,8,["status"])):p("",!0)]),d.permalink||d.editLink?(s(),c("div",is,[d.permalink?(s(),c("span",ls,[m("a",{class:"view",href:d.permalink,target:"_blank",rel:"noopener noreferrer"},[m("span",null,r(n.viewObject)+" "+r(d.subtype.label),1)],8,rs)])):p("",!0),d.permalink&&d.editLink?(s(),c("span",cs," | ")):p("",!0),d.editLink?(s(),c("span",us,[m("a",{class:"edit",href:d.editLink,target:"_blank",rel:"noopener noreferrer"},[m("span",null,r(n.editObject)+" "+r(d.subtype.label),1)],8,ds)])):p("",!0)])):p("",!0)]),issue:u(({row:d})=>{var Q,te,oe,J,ae;return[d!=null&&d.metadata?(s(),c("span",ps,r((te=(Q=e(M).strings[d.code])==null?void 0:Q.text)==null?void 0:te.call(Q,d==null?void 0:d.metadata)),1)):p("",!0),d!=null&&d.metadata&&((oe=e(M).strings[d.code])!=null&&oe.content)&&((J=e(M).strings[d.code])!=null&&J.content(d==null?void 0:d.metadata).length)?(s(),c("div",ms,[m("pre",null,[z("						"),m("code",{innerHTML:(ae=e(M).strings[d.code])==null?void 0:ae.content(d==null?void 0:d.metadata)},null,8,_s),z(`
					`)])])):p("",!0)]}),actions:u(({row:d})=>[(d==null?void 0:d.status)!=="passed"?(s(),c("div",gs,[d.fixLink?(s(),c("a",{key:0,href:P(d),target:"_blank",class:"aioseo-button blue small"},r(n.fixActionText),9,ys)):p("",!0),d.fixLink?p("",!0):(s(),f(e(N),{key:1},{tooltip:u(()=>[z(r(n.fixActionTooltipText),1)]),default:u(()=>[m("a",hs,r(n.fixActionText),1)]),_:1})),d.fixLink?(s(),c("button",{key:2,type:"button",class:"aioseo-button gray small",onClick:Q=>O(d,e(l).issuesResults.auditItemResults[t.result.code])},r(n.ignoreActionText),9,fs)):p("",!0),d.fixLink?p("",!0):(s(),f(e(N),{key:3},{tooltip:u(()=>[z(r(n.ignoreActionTooltipText),1)]),default:u(()=>[m("a",vs,r(n.ignoreActionText),1)]),_:1}))])):p("",!0)]),_:1},8,["columns","initial-page-number","initial-items-per-page","initial-search-term","loading","rows","totals"])):p("",!0)])}}},ks=E(bs,[["__scopeId","data-v-9c90db3f"]]),Ts={class:"aioseo-seo-site-analysis-issues-item"},Ss={class:"aioseo-seo-site-analysis-issues-item__header"},As={class:"aioseo-seo-site-analysis-issues-item__content"},$s={key:0,class:"site-audit-issue-description"},re={__name:"SiteAuditIssueRow",props:{result:{type:Object,required:!0},showIssueColumn:{type:Boolean,required:!1},activeRow:{type:Boolean,required:!1}},emits:["toggleActive"],setup(x,{emit:o}){const t=o,a=x,l=M,S=q(()=>{var _;return(_=l.strings[a.result.code])==null?void 0:_.title}),n=q(()=>{var _;return(_=l.strings[a.result.code])==null?void 0:_.description});function y(){t("toggleActive")}return(_,A)=>(s(),c("div",Ts,[m("div",Ss,[m("span",{class:V(["result-status",a.result.status])},null,2),m("div",As,r(S.value||""),1),m("div",{class:V(["result-toggle",{active:x.activeRow}]),onClick:y},[b(e(ce))],2)]),b(e(je),{active:x.activeRow},{default:u(()=>[n.value?(s(),c("p",$s,r(n.value),1)):p("",!0),b(ks,{result:a.result},null,8,["result"])]),_:1},8,["active"])]))}},xs={class:"aioseo-seo-site-analysis-issues"},Cs={key:0,class:"no-results"},Ps={class:"group-header"},Ls={class:"group-header"},Rs={class:"group-header"},Is={__name:"SiteAuditIssueGroups",props:{section:{type:String,required:!0},allResults:{type:Object,required:!0}},setup(x){const o="all-in-one-seo-pack",t=x,a=G(null),l=q(()=>M.getFilteredResults(t.allResults,t.section)),S=q(()=>Object.keys(l.value).every(_=>l.value[_].length===0));function n(_){if(a.value===_){a.value=null;return}a.value=_}function y(_){switch(_){case"basic":return i("Basic SEO",o);case"advanced":return i("Advanced SEO",o);case"performance":return i("Performance SEO",o)}}return(_,A)=>{var v,D,B,I,L,R;return s(),c("div",xs,[S.value?(s(),c("div",Cs,r(e(i)("No items found.",e(o))),1)):(s(),c(W,{key:1},[((D=(v=l.value)==null?void 0:v.basic)==null?void 0:D.length)>0?(s(),c(W,{key:0},[m("div",Ps,r(y("basic")),1),(s(!0),c(W,null,ne(l.value.basic,(P,k)=>(s(),f(re,{key:`${k}-${P.code}`,result:P,"active-row":a.value===`basic-${k}`,onToggleActive:w=>n(`basic-${k}`)},null,8,["result","active-row","onToggleActive"]))),128))],64)):p("",!0),((I=(B=l.value)==null?void 0:B.advanced)==null?void 0:I.length)>0?(s(),c(W,{key:1},[m("div",Ls,r(y("advanced")),1),(s(!0),c(W,null,ne(l.value.advanced,(P,k)=>(s(),f(re,{key:`${k}-${P.code}`,result:P,"active-row":a.value===`advanced-${k}`,onToggleActive:w=>n(`advanced-${k}`)},null,8,["result","active-row","onToggleActive"]))),128))],64)):p("",!0),((R=(L=l.value)==null?void 0:L.performance)==null?void 0:R.length)>0?(s(),c(W,{key:2},[m("div",Rs,r(y("performance")),1),(s(!0),c(W,null,ne(l.value.performance,(P,k)=>(s(),f(re,{key:`${k}-${P.code}`,result:P,"active-row":a.value===`performance-${k}`,onToggleActive:w=>n(`performance-${k}`)},null,8,["result","active-row","onToggleActive"]))),128))],64)):p("",!0)],64))])}}},Os=E(Is,[["__scopeId","data-v-9037681f"]]),zs={class:"aioseo-seo-audit-all-checks"},Bs={key:0,class:"aioseo-seo-audit-all-checks__loader"},ws={key:1,class:"label"},Us={__name:"SiteAuditAllChecksTab",setup(x){const o=Y(),t=Re(),a=G(!1),l=q(()=>{var _;const n=Oe({error:o.criticalCount("site")??0,warning:o.recommendedCount("site")??0,good:o.goodCount("site")??0}).filter(A=>0<A.analyze.count);if(!n.length)return n;const y=(_=t==null?void 0:t.query)==null?void 0:_.tab;return y&&n.find(A=>A.slug===y)?o.changeSiteAuditTab(y):o.changeSiteAuditTab(n[0].slug),n});function S(n){a.value||(a.value=!0,o.changeSiteAuditTab(n),setTimeout(()=>{a.value=!1},50))}return(n,y)=>{var _,A;return s(),c("div",zs,[(_=e(o).issuesResults)!=null&&_.isLoading?(s(),c("div",Bs,[b(e(se),{dark:""})])):(s(),f(e(Ie),{key:1,tabs:l.value,showSaveButton:!1,active:e(o).siteAudit.activeTab,internal:"",onChanged:S,"skinny-tabs":""},{"var-tab":u(({tab:v})=>[v!=null&&v.analyze?(s(),c("span",{key:0,class:V(["icon",v.analyze.classColor])},[(s(),f(fe(v.icon)))],2)):p("",!0),v!=null&&v.analyze?(s(),c("span",ws,r(v.label)+" ("+r(v.analyze.count||0)+") ",1)):p("",!0)]),_:1},8,["tabs","active"])),e(o).issuesResults.auditItems&&!((A=e(o).issuesResults)!=null&&A.isLoading)&&e(o).siteAudit.activeTab!=="all-urls"&&e(o).siteAudit.activeTab!=="settings-audit"?(s(),f(e(Os),{key:e(o).siteAudit.activeTab,section:e(o).siteAudit.activeTab,"all-results":e(o).issuesResults.auditItems},null,8,["section","all-results"])):p("",!0)])}}},Ds=E(Us,[["__scopeId","data-v-e207ecc7"]]),qs={__name:"Badge",props:{color:{type:String,default:"black",description:"Badge color(green|red|orange|black)"},text:{type:[String,Number],default:"",description:"Badge text"}},setup(x){return(o,t)=>(s(),c("span",{class:V(["aioseo-badge round",x.color])},r(x.text),3))}},Ks=E(qs,[["__scopeId","data-v-64238476"]]),Fs={class:"aioseo-seo-site-analysis-url-details"},Ms={key:0,class:"result-body"},js={class:"result-body-loading"},Hs={key:1,class:"aioseo-seo-site-analysis-url-details-results"},Ns={class:"title"},Es={key:0,class:"aioseo-seo-site-analysis-url-details-results__row-actions"},Vs=["href"],Gs={target:"_blank",class:"aioseo-button disabled black small"},Ys=["onClick"],Qs={target:"_blank",class:"aioseo-button disabled black small"},xe="aioseo-seo-analysis-issues-posts-report-wp-table",Ws={__name:"SiteAuditUrlDetails",props:{result:{type:Object,required:!0}},setup(x){const o="aioseo-pro",t=x,a=Y(),l=G(null),S={fixActionText:i("Fix",o),fixActionTooltipText:i("You don't have the required permission to fix this issue.",o),ignoreActionText:i("Ignore",o),ignoreActionTooltipText:i("You don't have the required permission to ignore this issue.",o)},n=`${t.result.id}-${t.result.type.toLowerCase()}`,{pageNumber:y,processFilterTable:_,processSearch:A,searchTerm:v,wpTableKey:D,wpTableLoading:B}=ye({fetchData:a.fetchIssuesByObject,resultsPerPage:a.resultsperPage,tableId:xe,tableRef:l.value}),I=q(()=>[{slug:"icon",label:"",width:"44px"},{slug:"title",label:i("Issues",o),width:"100%"},{slug:"actions",label:"",width:"180px"}]);function L(C){var O;return(O=M.strings[C.code])==null?void 0:O.title}function R(C){var O;return(O=M.strings[C.code])==null?void 0:O.description}function P(C){var U,h;if(!["author-bio-missing","author-bio-ok"].includes(C.code))return C.fixLink+(((U=M.strings[C.code])==null?void 0:U.fixActionParams)||"");const T=C.fixLink.includes("profile.php")?"?":"&";return C.fixLink+T+(((h=M.strings[C.code])==null?void 0:h.fixActionParams)||"")}function k(C){A(C)}function w(C,O){a.doIgnoreIssue(C,O),(C==null?void 0:C.status)==="error"&&(t.result.count=t.result.count-1)}return he(()=>{_({slug:t.result})}),(C,O)=>{var T,U;return s(),c("div",Fs,[(T=e(a))!=null&&T.allUrlsResults.auditItemResults[n]?p("",!0):(s(),c("div",Ms,[m("div",js,[b(e(se))])])),(U=e(a))!=null&&U.allUrlsResults.auditItemResults[n]?(s(),c("div",Hs,[(s(),f(e(be),{ref_key:"table",ref:l,class:"posts-table",id:xe,columns:I.value,"initial-page-number":e(y),"initial-search-term":e(v),"show-bulk-actions":!1,"show-pagination":!1,key:e(D),loading:e(B),rows:e(a).allUrlsResults.auditItemResults[n].rows,totals:e(a).allUrlsResults.auditItemResults[n].totals,"hide-top-pagination":!0,onSearch:k,"show-search":!1},{icon:u(({row:h})=>[m("div",{class:V(["aioseo-seo-site-analysis-url-details-results__result-icon",`${h.status}-status`])},[h.status==="passed"?(s(),f(e(Be),{key:0})):h.status==="error"?(s(),f(e(Ye),{key:1})):h.status==="warning"?(s(),f(e(Qe),{key:2})):(s(),f(e(We),{key:3}))],2)]),title:u(({row:h})=>{var K;return[m("div",Ns,[z(r(L(h))+" ",1),(K=R(h))!=null&&K.length&&(h==null?void 0:h.status)!=="passed"?(s(),f(e(N),{key:0},{tooltip:u(()=>[z(r(R(h)),1)]),default:u(()=>[b(e(ke))]),_:2},1024)):p("",!0)])]}),actions:u(({row:h})=>[(h==null?void 0:h.status)!=="passed"?(s(),c("div",Es,[h.fixLink?(s(),c("a",{key:0,href:P(h),target:"_blank",class:"aioseo-button blue small"},r(S.fixActionText),9,Vs)):p("",!0),h.fixLink?p("",!0):(s(),f(e(N),{key:1},{tooltip:u(()=>[z(r(S.fixActionTooltipText),1)]),default:u(()=>[m("a",Gs,r(S.fixActionText),1)]),_:1})),h.fixLink?(s(),c("button",{key:2,type:"button",class:"aioseo-button gray small",onClick:K=>w(h,e(a).allUrlsResults.auditItemResults[n])},r(S.ignoreActionText),9,Ys)):p("",!0),h.fixLink?p("",!0):(s(),f(e(N),{key:3},{tooltip:u(()=>[z(r(S.ignoreActionTooltipText),1)]),default:u(()=>[m("a",Qs,r(S.ignoreActionText),1)]),_:1}))])):p("",!0)]),_:1},8,["columns","initial-page-number","initial-search-term","loading","rows","totals"]))])):p("",!0)])}}},Js=E(Ws,[["__scopeId","data-v-134ae51c"]]),Xs=["id"],Zs={key:0},et={key:1},st={class:"disabled"},tt={key:2,class:"aioseo-seo-site-analysis-all-urls-results__keyword-input"},ot={class:"actions"},at={__name:"SiteAuditUrlKeywordCell",props:{row:{type:Object,required:!0}},emits:["keywordAdded"],setup(x,{emit:o}){const t="aioseo-pro",a=Y(),l=o,S=x,n=q(()=>S.row),y=G(!1),_=G(!1),A={addKeyphrase:i("Add Focus Keyword",t),cancel:i("Cancel",t),add:i("Add",t),addKeyphraseTooltipText:i("You don't have the required permission.",t)};async function v(I){_.value=!0;const R=document.getElementById(`keyword-${I.id}`).querySelector(".add-focus-keyphrase-metabox-input .medium"),P=R==null?void 0:R.value.trim();if(!P){_.value=!1;return}const k={keyphrase:P,score:0,analysis:{}};a.doAddFocusKeyword(I.id,k).then(()=>{I.keyphrases.focus=k,R.value="",R.blur()}).catch(w=>{console.error(w)}).finally(()=>{_.value=!1,l("keywordAdded")})}function D(I){I.preventDefault(),y.value=!0;const L=document.getElementById(`keyword-${n.value.id}`);setTimeout(()=>{const R=L==null?void 0:L.querySelector(".add-focus-keyphrase-metabox-input input");R==null||R.focus()},100)}function B(I,L){const P=document.getElementById(`keyword-${L}`).querySelector(".add-keyphrase");I.preventDefault(),P.click()}return(I,L)=>{var k,w,C,O,T,U;const R=ue("base-input"),P=ue("base-button");return n.value.isTruSeoEligible?(s(),c("div",{key:0,id:`keyword-${n.value.id}`,class:"aioseo-seo-site-analysis-all-urls-results__keyword"},[(C=(w=(k=n.value)==null?void 0:k.keyphrases)==null?void 0:w.focus)!=null&&C.keyphrase?(s(),c("span",Zs,r(n.value.keyphrases.focus.keyphrase),1)):e(qe)("aioseo_page_analysis")?(s(),c("div",et,[(O=n.value)!=null&&O.fixLink?p("",!0):(s(),f(e(N),{key:0,placement:"bottom"},{tooltip:u(()=>[z(r(A.addKeyphraseTooltipText),1)]),default:u(()=>[m("span",st,r(A.addKeyphrase),1)]),_:1})),!y.value&&((T=n.value)!=null&&T.fixLink)?(s(),c("button",{key:1,type:"button",class:"add-keyword-btn",onClick:D},r(A.addKeyphrase),1)):p("",!0),y.value&&((U=n.value)!=null&&U.fixLink)?(s(),c("div",tt,[b(R,{size:"medium",class:"add-focus-keyphrase-metabox-input",onKeydown:[L[0]||(L[0]=Te(h=>B(h,n.value.id),["enter"])),L[1]||(L[1]=Te(h=>y.value=!1,["esc"]))]}),m("div",ot,[b(P,{class:"cancel-add-keyphrase gray small",onClick:L[2]||(L[2]=h=>y.value=!1)},{default:u(()=>[z(r(A.cancel),1)]),_:1}),b(P,{class:"add-keyphrase blue small",loading:_.value,onClick:L[3]||(L[3]=h=>v(n.value))},{default:u(()=>[z(r(A.add),1)]),_:1},8,["loading"])])])):p("",!0)])):p("",!0)],8,Xs)):p("",!0)}}},nt={class:"aioseo-seo-site-analysis-all-urls-results"},it={key:0,class:"aioseo-seo-site-analysis-all-urls-results__loader"},lt={class:"aioseo-seo-site-analysis-all-urls-results__result-count"},rt={class:"aioseo-seo-site-analysis-all-urls-results__object-title"},ct=["onClick"],ut=["innerHTML"],dt={key:0,class:"row-actions"},pt={key:0},mt=["href"],_t={key:1},gt={key:2},yt=["href"],ht={key:0,class:"aioseo-seo-site-analysis-all-urls-results__result-toggle needs-refresh"},ft=["innerHTML"],vt=["onClick"],Ce="aioseo-seo-analysis-all-urls-wp-table",bt={__name:"SiteAuditAllUrlsTable",setup(x){const o="aioseo-pro",t=Y(),a=pe(),l=de(),S=ee(),n=G(null),y={viewObject:i("View",o),editObject:i("Edit",o),needsRefresh:i("The content is being re-analyzed and needs to refresh.",o)},{pageNumber:_,processAdditionalFilters:A,processPagination:v,processChangeItemsPerPage:D,processSearch:B,processFetchTableData:I,searchTerm:L,wpTableKey:R,wpTableLoading:P}=ye({changeItemsPerPageSlug:"seoAnalysis",fetchData:t.fetchAllUrls,resultsPerPage:l.settings.tablePagination.seoAnalysis,tableId:Ce,tableRef:n.value}),k=G(-1),w=q(()=>[{slug:"count",label:"",width:"50px"},{slug:"title",label:i("Title",o),width:"100%"},{slug:"keyword",label:i("Focus Keyword",o),width:"100%"},{slug:"toggle_issues",label:"",width:"50px"}]),C=q(()=>[{name:"content_type",options:[{value:"all",label:i("All Content Types",o)},...U(),...h()]}]),O=$=>{var j,H;return(j=$.counts)!=null&&j.error?"red":(H=$.counts)!=null&&H.warning?"orange":"green"},T=$=>{var j,H;return((j=$.counts)==null?void 0:j.error)||((H=$.counts)==null?void 0:H.warning)||0},U=()=>{var g;const $=((g=S.aioseo.postData.postTypes)==null?void 0:g.filter(F=>F.name!=="attachment"))||[],j=a.dynamicOptions.seoAnalysis.postTypes.included;return(a.dynamicOptions.seoAnalysis.postTypes.all?$:$.filter(F=>j.includes(F.name))).map(F=>({value:F.name,label:F.label}))},h=()=>{const $=S.aioseo.postData.taxonomies||[],j=a.dynamicOptions.seoAnalysis.taxonomies.included;return(a.dynamicOptions.seoAnalysis.taxonomies.all?$:$.filter(g=>j.includes(g.name))).map(g=>({value:g.name,label:g.label}))};function K($){k.value=-1,v($)}function d($){k.value=-1,A({...$,number:1})}function Q($){k.value=-1,D($)}function te($){k.value=-1,B($)}function oe($){return $===k.value}function J($){if(k.value===$){k.value=-1;return}k.value=$}function ae($){k.value=-1,$.needsRefresh=!0}return ve(()=>{var $;!(($=t.allUrlsResults)!=null&&$.isLoading)&&!P.value&&I()}),($,j)=>{var H;return s(),c("div",nt,[(H=e(t).allUrlsResults)!=null&&H.isLoading&&!e(P)?(s(),c("div",it,[b(e(se),{dark:""})])):(s(),f(e(be),{ref:"seoAnalysisAllUrlsTable",class:"posts-table","additional-filters":C.value,id:Ce,columns:w.value,"initial-page-number":e(_),"initial-search-term":e(L),"initial-items-per-page":e(l).settings.tablePagination.seoAnalysis,showBulkActions:!1,"show-items-per-page":"",key:e(R),loading:e(P),rows:e(t).allUrlsResults.rows,totals:e(t).allUrlsResults.totals,onPaginate:K,onProcessAdditionalFilters:d,onProcessChangeItemsPerPage:Q,onSearch:te},{"edit-row":u(({row:g})=>[g!=null&&g.needsRefresh?p("",!0):(s(),f(e(Js),{key:0,result:g},null,8,["result"]))]),count:u(({row:g})=>[m("div",lt,[T(g)?(s(),f(e(Ks),{key:0,color:O(g),text:T(g)},null,8,["color","text"])):(s(),c("span",{key:1,class:V(["icon",O(g)])},[b(e(Be))],2))])]),title:u(({row:g,index:F,editRow:X})=>[m("div",rt,[m("button",{type:"button",onClick:Ge(De=>{X(F),J(F)},["prevent"])},[m("span",{innerHTML:e(Pe)(g.title)},null,8,ut)],8,ct),g.status?(s(),f(e(we),{key:0,status:g.status},null,8,["status"])):p("",!0)]),g.permalink||g.editLink?(s(),c("div",dt,[g.permalink?(s(),c("span",pt,[m("a",{class:"view",href:g.permalink,target:"_blank",rel:"noopener noreferrer"},[m("span",null,r(y.viewObject)+" "+r(g.subtype.label),1)],8,mt)])):p("",!0),g.permalink&&g.editLink?(s(),c("span",_t," | ")):p("",!0),g.editLink?(s(),c("span",gt,[m("a",{class:"edit",href:g.editLink,target:"_blank",rel:"noopener noreferrer"},[m("span",null,r(y.editObject)+" "+r(g.subtype.label),1)],8,yt)])):p("",!0)])):p("",!0)]),keyword:u(({row:g})=>[(s(),f(e(at),{key:g.id,row:g,onKeywordAdded:F=>ae(g)},null,8,["row","onKeywordAdded"]))]),toggle_issues:u(({index:g,editRow:F,row:X})=>[X!=null&&X.needsRefresh?(s(),c("div",ht,[b(e(N),{placement:"left"},{tooltip:u(()=>[m("span",{innerHTML:y.needsRefresh},null,8,ft)]),default:u(()=>[b(e(ce))]),_:1})])):(s(),c("div",{key:1,class:V(["aioseo-seo-site-analysis-all-urls-results__result-toggle",{active:oe(g)}]),onClick:De=>{F(g),J(g)}},[b(e(ce))],10,vt))]),_:1},8,["additional-filters","columns","initial-page-number","initial-search-term","initial-items-per-page","loading","rows","totals"]))])}}},kt={class:"aioseo-seo-analysis-settings"},Tt={class:"aioseo-settings-row"},St=["innerHTML"],At={class:"aioseo-description"},$t={class:"aioseo-description"},xt={class:"aioseo-description"},Ct={__name:"AuditSettingsTab",setup(x){const o="all-in-one-seo-pack",t=ge,a=pe(),l={headerDescription:i("Customize your SEO Audit by selecting which Post Types, Post Statuses or Taxonomies you want to include. You can also individually exclude posts, page or taxonomies for complete control. Your homepage will always be included in the audit regardless of which settings are enabled or disabled below.",o),postTypes:i("Post Types",o),includeAllPostTypes:i("Include All Post Types",o),selectPostTypes:i("Select which Post Types appear in your audit.",o),postStatuses:i("Post Statuses",o),includeAllPostStatuses:i("Include All Post Statuses",o),selectPostStatuses:i("Select which Post Statuses appear in your audit.",o),taxonomies:i("Taxonomies",o),includeAllTaxonomies:i("Include All Taxonomies",o),selectTaxonomies:i("Select which Taxonomies appear in your audit.",o)};return(S,n)=>(s(),c("div",kt,[b(e(Z),{slug:"settingsTab","hide-header":"","no-slide":"",toggles:!1,cardClass:{"aioseo-card--simple":!0,"aioseo-card--no-padding":!0}},{default:u(()=>[m("div",Tt,[z(r(l.headerDescription)+" ",1),m("span",{innerHTML:e(me).getDocLink(e(t).learnMore,"seoAnalyzer",!0)},null,8,St)]),b(e(le),{name:l.postTypes},{content:u(()=>[b(e(ie),{size:"medium",modelValue:e(a).dynamicOptions.seoAnalysis.postTypes.all,"onUpdate:modelValue":n[0]||(n[0]=y=>e(a).dynamicOptions.seoAnalysis.postTypes.all=y)},{default:u(()=>[z(r(l.includeAllPostTypes),1)]),_:1},8,["modelValue"]),e(a).dynamicOptions.seoAnalysis.postTypes.all?p("",!0):(s(),f(e(Se),{key:0,options:e(a).dynamicOptions.seoAnalysis,excluded:["attachment"],type:"postTypes"},null,8,["options"])),m("div",At,r(l.selectPostTypes),1)]),_:1},8,["name"]),b(e(le),{name:l.postStatuses},{content:u(()=>[b(e(ie),{size:"medium",modelValue:e(a).dynamicOptions.seoAnalysis.postStatuses.all,"onUpdate:modelValue":n[1]||(n[1]=y=>e(a).dynamicOptions.seoAnalysis.postStatuses.all=y)},{default:u(()=>[z(r(l.includeAllPostStatuses),1)]),_:1},8,["modelValue"]),e(a).dynamicOptions.seoAnalysis.postStatuses.all?p("",!0):(s(),f(e(Je),{key:0,options:e(a).dynamicOptions.seoAnalysis,type:"postStatuses"},null,8,["options"])),m("div",$t,r(l.selectPostStatuses),1)]),_:1},8,["name"]),b(e(le),{name:l.taxonomies},{content:u(()=>[b(e(ie),{size:"medium",modelValue:e(a).dynamicOptions.seoAnalysis.taxonomies.all,"onUpdate:modelValue":n[2]||(n[2]=y=>e(a).dynamicOptions.seoAnalysis.taxonomies.all=y)},{default:u(()=>[z(r(l.includeAllTaxonomies),1)]),_:1},8,["modelValue"]),e(a).dynamicOptions.seoAnalysis.taxonomies.all?p("",!0):(s(),f(e(Se),{key:0,options:e(a).dynamicOptions.seoAnalysis,excluded:["product_attributes"],type:"taxonomies"},null,8,["options"])),m("div",xt,r(l.selectTaxonomies),1)]),_:1},8,["name"])]),_:1})]))}},Pt={key:1,class:"label"},Lt={__name:"SiteAuditGlobalTab",setup(x){const o="aioseo-pro",t=Y(),a=Re(),l=G(!1),S=q(()=>{const _=Oe({error:t.criticalCount("site")??0,warning:t.recommendedCount("site")??0,good:t.goodCount("site")??0}).filter(I=>0<I.analyze.count),A={slug:"all-urls",label:i("All URLs",o),name:i("All URLs",o)},v={slug:"all-checks",label:i("All Checks",o),name:i("All Checks",o)},D={slug:"settings-audit",label:i("Settings",o),name:i("Settings",o)},B=[A];return _.length&&B.push(v),[...B,D]});function n(_){l.value||(l.value=!0,t.changeSeoAnalyzerTab(_),setTimeout(()=>{l.value=!1},50))}function y(_,A){_.tab&&t.changeSeoAnalyzerTab("all-checks")}return Ee(()=>a.query,(_,A)=>{y(_)},{deep:!0}),ve(()=>{var A;((A=a==null?void 0:a.query)==null?void 0:A.tab)?t.changeSeoAnalyzerTab("all-checks"):t.changeSeoAnalyzerTab("all-urls")}),(_,A)=>(s(),c("div",null,[b(e(Ie),{tabs:S.value,showSaveButton:!1,active:e(t).activeTab,internal:"",onChanged:n,"skinny-tabs":""},{"var-tab":u(({tab:v})=>[v!=null&&v.analyze?(s(),c("span",{key:0,class:V(["icon",v.analyze.classColor])},[(s(),f(fe(v.icon)))],2)):p("",!0),v!=null&&v.analyze?(s(),c("span",Pt,r(v.label)+" ("+r(v.analyze.count||0)+") ",1)):p("",!0)]),_:1},8,["tabs","active"]),e(t).issuesResults.auditItems&&e(t).activeTab=="all-checks"?(s(),f(e(Ds),{key:e(t).activeTab,section:e(t).activeTab},null,8,["section"])):e(t).allUrlsResults&&e(t).activeTab==="all-urls"?(s(),f(e(bt),{key:1,section:e(t).activeTab,"all-results":e(t).allUrlsResults},null,8,["section","all-results"])):e(t).activeTab==="settings-audit"?(s(),f(e(Ct),{key:2})):p("",!0)]))}},Ue=E(Lt,[["__scopeId","data-v-ed33beda"]]),Rt={class:"aioseo-seo-audit-checklist"},It={key:0,class:"aioseo-seo-audit-checklist__loader"},Ot=["innerHTML"],zt={__name:"SeoSiteAuditLicensed",setup(x){const o="all-in-one-seo-pack",t=Y(),a=_e(),l=pe(),S=ee(),n=de(),y={completeSeoChecklist:i("Site Audit Report",o),cardDescription:i("These are the results our SEO Analzyer has generated after analyzing the pages of your website.",o)+" "+me.getDocLink(ge.learnMore,"seoAnalyzer",!0),siteOverview:i("Site Overview",o),totalPostsLabel:i("Total Checks",o),loadingText:i("Analyzing...",o)},_=q(()=>S.isPro&&(!a.isUnlicensed||S.aioseo.data.isNetworkLicensed)),A=q(()=>{var P,k,w,C,O,T;const D=((k=(P=t==null?void 0:t.issuesResults)==null?void 0:P.counts)==null?void 0:k.passed)||0,B=((C=(w=t==null?void 0:t.issuesResults)==null?void 0:w.counts)==null?void 0:C.warning)||0,I=((T=(O=t==null?void 0:t.issuesResults)==null?void 0:O.counts)==null?void 0:T.error)||0,L=(t==null?void 0:t.issueResultsTotalCounts)||0;return ze({good:D,warnings:B,issues:I,total:L})});async function v(){_.value&&(await t.fetchAllUrls({limit:n.settings.tablePagination.seoAnalysis,offset:0}),await t.fetchSitePagesAnalysisResults())}return he(async()=>{t.issuesResults.isLoading=!0,window.aioseoBus.$on("changes-saved",async()=>{await v()})}),ve(async()=>{await v()}),(D,B)=>(s(),c("div",Rt,[b(e(Z),{slug:"connectOrScore","no-slide":"",toggles:!1},{header:u(()=>[m("span",null,r(y.siteOverview),1)]),default:u(()=>[e(t).issuesResults.isLoading?(s(),c("div",It,[b(e(se),{dark:""})])):(s(),f(e(Le),{key:1,parts:A.value,total:parseInt(e(t).issueResultsTotalCounts),label:y.totalPostsLabel,loading:e(t).issuesResults.isLoading,"loading-text":y.loadingText,animatedNumber:!1},null,8,["parts","total","label","loading","loading-text"]))]),_:1}),_.value||e(l).internalOptions.internal.siteAnalysis.connectToken?(s(),f(e(Z),{key:0,slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:u(()=>[m("span",null,r(y.completeSeoChecklist),1),b(e(N),null,{tooltip:u(()=>[m("span",{innerHTML:y.cardDescription},null,8,Ot)]),default:u(()=>[b(e(ke))]),_:1})]),default:u(()=>[b(e(Ue))]),_:1})):p("",!0)]))}},Bt={class:"aioseo-seo-audit-checklist"},wt=["innerHTML"],Ut={__name:"SeoSiteAuditUnlicensed",setup(x){const o="all-in-one-seo-pack",t=ee(),a={completeSeoChecklist:i("Site Audit Report",o),cardDescription:i("These are the results our SEO Analzyer has generated after analyzing the pages of your website.",o)+" "+me.getDocLink(ge.learnMore,"seoAnalyzer",!0),siteOverview:i("Site Overview",o),totalPostsLabel:i("Total Checks",o),connectWithAioseo:Ne(i("Connect with %1$s",o),"AIOSEO")},l=q(()=>ze({good:50,warnings:30,issues:20,total:100}));return(S,n)=>(s(),c("div",Bt,[b(e(Ae),null,{default:u(()=>[b(e(Z),{slug:"connectOrScore","no-slide":"",toggles:!1},{header:u(()=>[m("span",null,r(a.siteOverview),1)]),default:u(()=>[b(e(Le),{parts:l.value,total:100,label:a.totalPostsLabel,animatedNumber:!1},null,8,["parts","label"])]),_:1})]),_:1}),e(t).isPro?p("",!0):(s(),f(e(Ae),{key:0},{default:u(()=>[b(e(Z),{slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:u(()=>[m("span",null,r(a.completeSeoChecklist),1),b(e(N),null,{tooltip:u(()=>[m("span",{innerHTML:a.cardDescription},null,8,wt)]),default:u(()=>[b(e(ke))]),_:1})]),default:u(()=>[b(e(Ue))]),_:1})]),_:1})),Ve(S.$slots,"upsell",{},void 0,!0)]))}},Dt=E(Ut,[["__scopeId","data-v-5a6a6150"]]),qt={class:"aioseo-seo-site-score-cta"},Kt=["href"],Ft={__name:"SeoSiteAudit",setup(x){const o="all-in-one-seo-pack",t=_e(),a=ee(),l={enterLicenseKey:i("A valid license key is required",o),toSeeYourSiteScore:i("to see Site Audit.",o)};return(S,n)=>(s(),c("div",null,[e(a).isPro&&(!e(t).isUnlicensed||e(a).aioseo.data.isNetworkLicensed)?(s(),f(e(zt),{key:0})):(s(),f(e(Dt),{key:1},{upsell:u(()=>[m("div",qt,[m("a",{href:e(a).aioseo.urls.aio.settings},r(l.enterLicenseKey),9,Kt),z(" "+r(l.toSeeYourSiteScore),1)])]),_:1}))]))}},Mt=E(Ft,[["__scopeId","data-v-97ee90ee"]]),jt="all-in-one-seo-pack",Ht={setup(){const x=ee(),o=_e(),t=Y();return{rootStore:x,licenseStore:o,analyzerStore:t}},components:{AnalyzeCompetitorSite:Ke,CoreMain:Fe,SeoHomepageAudit:Me,SeoSiteAudit:Mt,HeadlineAnalyzer:Xe},data(){return{strings:{pageName:i("SEO Analysis",jt)}}},mounted(){this.rootStore.isPro&&!this.licenseStore.isUnlicensed&&this.analyzerStore.objectsScan.percent!==100&&this.analyzerStore.fetchObjectsScanPercent()}};function Nt(x,o,t,a,l,S){const n=ue("core-main");return s(),f(n,{"page-name":l.strings.pageName,"show-save-button":x.$route.name==="seo-site-audit"&&a.analyzerStore.activeTab==="settings-audit"},{default:u(()=>[(s(),f(fe(x.$route.name)))]),_:1},8,["page-name","show-save-button"])}const da=E(Ht,[["render",Nt]]);export{da as default};
