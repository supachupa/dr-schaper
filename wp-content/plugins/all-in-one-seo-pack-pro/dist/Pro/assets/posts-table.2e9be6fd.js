import{a as C,c as F}from"./js/runtime-dom.esm-bundler.36191dca.js";import{l as dt}from"./js/index.9d0df22d.js";import{l as ut}from"./js/index.9c2681d6.js";import{l as pt}from"./js/index.d80c2c2c.js";import{a as z,b as G,k as Q,w as mt,H as X,h as A,c as P,D as J,at as ht,a5 as gt,l as O,aq as _t}from"./js/index.6205915e.js";import{u as K}from"./js/TruSeoScore.273ac1a4.js";import{l as R}from"./js/license.e878a1e9.js";import{t as W}from"./js/tags.53ae5e4e.js";import{_ as Y,C as $}from"./js/Button.898cae57.js";import{C as tt}from"./js/HtmlTagsEditor.c55a7a12.js";import{_ as Ct}from"./js/ScoreButton.21fd238a.js";import{C as H}from"./js/Tooltip.e5a30815.js";import{_ as ft}from"./js/IndexStatus.3a61ad56.js";import{S as wt}from"./js/LogoGear.f137eced.js";import{_ as x}from"./js/_plugin-vue_export-helper.eefbdd86.js";import{o as l,a3 as g,a4 as n,a7 as m,c as h,b as c,w as r,a as d,t as i,q as u,a6 as Tt,ae as et,h as st}from"./js/runtime-core.esm-bundler.50cb9e6d.js";import{b as ot}from"./js/Pencil.1f4e936a.js";import"./js/translations.e71e2202.js";import{_ as f,a as j}from"./js/default-i18n.65d58dd6.js";import{S as vt,a as kt,b as yt}from"./js/Affiliate.423cd7e1.js";import{S as bt}from"./js/External.c2eafbf8.js";/* empty css                */import"./js/Input.2db511a5.js";import"./js/Index.92195ca4.js";import"./js/Close.650e0e8f.js";import"./js/Trash.544ebd43.js";import"./js/Select.ed8403e2.js";import"./js/Caret.19d3d4d0.js";import"./js/Toggle.6b4c4eee.js";import"./js/helpers.7981a424.js";import"./js/upperFirst.ef347579.js";import"./js/Editor.5d5c47c6.js";import"./js/isEqual.29ed9528.js";import"./js/_baseIsEqual.45a50e56.js";import"./js/_getTag.47f014a4.js";import"./js/_baseClone.9f29425e.js";import"./js/_arrayEach.6af5abac.js";import"./js/_getAllKeysIn.2e381a54.js";import"./js/Plus.1c775378.js";import"./js/UnfilteredHtml.f77bae3c.js";import"./js/constants.41876895.js";import"./js/IndexStatus.1fad484f.js";import"./js/Calendar.28ce0d4e.js";import"./js/Exclamation.f6d05b84.js";import"./js/Mobile.9de6b5da.js";import"./js/Link.4e8f4060.js";import"./js/CheckSolid.ee9359d4.js";import"./js/CloseSolid.a64e6a57.js";import"./js/ExclamationSolid.b505fbb3.js";const Lt={},St={viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-headline-analyzer"},It=n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5448 1.76771H14.6665V1.79272L10.5448 4.61008V1.76771ZM5.46515 8.08232V1.76779H1.34351V4.8899L1.34378 4.71192L5.42731 8.10819L5.46515 8.08232ZM1.34351 11.4568L5.46515 14.2652V15.0999H1.34351V11.4568ZM10.5448 10.8851L14.6665 8.14027V15.0982H10.5448V10.8851Z",fill:"currentColor"},null,-1),Et=n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.46515 8.05739L5.42731 8.08325L1.34378 4.68698L1.34351 4.86412V1.76779H5.46515V8.05739ZM5.46515 14.2083L1.34351 11.3998V15.0999H5.46515V14.2083ZM10.5448 10.8281L14.6665 8.08332V15.0982H10.5448V10.8281ZM14.6665 1.76778L10.5448 4.58515V1.76771H14.6665V1.76778Z",fill:"currentColor"},null,-1),xt=n("path",{d:"M5.42725 9.45857L14.6665 3.14303V6.76487L5.46703 12.8912L1.33325 10.0745L1.34372 6.06231L5.42725 9.45857Z",fill:"currentColor"},null,-1),Dt=[It,Et,xt];function At(e,s){return l(),g("svg",St,Dt)}const Pt=x(Lt,[["render",At]]),S="all-in-one-seo-pack",Vt={setup(){const{runAnalysis:e,strings:s}=K();return{composableStrings:s,optionsStore:z(),rootStore:G(),runAnalysis:e,searchStatisticsStore:Q(),getTagText:W.getTagText}},components:{BaseButton:Y,CoreHtmlTagsEditor:tt,CoreLoader:$,CoreScoreButton:Ct,CoreTooltip:H,IndexStatus:ft,SvgAioseoLogoGear:wt,SvgHeadlineAnalyzer:Pt,SvgPencil:ot},props:{post:Object,posts:Array},data(){return{allowed:mt,postId:null,columnName:null,value:null,title:null,titleParsed:null,postDescription:null,descriptionParsed:null,imageTitle:null,imageAltTag:null,showEditTitle:!1,showEditDescription:!1,showEditImageTitle:!1,showEditImageAltTag:!1,showTruSeo:!1,isSpecialPage:!1,inspectionResult:{},inspectionResultLoading:!0,postLoading:!1,strings:X(this.composableStrings,{title:f("Title",S),description:f("Description",S),imageTitle:f("Image Title",S),imageAltTag:f("Image Alt Tag",S),saveChanges:f("Save Changes",S),discardChanges:f("Discard Changes",S),truSeoScore:f("TruSEO Score",S),headlineScore:f("Headline Score",S)}),license:R}},computed:{showIndexStatus(){if(!this.rootStore.isPro||!R.hasCoreFeature("search-statistics","index-status"))return!1;const e=!this.searchStatisticsStore.unverifiedSite,s=!!this.searchStatisticsStore.isConnected,o=this.allowed("aioseo_search_statistics_settings");return e&&s&&o},showHeadlineAnalyzer(){return this.rootStore.aioseo.data.isClassicEditorActive||this.post.postType==="product"||this.post.postType==="web-story"?!1:this.optionsStore.options.advanced.headlineAnalyzer}},methods:{save(){this.showEditTitle=!1,this.showEditDescription=!1,this.post.title=this.title,this.post.description=this.postDescription,this.postLoading=!0,A.post(P.restUrl("posts-list/update-details-column")).send({postId:this.post.id,title:this.post.title,description:this.post.description}).then(e=>{this.titleParsed=e.body.title,this.descriptionParsed=e.body.description,this.post.titleParsed=e.body.title,this.post.descriptionParsed=e.body.description,this.$root.$data.screen.base!=="upload"&&this.runAnalysis(this.post.id)}).catch(e=>{console.error(`Unable to update post with ID ${this.post.id}: ${e}`)}).finally(()=>{this.postLoading=!1})},saveColumn(){this.showEditImageTitle=!1,this.showEditImageAltTag=!1,this.post.title=this.title,this.post.description=this.postDescription,this.post.imageTitle=this.imageTitle,this.post.imageAltTag=this.imageAltTag,A.post(P.restUrl("posts-list/update-details-column")).send({postId:this.post.id,isMedia:!0,title:this.post.title,description:this.post.description,imageTitle:this.post.imageTitle,imageAltTag:this.post.imageAltTag}).then(()=>{this.updatePostTitle(this.post.id,this.post.imageTitle)}).catch(e=>{console.error(`Unable to update attachment with ID ${this.post.id}: ${e}`)})},cancel(){this.value=this.post.value,this.showEditTitle=!1,this.showEditDescription=!1,this.showEditImageTitle=!1,this.showEditImageAltTag=!1},editTitle(){this.showEditTitle=!0},editDescription(){this.showEditDescription=!0},editImageTitle(){this.showEditImageTitle=!0},editImageAlt(){this.showEditImageAltTag=!0},truncate:J,updatePostTitle(e,s){const o=document.getElementById(`post-${e}`);if(!o)return;const p=o.getElementsByClassName("title")[0].getElementsByTagName("a")[0];if(!p)return;const t=p.getElementsByTagName("span")[0];p.innerText=s,p.prepend(t)},updateInspectionResult(e){const{inspectionResult:s,inspectionResultLoading:o}=e;this.inspectionResult=s,this.inspectionResultLoading=o}},mounted(){this.postId=this.post.id,this.columnName=this.post.columnName,this.value=this.post.value,this.imageTitle=this.post.imageTitle,this.imageAltTag=this.post.imageAltTag,this.isSpecialPage=this.post.isSpecialPage,this.title=this.post.title||this.post.defaultTitle,this.titleParsed=this.post.titleParsed,this.postDescription=this.post.description||this.post.defaultDescription,this.descriptionParsed=this.post.descriptionParsed,this.inspectionResult=this.post.inspectionResult,this.inspectionResultLoading=this.post.inspectionResultLoading,this.post.reload&&this.save(),window.aioseoBus.$on("updateInspectionResult"+this.postId,this.updateInspectionResult)},beforeUnmount(){window.aioseoBus.$off("updateInspectionResult"+this.postId,this.updateInspectionResult)},async created(){this.showTruSeo=ht()}},Mt={key:0,class:"edit-row scores"},Rt={class:"edit-row edit-title"},Bt={key:0},Nt=n("strong",null,":",-1),zt={key:1,class:"edit-row"},Ot={class:"edit-row edit-description"},Ht=["id"],Ut=n("strong",null,":",-1),Zt={key:2,class:"edit-row"},jt={class:"edit-row edit-image-title"},qt=["id"],Ft=n("strong",null,":",-1),Gt={key:3,class:"edit-row"},Qt={class:"edit-row edit-image-alt"},Xt=["id"],Jt=n("strong",null,":",-1),Kt={key:4,class:"edit-row"};function Wt(e,s,o,p,t,a){var U,Z;const w=m("index-status"),T=m("svg-headline-analyzer"),k=m("core-score-button"),_=m("core-tooltip"),v=m("svg-aioseo-logo-gear"),I=m("core-loader"),b=m("svg-pencil"),y=m("core-html-tags-editor"),L=m("base-button");return l(),g("div",{class:et(["aioseo-details-column",{editing:t.showEditTitle||t.showEditDescription||t.showEditImageTitle||t.showEditImageAltTag}])},[n("div",null,[e.$root.$data.screen.base==="edit"&&!t.isSpecialPage?(l(),g("div",Mt,[a.showIndexStatus?(l(),h(w,{key:0,result:t.inspectionResult,loading:t.inspectionResultLoading,viewable:o.post.isPostVisible,"tooltip-offset":"-150px,0"},null,8,["result","loading","viewable"])):c("",!0),a.showHeadlineAnalyzer?(l(),h(_,{key:1,type:"action"},{tooltip:r(()=>[d(i(t.strings.headlineScore),1)]),default:r(()=>[u(k,{score:o.post.headlineScore,postId:t.postId},{icon:r(()=>[u(T)]),_:1},8,["score","postId"])]),_:1})):c("",!0),t.showTruSeo&&t.allowed("aioseo_page_analysis")?(l(),h(_,{key:2,type:"action"},{tooltip:r(()=>[d(i(t.strings.truSeoScore),1)]),default:r(()=>[u(k,{score:o.post.value,postId:t.postId},{icon:r(()=>[u(v)]),_:1},8,["score","postId"])]),_:1})):c("",!0)])):c("",!0),n("div",null,[t.allowed("aioseo_page_general_settings")&&o.post.showTitle?(l(),h(_,{key:0,class:"aioseo-details-column__tooltip",disabled:t.showEditTitle},{tooltip:r(()=>[n("strong",null,i(t.strings.title)+":",1),d(" "+i(t.titleParsed),1)]),default:r(()=>[n("div",Rt,[n("strong",null,i(t.strings.title),1),t.showEditTitle?c("",!0):(l(),g("span",Bt,[Nt,d(" "+i(a.truncate(t.titleParsed,100)),1)])),t.postLoading?(l(),h(I,{key:1,dark:""})):c("",!0),t.showEditTitle?c("",!0):(l(),h(b,{key:2,class:"pencil-icon",onClick:C(a.editTitle,["prevent"])},null,8,["onClick"]))])]),_:1},8,["disabled"])):c("",!0)]),t.showEditTitle?(l(),g("div",zt,[u(y,{modelValue:t.title,"onUpdate:modelValue":s[0]||(s[0]=E=>t.title=E),"line-numbers":!1,single:"","tags-context":p.getTagText("post",(U=o.post)==null?void 0:U.postType,"Title"),defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":["post_title"]},null,8,["modelValue","tags-context"]),u(L,{type:"gray",size:"small",onClick:C(a.cancel,["prevent"])},{default:r(()=>[d(i(t.strings.discardChanges),1)]),_:1},8,["onClick"]),u(L,{type:"blue",size:"small",onClick:C(a.save,["prevent"])},{default:r(()=>[d(i(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0),n("div",null,[t.allowed("aioseo_page_general_settings")&&o.post.showDescription?(l(),h(_,{key:0,class:"aioseo-details-column__tooltip",disabled:t.showEditDescription},{tooltip:r(()=>[n("strong",null,i(t.strings.description)+":",1),d(" "+i(a.truncate(t.descriptionParsed)),1)]),default:r(()=>[n("div",Ot,[n("strong",null,i(t.strings.description),1),t.showEditDescription?c("",!0):(l(),g("span",{key:0,id:`aioseo-${t.columnName}-${t.postId}-value`},[Ut,d(" "+i(a.truncate(t.descriptionParsed)),1)],8,Ht)),t.postLoading?(l(),h(I,{key:1,dark:""})):c("",!0),t.showEditDescription?c("",!0):(l(),h(b,{key:2,class:"pencil-icon",onClick:C(a.editDescription,["prevent"])},null,8,["onClick"]))])]),_:1},8,["disabled"])):c("",!0)]),t.showEditDescription?(l(),g("div",Zt,[u(y,{modelValue:t.postDescription,"onUpdate:modelValue":s[1]||(s[1]=E=>t.postDescription=E),"line-numbers":!1,"tags-context":p.getTagText("post",(Z=o.post)==null?void 0:Z.postType,"Description"),defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":["post_excerpt"]},null,8,["modelValue","tags-context"]),u(L,{type:"gray",size:"small",onClick:C(a.cancel,["prevent"])},{default:r(()=>[d(i(t.strings.discardChanges),1)]),_:1},8,["onClick"]),u(L,{type:"blue",size:"small",onClick:C(a.save,["prevent"])},{default:r(()=>[d(i(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0),Tt(e.$slots,"default"),n("div",null,[e.$root.$data.screen.base==="upload"&&o.post.showMedia?(l(),h(_,{key:0,class:"aioseo-details-column__tooltip",disabled:t.showEditImageTitle},{tooltip:r(()=>[n("strong",null,i(t.strings.imageTitle)+":",1),d(" "+i(t.imageTitle),1)]),default:r(()=>[n("div",jt,[n("strong",null,i(t.strings.imageTitle),1),t.showEditImageTitle?c("",!0):(l(),g("span",{key:0,id:`aioseo-${t.columnName}-${t.postId}-value`},[Ft,d(" "+i(t.imageTitle),1)],8,qt)),t.showEditImageTitle?c("",!0):(l(),h(b,{key:1,class:"pencil-icon",onClick:C(a.editImageTitle,["prevent"])},null,8,["onClick"]))])]),_:1},8,["disabled"])):c("",!0)]),t.showEditImageTitle?(l(),g("div",Gt,[u(y,{modelValue:t.imageTitle,"onUpdate:modelValue":s[2]||(s[2]=E=>t.imageTitle=E),"line-numbers":!1,single:"","tags-context":"imageSeoTitleColumn",defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":[]},null,8,["modelValue"]),u(L,{type:"gray",size:"small",onClick:C(a.cancel,["prevent"])},{default:r(()=>[d(i(t.strings.discardChanges),1)]),_:1},8,["onClick"]),u(L,{type:"blue",size:"small",onClick:C(a.saveColumn,["prevent"])},{default:r(()=>[d(i(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0),n("div",null,[e.$root.$data.screen.base==="upload"&&o.post.showMedia?(l(),h(_,{key:0,class:"aioseo-details-column__tooltip",disabled:t.showEditImageAltTag},{tooltip:r(()=>[n("strong",null,i(t.strings.imageAltTag)+":",1),d(" "+i(t.imageAltTag),1)]),default:r(()=>[n("div",Qt,[n("strong",null,i(t.strings.imageAltTag),1),t.showEditImageAltTag?c("",!0):(l(),g("span",{key:0,id:`aioseo-${t.columnName}-${t.postId}-value`},[Jt,d(" "+i(t.imageAltTag),1)],8,Xt)),t.showEditImageAltTag?c("",!0):(l(),h(b,{key:1,class:"pencil-icon",onClick:C(a.editImageAlt,["prevent"])},null,8,["onClick"]))])]),_:1},8,["disabled"])):c("",!0)]),t.showEditImageAltTag?(l(),g("div",Kt,[u(y,{modelValue:t.imageAltTag,"onUpdate:modelValue":s[3]||(s[3]=E=>t.imageAltTag=E),"line-numbers":!1,single:"","tags-context":"imageSeoAltColumn",defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":[]},null,8,["modelValue"]),u(L,{type:"gray",size:"small",onClick:C(a.cancel,["prevent"])},{default:r(()=>[d(i(t.strings.discardChanges),1)]),_:1},8,["onClick"]),u(L,{type:"blue",size:"small",onClick:C(a.saveColumn,["prevent"])},{default:r(()=>[d(i(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0)])],2)}const it=x(Vt,[["render",Wt]]),Yt={},$t={viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-link-broken"},te=n("g",{"clip-path":"url(#clip0_1215_174351)"},[n("path",{d:"M28.064 5.4904C27.692 5.8624 27.32 6.2344 26.948 6.6056C25.9736 7.58 24.9976 8.5544 24.024 9.5304C23.7968 9.7576 23.528 9.892 23.2056 9.888C22.7728 9.8824 22.4408 9.6832 22.24 9.3016C22.0352 8.9128 22.0712 8.5256 22.3168 8.1616C22.3624 8.0944 22.4192 8.0328 22.4768 7.9752C23.8216 6.6296 25.1672 5.284 26.512 3.9384C23.7008 1.4856 20.024 0 16 0C7.1632 0 0 7.1632 0 16C0 20.024 1.4864 23.7008 3.9384 26.5128C5.2824 25.1688 6.6264 23.8248 7.9696 22.48C8.1912 22.2576 8.4504 22.1112 8.7664 22.1096C9.192 22.1072 9.5256 22.2896 9.7456 22.66C9.8408 22.82 9.8896 22.996 9.8888 23.0928C9.8944 23.5208 9.7584 23.796 9.5232 24.0304C8.3272 25.2248 7.132 26.42 5.9368 27.6152C5.7872 27.7648 5.6384 27.9136 5.4888 28.0632C8.3 30.5144 11.976 31.9992 15.9984 31.9992C24.8352 31.9992 31.9984 24.836 31.9984 15.9992C31.9984 11.976 30.5136 8.3008 28.0624 5.4896L28.064 5.4904ZM7.5328 20.5952C7.132 20.9952 6.8544 21.4672 6.7456 22.0256C6.7256 22.1264 6.712 22.2264 6.7024 22.3256L4.7872 24.2408C4.7024 24 4.6344 23.7512 4.5864 23.4928C4.3728 22.348 4.5448 21.2568 5.0928 20.2272C5.3048 19.8288 5.5672 19.4664 5.8864 19.1464C6.4912 18.5408 7.0952 17.9352 7.7008 17.3304C7.8328 18.1624 8.0864 18.9536 8.4432 19.6856C8.1392 19.9888 7.836 20.292 7.5328 20.5952ZM19.1136 5.9192C19.7904 5.2456 20.6024 4.8136 21.5336 4.6128C22.4504 4.4152 23.3552 4.4704 24.236 4.792L22.3256 6.7024C22.0464 6.7288 21.7696 6.7968 21.496 6.912C21.1584 7.0544 20.8664 7.2624 20.608 7.52C20.3 7.8272 19.9928 8.1352 19.6848 8.4424C18.9536 8.0856 18.1624 7.832 17.3312 7.7C17.9248 7.1056 18.5176 6.5112 19.1128 5.9184L19.1136 5.9192ZM12.8072 26.156C12.1008 26.8424 11.2448 27.2592 10.272 27.4264C9.4128 27.5744 8.5736 27.5016 7.7608 27.2096L9.6744 25.296C9.7152 25.292 9.756 25.2912 9.7968 25.2856C10.2968 25.2192 10.7416 25.0216 11.1368 24.7112C11.2312 24.6368 11.3192 24.5544 11.404 24.4696C11.708 24.1656 12.012 23.8616 12.316 23.5568C13.0496 23.9144 13.8424 24.1688 14.676 24.3C14.0568 24.9224 13.4368 25.544 12.8072 26.156ZM23.1096 17.3384C23.0832 17.4856 23.052 17.6336 23.016 17.7808C22.98 17.928 22.94 18.0736 22.8968 18.2168C22.8616 18.3328 22.7904 18.4272 22.7 18.496C22.6096 18.5392 22.508 18.5616 22.4032 18.5568L21.4584 18.5136C21.2744 18.5056 21.1016 18.5792 20.9736 18.704C20.9096 18.756 20.8536 18.82 20.8104 18.8944C20.7192 19.052 20.6192 19.2032 20.5144 19.3496C20.4056 19.4912 20.292 19.628 20.1704 19.7584C20.1136 19.8192 20.0696 19.8896 20.0384 19.964C19.9528 20.124 19.9312 20.3136 19.9936 20.4888L20.3104 21.38C20.3464 21.4808 20.3536 21.5864 20.3376 21.6872C20.2976 21.7912 20.2288 21.8848 20.1304 21.9512C19.8808 22.12 19.62 22.2736 19.3512 22.4112C19.1152 22.532 18.8296 22.472 18.652 22.2792L18.0184 21.5928C17.8552 21.416 17.6016 21.3544 17.3656 21.4144C16.9928 21.5088 16.6072 21.5672 16.216 21.5856C15.9728 21.5968 15.748 21.7304 15.6432 21.9464L15.2376 22.7864C15.124 23.0224 14.868 23.1632 14.6064 23.116C14.4592 23.0896 14.3112 23.0584 14.164 23.0224C14.0168 22.9864 13.8712 22.9464 13.728 22.9032C13.68 22.8888 13.6368 22.8664 13.596 22.8408C13.4912 22.7256 13.4336 22.5672 13.4408 22.4024L13.484 21.4576C13.4952 21.2144 13.3624 20.9896 13.1568 20.8648C12.8256 20.664 12.5184 20.4304 12.2392 20.1704C12.1264 20.0656 11.9848 20.0016 11.8384 19.9904C11.7144 19.9568 11.5816 19.9576 11.4568 20.0016L10.5656 20.3184C10.4968 20.3432 10.4248 20.3536 10.3544 20.3536C10.2328 20.3184 10.1232 20.2432 10.0472 20.1304C9.8784 19.8808 9.7248 19.62 9.5872 19.3512C9.4664 19.1152 9.5264 18.8296 9.7192 18.652L10.4056 18.0184C10.5824 17.8552 10.644 17.6016 10.584 17.3656C10.4896 16.9928 10.4312 16.6072 10.4128 16.216C10.4016 15.9728 10.268 15.748 10.052 15.6432L9.212 15.2376C8.976 15.124 8.8352 14.868 8.8824 14.6064C8.9088 14.4592 8.94 14.3112 8.976 14.164C9.012 14.0168 9.052 13.8712 9.0952 13.728C9.1176 13.6544 9.156 13.5896 9.2032 13.5336C9.3032 13.4744 9.4208 13.4432 9.544 13.4488L10.4888 13.492C10.7104 13.5024 10.9168 13.392 11.0456 13.2168C11.0984 13.1696 11.1448 13.1144 11.1816 13.0504C11.2664 12.9032 11.3608 12.7632 11.4576 12.6264C11.5592 12.496 11.664 12.368 11.7768 12.2472C11.8256 12.1944 11.8648 12.1352 11.8944 12.072C12.0264 11.8968 12.0728 11.6664 11.9976 11.456L11.6808 10.5648C11.6392 10.448 11.6352 10.3248 11.6632 10.2112C11.7024 10.1512 11.7528 10.0976 11.816 10.0544C12.0656 9.8856 12.3264 9.732 12.5952 9.5944C12.8312 9.4736 13.1168 9.5336 13.2944 9.7264L13.928 10.4128C14.0912 10.5896 14.3448 10.6512 14.5808 10.5912C14.9536 10.4968 15.3392 10.4384 15.7304 10.42C15.9736 10.4088 16.1984 10.2752 16.3032 10.0592L16.7088 9.2192C16.8224 8.9832 17.0784 8.8424 17.34 8.8896C17.4872 8.916 17.6352 8.9472 17.7824 8.9832C17.9296 9.0192 18.0752 9.0592 18.2184 9.1024C18.3504 9.1432 18.4552 9.228 18.5248 9.3368C18.544 9.4024 18.5536 9.472 18.5504 9.5424L18.5072 10.4872C18.5008 10.6192 18.5384 10.7448 18.6056 10.8536C18.6592 10.9912 18.7616 11.1104 18.896 11.188C19.2328 11.3832 19.544 11.6104 19.8272 11.864C20.0064 12.0248 20.2608 12.0856 20.4896 12.004L21.3808 11.6872C21.5384 11.6312 21.708 11.6416 21.8496 11.7096C21.8848 11.74 21.9168 11.7744 21.944 11.8144C22.1128 12.064 22.2664 12.3248 22.404 12.5936C22.5248 12.8296 22.4648 13.1152 22.272 13.2928L21.5856 13.9264C21.4088 14.0896 21.3472 14.3432 21.4072 14.5792C21.5016 14.952 21.56 15.3376 21.5784 15.7288C21.5896 15.972 21.7232 16.1968 21.9392 16.3016L22.7792 16.7072C23.0152 16.8208 23.156 17.0768 23.1088 17.3384H23.1096ZM27.4624 10.028C27.3464 10.96 26.996 11.7936 26.4072 12.5248C26.3008 12.6568 26.1872 12.7832 26.068 12.9032C25.4792 13.4936 24.8904 14.0848 24.3 14.6736C24.1688 13.8408 23.9152 13.048 23.5576 12.316C23.868 12.0064 24.1784 11.696 24.4888 11.3856C24.8832 10.9904 25.1496 10.5208 25.2552 9.9712C25.2744 9.8704 25.288 9.7712 25.2976 9.672L27.2096 7.76C27.4776 8.488 27.5592 9.2472 27.4624 10.0272V10.028Z",fill:"currentColor"}),n("path",{d:"M18.8921 13.1658C18.6385 13.1658 18.4193 13.2562 18.2409 13.4354L15.0513 16.625L13.7745 15.349C13.5969 15.1858 13.3857 15.1034 13.1473 15.1034C12.9089 15.1034 12.6913 15.1922 12.4961 15.373C12.3057 15.5626 12.2097 15.7818 12.2097 16.0242C12.2097 16.2666 12.3105 16.4834 12.5025 16.649L14.4169 18.5794C14.5961 18.7586 14.8097 18.849 15.0521 18.849C15.2945 18.849 15.5081 18.7586 15.6881 18.5786L19.5369 14.6962C19.7201 14.5282 19.8137 14.309 19.8057 14.0626C19.7985 13.8234 19.7049 13.6122 19.5353 13.4426C19.3689 13.261 19.1473 13.165 18.8929 13.165L18.8921 13.1658Z",fill:"currentColor"})],-1),ee=[te];function se(e,s){return l(),g("svg",$t,ee)}const oe=x(Yt,[["render",se]]),D="aioseo-pro",ie={components:{CorePostColumn:it,CoreTooltip:H,SvgLinkAffiliate:vt,SvgLinkBroken:oe,SvgLinkExternal:bt,SvgLinkInternalInbound:kt,SvgLinkInternalOutbound:yt},props:{post:Object},data(){return{strings:{inboundInternal:j(f("%1$sInbound Internal Links%2$sLinks from other posts to this post",D),"<strong>","</strong><br />"),outboundInternal:j(f("%1$sOutbound Internal Links%2$sLinks from this post to other posts",D),"<strong>","</strong><br />"),affiliate:f("Affiliate",D),external:f("External",D),broken:f("Broken Links",D)}}}},ne={key:0,class:"links"},le={class:"link-count"},re=["innerHTML"],ae={class:"link-count"},ce=["innerHTML"],de={class:"link-count"},ue={class:"link-count"},pe={class:"link-count"};function me(e,s,o,p,t,a){const w=m("svg-link-internal-inbound"),T=m("core-tooltip"),k=m("svg-link-internal-outbound"),_=m("svg-link-affiliate"),v=m("svg-link-external"),I=m("svg-link-broken"),b=m("core-post-column");return l(),h(b,{post:o.post},{default:r(()=>{var y;return[o.post.linkCounts&&o.post.postType!=="attachment"?(l(),g("div",ne,[u(T,{type:"action"},{tooltip:r(()=>[n("div",{innerHTML:t.strings.inboundInternal},null,8,re)]),default:r(()=>[n("div",le,[u(w),d(" "+i(o.post.linkCounts.inboundInternal),1)])]),_:1}),u(T,{type:"action"},{tooltip:r(()=>[n("div",{innerHTML:t.strings.outboundInternal},null,8,ce)]),default:r(()=>[n("div",ae,[u(k),d(" "+i(o.post.linkCounts.outboundInternal),1)])]),_:1}),u(T,{type:"action"},{tooltip:r(()=>[d(i(t.strings.affiliate),1)]),default:r(()=>[n("div",de,[u(_),d(" "+i(o.post.linkCounts.affiliate),1)])]),_:1}),u(T,{type:"action"},{tooltip:r(()=>[d(i(t.strings.external),1)]),default:r(()=>[n("div",ue,[u(v),d(" "+i(o.post.linkCounts.external),1)])]),_:1}),(y=o.post)!=null&&y.brokenLinkCount&&o.post.brokenLinkCount>0?(l(),h(T,{key:0,type:"action"},{tooltip:r(()=>[d(i(t.strings.broken),1)]),default:r(()=>[n("div",pe,[u(I),d(" "+i(o.post.brokenLinkCount),1)])]),_:1})):c("",!0)])):c("",!0)]}),_:1},8,["post"])}const he=x(ie,[["render",me]]),ge={components:{CorePostColumn:it},props:{post:Object}};function _e(e,s,o,p,t,a){const w=m("core-post-column");return l(),h(w,{post:o.post},null,8,["post"])}const Ce=x(ge,[["render",_e]]),fe={setup(){return{rootStore:G()}},components:{PostColumn:he,PostColumnLite:Ce},props:{post:Object}},we={class:"aioseo-app"};function Te(e,s,o,p,t,a){const w=m("PostColumn"),T=m("PostColumnLite");return l(),g("div",we,[p.rootStore.isPro?(l(),h(w,{key:0,post:o.post},null,8,["post"])):c("",!0),p.rootStore.isPro?c("",!0):(l(),h(T,{key:1,post:o.post},null,8,["post"]))])}const ve=x(fe,[["render",Te]]),V="all-in-one-seo-pack",ke={setup(){const{strings:e}=K();return{composableStrings:e,getTagText:W.getTagText}},components:{BaseButton:Y,CoreHtmlTagsEditor:tt,CoreLoader:$,CoreTooltip:H,SvgPencil:ot},props:{term:Object,terms:Array,index:Number},data(){return{termId:null,columnName:null,title:null,titleParsed:null,termDescription:null,descriptionParsed:null,showEditTitle:!1,showEditDescription:!1,showTruSeo:!1,termLoading:!1,showTitle:!0,showDescription:!0,strings:X(this.composableStrings,{title:f("Title",V),description:f("Description",V),saveChanges:f("Save Changes",V),discardChanges:f("Discard Changes",V)})}},methods:{save(){this.showEditTitle=!1,this.showEditDescription=!1,this.term.title=this.title,this.term.description=this.termDescription,this.termLoading=!0,A.post(P.restUrl("terms-list/update-details-column")).send({termId:this.term.id,title:this.term.title,description:this.term.description}).then(e=>{this.titleParsed=e.body.title,this.descriptionParsed=e.body.description,this.term.titleParsed=e.body.title,this.term.descriptionParsed=e.body.description,this.showTitle=e.body.showTitle,this.showDescription=e.body.showDescription}).catch(e=>{console.error(`Unable to update term with ID ${this.term.id}: ${e}`)}).finally(()=>{this.termLoading=!1})},cancel(){this.showEditTitle=!1,this.showEditDescription=!1},editTitle(){this.showEditTitle=!0},editDescription(){this.showEditDescription=!0},truncate:J},mounted(){this.termId=this.term.id,this.columnName=this.term.columnName,this.title=this.term.title,this.titleParsed=this.term.titleParsed,this.termDescription=this.term.description,this.descriptionParsed=this.term.descriptionParsed,this.showTitle=this.term.showTitle,this.showDescription=this.term.showDescription,this.term.reload&&this.save()},async created(){this.showTruSeo=gt()}},ye={class:"aioseo-app"},be={key:0},Le={class:"edit-row edit-title"},Se={key:0},Ie=n("strong",null,":",-1),Ee={key:1,class:"edit-row"},xe={key:2},De={class:"edit-row edit-description"},Ae={key:0},Pe=n("strong",null,":",-1),Ve={key:3,class:"edit-row"};function Me(e,s,o,p,t,a){var I,b;const w=m("core-loader"),T=m("svg-pencil"),k=m("core-tooltip"),_=m("core-html-tags-editor"),v=m("base-button");return l(),g("div",ye,[n("div",{class:et(["aioseo-details-column",{editing:t.showEditTitle||t.showEditDescription}])},[n("div",null,[t.showTitle?(l(),g("div",be,[u(k,{class:"aioseo-details-column__tooltip"},{tooltip:r(()=>[n("strong",null,i(t.strings.title)+":",1),d(" "+i(t.titleParsed),1)]),default:r(()=>[n("div",Le,[n("strong",null,i(t.strings.title),1),t.showEditTitle?c("",!0):(l(),g("span",Se,[Ie,d(" "+i(a.truncate(t.titleParsed,100)),1)])),t.termLoading?(l(),h(w,{key:1,dark:""})):c("",!0),t.showEditTitle?c("",!0):(l(),h(T,{key:2,class:"pencil-icon",onClick:C(a.editTitle,["prevent"])},null,8,["onClick"]))])]),_:1})])):c("",!0),t.showEditTitle?(l(),g("div",Ee,[u(_,{modelValue:t.title,"onUpdate:modelValue":s[0]||(s[0]=y=>t.title=y),"line-numbers":!1,single:"","tags-context":p.getTagText("taxonomy",(I=o.term)==null?void 0:I.taxonomy,"Title"),defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":["taxonomy_title"]},null,8,["modelValue","tags-context"]),u(v,{type:"gray",size:"small",onClick:C(a.cancel,["prevent"])},{default:r(()=>[d(i(t.strings.discardChanges),1)]),_:1},8,["onClick"]),u(v,{type:"blue",size:"small",onClick:C(a.save,["prevent"])},{default:r(()=>[d(i(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0),t.showDescription?(l(),g("div",xe,[u(k,{class:"aioseo-details-column__tooltip"},{tooltip:r(()=>[n("strong",null,i(t.strings.description)+":",1),d(" "+i(t.descriptionParsed),1)]),default:r(()=>[n("div",De,[n("strong",null,i(t.strings.description),1),t.showEditDescription?c("",!0):(l(),g("span",Ae,[Pe,d(" "+i(a.truncate(t.descriptionParsed)),1)])),t.termLoading?(l(),h(w,{key:1,dark:""})):c("",!0),t.showEditDescription?c("",!0):(l(),h(T,{key:2,class:"pencil-icon",onClick:C(a.editDescription,["prevent"])},null,8,["onClick"]))])]),_:1})])):c("",!0),t.showEditDescription?(l(),g("div",Ve,[u(_,{modelValue:t.termDescription,"onUpdate:modelValue":s[1]||(s[1]=y=>t.termDescription=y),"line-numbers":!1,"tags-context":p.getTagText("taxonomy",(b=o.term)==null?void 0:b.taxonomy,"Description"),defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":["taxonomy_description"]},null,8,["modelValue","tags-context"]),u(v,{type:"gray",size:"small",onClick:C(a.cancel,["prevent"])},{default:r(()=>[d(i(t.strings.discardChanges),1)]),_:1},8,["onClick"]),u(v,{type:"blue",size:"small",onClick:C(a.save,["prevent"])},{default:r(()=>[d(i(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0)])],2)])}const Re=x(ke,[["render",Me]]);O();const B=Q(),Be=z(),Ne=_t(),{posts:M}=window.aioseo,{$emit:ze}=window.aioseoBus,q=({page:e,result:s,loading:o})=>{window.aioseo.posts=window.aioseo.posts.map(p=>(p.page===e&&(p.inspectionResult=s,p.inspectionResultLoading=o,ze("updateInspectionResult"+p.id,p)),p))},Oe=()=>{var t,a,w;const e=R.hasCoreFeature("search-statistics","index-status"),s=!B.unverifiedSite,o=typeof((w=(a=(t=Be.internalOptions.internal)==null?void 0:t.searchStatistics)==null?void 0:a.profile)==null?void 0:w.key)=="string",p=B.quotaExceeded.urlInspection;return Ne.hasPermission&&e&&s&&o&&!p};if(M!=null&&M.length&&Oe()){const e=Object.values(M).filter(s=>{var o;return s.isPostVisible&&(!s.inspectionResult||((o=s.inspectionResult)==null?void 0:o.length)===0)});e.length&&(e.forEach(s=>{q({page:s.page,result:s.inspectionResult,loading:!0})}),B.getInspectionResult({paths:e.map(s=>s.page)}).then(s=>{e.forEach(o=>{q({page:o.page,result:s[o.page],loading:!1})})}))}O();const nt=e=>(e=dt(e),e=ut(e),e=pt(e),O(e),e),lt=e=>{const s=document.getElementById(e);s!=null&&s.__vue_app__&&s.__vue_app__.unmount()},rt=(e,s)=>{if(!document.getElementById(`${e.columnName}-${e.id}`)){const p=document.querySelector(`tr#${s}-${e.id}`),t=p==null?void 0:p.querySelector(".column-aioseo-details");if(t){const a=document.createElement("div");a.id=`aioseo-details-${e.id}`,t.appendChild(a)}}},at=e=>{lt(`${e.columnName}-${e.id}`),rt(e,"post"),nt(F({name:"Standalone/PostsTable/"+e.id,data(){return{screen:window.aioseo.screen}},render:()=>st(ve)},{post:e})).mount(`#${e.columnName}-${e.id}`)},ct=e=>{if(!e)return;const s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name","aioseo-has-details-column"),s.setAttribute("value",!0),e.append(s)};window.aioseo.posts&&0<window.aioseo.posts.length&&A.post(P.restUrl("posts-list/load-details-column")).send({ids:window.aioseo.posts.map(e=>e.id)}).then(e=>{window.aioseo.posts=window.aioseo.posts.map(s=>({...s,...e.body.posts.find(o=>o.id===s.id)})),window.aioseo.posts.forEach(s=>{at(s)})});const N=e=>{lt(`${e.columnName}-${e.id}`),rt(e,"tag"),nt(F({name:"Standalone/TermsTable/"+e.id,data(){return{screen:window.aioseo.screen}},render:()=>st(Re)},{term:e})).mount(`#${e.columnName}-${e.id}`)};window.aioseo.terms&&0<window.aioseo.terms.length&&window.aioseo.posts.length===0&&A.post(P.restUrl("terms-list/load-details-column")).send({ids:window.aioseo.terms.map(e=>e.id)}).then(e=>{window.aioseo.terms=window.aioseo.terms.map(s=>({...s,...e.body.terms.find(o=>o.id===s.id)})),window.aioseo.terms.forEach(s=>{N(s)})});ct(document.querySelector("#inline-edit div"));ct(document.getElementById("addtag"));(function(e){e(document).on("ajaxComplete",(s,o,p)=>{var w,T;const t=new URLSearchParams(p.data),a=t==null?void 0:t.get("action");if(!(!t||!a)){if(a==="inline-save"){const{post_ID:k}=Object.fromEntries(t.entries()),_=window.aioseo.posts.find(v=>v.id===parseInt(k));at({..._,reload:!0})}if(a==="inline-save-tax"){const{tax_ID:k}=Object.fromEntries(t.entries()),_=window.aioseo.terms.find(v=>v.id===parseInt(k));N({..._,reload:!0})}if(a==="add-tag"){const k=e(o.responseXML).find("term_id").text(),_=e(o.responseXML).find("term taxonomy").text(),v=z();N({id:parseInt(k),columnName:"aioseo-details",title:(w=v.dynamicOptions.searchAppearance.taxonomies[_])==null?void 0:w.title,description:(T=v.dynamicOptions.searchAppearance.taxonomies[_])==null?void 0:T.metaDescription,reload:!0})}}})})(window.jQuery);
