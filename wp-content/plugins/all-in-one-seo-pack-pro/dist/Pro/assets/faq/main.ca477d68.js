import{h as F,r as T,g as M}from"../js/utils.83aa2b45.js";import"../js/translations.e71e2202.js";import{_ as r}from"../js/default-i18n.65d58dd6.js";import"../js/index.6205915e.js";import"../js/runtime-core.esm-bundler.50cb9e6d.js";import"../js/helpers.7981a424.js";const D=F`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14 15q.425 0 .738-.312.312-.313.312-.738t-.312-.738Q14.425 12.9 14 12.9t-.737.312q-.313.313-.313.738t.313.738Q13.575 15 14 15Zm-.75-3.2h1.5q0-.725.15-1.063.15-.337.7-.887.75-.75 1-1.213.25-.462.25-1.087 0-1.125-.788-1.837Q15.275 5 14 5q-1.025 0-1.787.575-.763.575-1.063 1.525l1.35.55q.225-.625.613-.938Q13.5 6.4 14 6.4q.6 0 .975.337.375.338.375.913 0 .35-.2.662-.2.313-.7.788-.825.725-1.012 1.137-.188.413-.188 1.563ZM8 18q-.825 0-1.412-.587Q6 16.825 6 16V4q0-.825.588-1.413Q7.175 2 8 2h12q.825 0 1.413.587Q22 3.175 22 4v12q0 .825-.587 1.413Q20.825 18 20 18Zm-4 4q-.825 0-1.412-.587Q2 20.825 2 20V6h2v14h14v2Z"/></svg>
`,O="https://schemas.wp.org/wp/5.8/block.json",z="aioseo/faq",W="AIOSEO - FAQ",P="Easily add an SEO-friendly Frequently Asked Question (FAQ) to your content.",V="aioseo",Z=["accordion","answer","faq","frequently asked questions","knowledge base","question","schema","seo"],j="all-in-one-seo-pack",U={hidden:{type:"boolean",default:!1},question:{type:"string",selector:".aioseo-faq-block-question"},schemaBlockId:{type:"string",default:""},tagName:{type:"string",default:"h3"}},G={html:!1,anchor:!0,align:["wide","full"],color:{link:!0,__experimentalDefaultControls:{background:!0,text:!0}},typography:{fontSize:!0,lineHeight:!0},spacing:{margin:!0,padding:!0,blockGap:!0}},K={$schema:O,name:z,title:W,description:P,category:V,keywords:Z,textdomain:j,attributes:U,supports:G},f="aioseo-pro",Y=window.wp,{PanelBody:J,SelectControl:X,ToggleControl:ee}=Y.components,te=({attributes:s,setSchemaBlockAttributes:t})=>{const{hidden:o,tagName:e}=s;return React.createElement(J,{title:r("FAQ Options",f)},React.createElement(X,{label:r("Title Wrapper",f),options:[{label:"DIV",value:"div"},{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"}],value:e,onChange:a=>t({tagName:a}),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),React.createElement("p",{className:"aioseo-visibility-label"},r("Visibility",f)),React.createElement(ee,{className:"aioseo-faq-visibility",label:r("Display Block",f),help:r("You can choose to hide this block on the front-end of your site so that visitors won't see it but search engines will still see it.",f),checked:!o,onChange:()=>t({hidden:!o}),__nextHasNoMarginBottom:!0}))},I="all-in-one-seo-pack",{name:oe,title:ne,description:ae,category:se,supports:ce,attributes:le}=K,{useSelect:N}=window.wp.data,{useEffect:re}=window.wp.element,{serialize:ie}=window.wp.blocks,B=window.wp;var S;const ue=((S=B.blockEditor)==null?void 0:S.InspectorControls)||B.editor.InspectorControls,{RichText:A,InnerBlocks:R}=B.blockEditor,d=[],de=s=>{const{body:t}=document.implementation.createHTMLDocument("");t.innerHTML=s;function o(e){var m;const a=e.childNodes;for(const n of a){if((m=n.nodeName)!=null&&m.toLowerCase().includes("comment")&&n.parentNode.removeChild(n),n.attributes)for(const{name:p,value:w}of n.attributes){const i=w.replace(/\s+/g,"").toLowerCase();(!["src","href"].includes(p)||p.startsWith("on")||i.includes("javascript:")||i.includes("data:"))&&n.removeAttribute(p)}o(n)}}return o(t),t.innerHTML.trim().replace(/\s+/g," ")},me={title:ne,description:ae,category:se,supports:ce,attributes:le,icon:D,edit:function(s){const{attributes:t,className:o,clientId:e,setAttributes:a,isSelected:m}=s,{hidden:n,question:p,tagName:w,schemaBlockId:i}=t;!d.includes(e)&&!m&&d.push(e);const g=l=>{window.requestAnimationFrame(()=>{a(l)}),window.aioseoBus.$emit("schemaBlockUpdated")};re(()=>{(!i||1<(document.querySelectorAll(`[data-schema-block-id='${i}']`)||[]).length)&&g({schemaBlockId:M()})},[]);const c=N(l=>{const h=l("core/block-editor");if(!h)return;const{getAdjacentBlockClientId:b,getBlockAttributes:k,getBlockName:u,getClientIdsWithDescendants:q,getGlobalBlockCount:y}=h;if(d.includes(e)||2>y("aioseo/faq"))return null;const C=b(e,-1);if(u(C)==="aioseo/faq")return k(C);const E=b(e,1);if(u(E)==="aioseo/faq")return k(E);const v=q().filter($=>u($)==="aioseo/faq"),_=v.indexOf(e),x=v[_-1]||v[_+1];return u(x)==="aioseo/faq"?k(x):null},[e,d]);m&&!d.includes(e)&&!t.question&&c&&(d.push(e),window.requestAnimationFrame(()=>{a({backgroundColor:c.backgroundColor,textColor:c.textColor,tagName:c.tagName,hidden:c.hidden,fontSize:c.fontSize,style:c.style})}));const Q=N(l=>{const h=l("core/block-editor");if(!h)return;const{getBlocks:b}=h;return(u=>{const q=b(u),y=ie(q);return de(y)})(e)},[e]);g({answer:Q});const H=[["core/paragraph",{placeholder:r("Write an answer...",I)}]],L=["core/paragraph","core/heading","core/list","core/image","core/media-text"];return React.createElement(React.Fragment,null,React.createElement("div",{"data-schema-only":n,className:o,"data-schema-block-id":i},React.createElement(ue,null,React.createElement(te,{setSchemaBlockAttributes:g,attributes:t})),React.createElement(A,{tagName:w,placeholder:r("Write a question...",I),className:"aioseo-faq-block-question",value:p,onChange:l=>g({question:l})}),React.createElement("div",{className:"aioseo-faq-block-answer"},React.createElement(R,{template:H,allowedBlocks:L}))))},save:function({attributes:s,className:t}){const{hidden:o,question:e,tagName:a}=s;return React.createElement("div",{"data-schema-only":o,className:t},React.createElement(A.Content,{tagName:a,className:"aioseo-faq-block-question",value:e}),React.createElement("div",{className:"aioseo-faq-block-answer"},React.createElement(R.Content,null)))}};T({name:oe,settings:me});
