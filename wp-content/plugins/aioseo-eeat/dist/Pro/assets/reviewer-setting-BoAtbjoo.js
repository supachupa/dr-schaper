import{l as ae,u as _e,a as A,r as H,o as he,h as ye,b as ve,c as O,d as me,e as x,t as J,f as Ae,w as Pe,g as Te,i as Re,j as Oe,k as oe,m as Ie,n as Ee}from"./js/_plugin-vue_export-helper.vltRgGEd.js";import{i as M,b as Se,S as m,a as h,M as N,c as ue,d as xe,e as be,U as Y,g as q,f as K,h as Z,j as E,k as Le,l as Be,m as Me,n as Ne,o as $e,p as Ce,q as b,r as De,s as X,t as Fe,u as Ue,B as Ge,v as He}from"./js/Select.CdVvM-6F.js";import{_ as L,l as Je}from"./js/license.BkPEFJd_.js";import"./js/Close.0_WWDaWm.js";const Ye=(e=null)=>{var u,f,d,c,o,l,g;ae();const n=_e(),r=A();if(e)return!!((f=(u=n.dynamicOptions.searchAppearance.postTypes[e])==null?void 0:u.advanced)!=null&&f.showMetaBox);if(!((d=r.currentPost)!=null&&d.id))return!1;const t=r.currentPost.postType,s=r.currentPost.termType,i=!!(t&&r.currentPost.context==="post"&&n.dynamicOptions.searchAppearance.postTypes[t]&&((o=(c=n.dynamicOptions.searchAppearance.postTypes[t])==null?void 0:c.advanced)!=null&&o.showMetaBox)),a=!!(s&&r.currentPost.context==="term"&&n.dynamicOptions.searchAppearance.taxonomies[s]&&((g=(l=n.dynamicOptions.searchAppearance.taxonomies[s])==null?void 0:l.advanced)!=null&&g.showMetaBox));return i||a};var qe="[object Symbol]";function $(e){return typeof e=="symbol"||M(e)&&Se(e)==qe}function Ke(e,n){for(var r=-1,t=e==null?0:e.length,s=Array(t);++r<t;)s[r]=n(e[r],r,e);return s}var Ze=1/0,Q=m?m.prototype:void 0,z=Q?Q.toString:void 0;function fe(e){if(typeof e=="string")return e;if(h(e))return Ke(e,fe)+"";if($(e))return z?z.call(e):"";var n=e+"";return n=="0"&&1/e==-Ze?"-0":n}function Xe(){}function Qe(e,n,r,t){for(var s=e.length,i=r+-1;++i<s;)if(n(e[i],i,e))return i;return-1}function ze(e){return e!==e}function We(e,n,r){for(var t=r-1,s=e.length;++t<s;)if(e[t]===n)return t;return-1}function Ve(e,n,r){return n===n?We(e,n,r):Qe(e,ze,r)}function je(e,n){var r=e==null?0:e.length;return!!r&&Ve(e,n,0)>-1}var ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,en=/^\w*$/;function C(e,n){if(h(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||$(e)?!0:en.test(e)||!ke.test(e)||n!=null&&e in Object(n)}var nn="Expected a function";function D(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(nn);var r=function(){var t=arguments,s=n?n.apply(this,t):t[0],i=r.cache;if(i.has(s))return i.get(s);var a=e.apply(this,t);return r.cache=i.set(s,a)||i,a};return r.cache=new(D.Cache||N),r}D.Cache=N;var rn=500;function tn(e){var n=D(e,function(t){return r.size===rn&&r.clear(),t}),r=n.cache;return n}var sn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,an=/\\(\\)?/g,on=tn(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(sn,function(r,t,s,i){n.push(s?i.replace(an,"$1"):t||r)}),n});function un(e){return e==null?"":fe(e)}function le(e,n){return h(e)?e:C(e,n)?[e]:on(un(e))}var fn=1/0;function S(e){if(typeof e=="string"||$(e))return e;var n=e+"";return n=="0"&&1/e==-fn?"-0":n}function ce(e,n){n=le(n,e);for(var r=0,t=n.length;e!=null&&r<t;)e=e[S(n[r++])];return r&&r==t?e:void 0}function ln(e,n,r){var t=e==null?void 0:ce(e,n);return t===void 0?r:t}var W=m?m.isConcatSpreadable:void 0;function cn(e){return h(e)||ue(e)||!!(W&&e&&e[W])}function dn(e,n,r,t,s){var i=-1,a=e.length;for(r||(r=cn),s||(s=[]);++i<a;){var u=e[i];r(u)&&xe(s,u)}return s}var pn="__lodash_hash_undefined__";function gn(e){return this.__data__.set(e,pn),this}function wn(e){return this.__data__.has(e)}function P(e){var n=-1,r=e==null?0:e.length;for(this.__data__=new N;++n<r;)this.add(e[n])}P.prototype.add=P.prototype.push=gn;P.prototype.has=wn;function _n(e,n){for(var r=-1,t=e==null?0:e.length;++r<t;)if(n(e[r],r,e))return!0;return!1}function de(e,n){return e.has(n)}var hn=1,yn=2;function pe(e,n,r,t,s,i){var a=r&hn,u=e.length,f=n.length;if(u!=f&&!(a&&f>u))return!1;var d=i.get(e),c=i.get(n);if(d&&c)return d==n&&c==e;var o=-1,l=!0,g=r&yn?new P:void 0;for(i.set(e,n),i.set(n,e);++o<u;){var w=e[o],p=n[o];if(t)var _=a?t(p,w,o,n,e,i):t(w,p,o,e,n,i);if(_!==void 0){if(_)continue;l=!1;break}if(g){if(!_n(n,function(y,v){if(!de(g,v)&&(w===y||s(w,y,r,t,i)))return g.push(v)})){l=!1;break}}else if(!(w===p||s(w,p,r,t,i))){l=!1;break}}return i.delete(e),i.delete(n),l}function vn(e){var n=-1,r=Array(e.size);return e.forEach(function(t,s){r[++n]=[s,t]}),r}function F(e){var n=-1,r=Array(e.size);return e.forEach(function(t){r[++n]=t}),r}var mn=1,An=2,Pn="[object Boolean]",Tn="[object Date]",Rn="[object Error]",On="[object Map]",In="[object Number]",En="[object RegExp]",Sn="[object Set]",xn="[object String]",bn="[object Symbol]",Ln="[object ArrayBuffer]",Bn="[object DataView]",V=m?m.prototype:void 0,B=V?V.valueOf:void 0;function Mn(e,n,r,t,s,i,a){switch(r){case Bn:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Ln:return!(e.byteLength!=n.byteLength||!i(new Y(e),new Y(n)));case Pn:case Tn:case In:return be(+e,+n);case Rn:return e.name==n.name&&e.message==n.message;case En:case xn:return e==n+"";case On:var u=vn;case Sn:var f=t&mn;if(u||(u=F),e.size!=n.size&&!f)return!1;var d=a.get(e);if(d)return d==n;t|=An,a.set(e,n);var c=pe(u(e),u(n),t,s,i,a);return a.delete(e),c;case bn:if(B)return B.call(e)==B.call(n)}return!1}var Nn=1,$n=Object.prototype,Cn=$n.hasOwnProperty;function Dn(e,n,r,t,s,i){var a=r&Nn,u=q(e),f=u.length,d=q(n),c=d.length;if(f!=c&&!a)return!1;for(var o=f;o--;){var l=u[o];if(!(a?l in n:Cn.call(n,l)))return!1}var g=i.get(e),w=i.get(n);if(g&&w)return g==n&&w==e;var p=!0;i.set(e,n),i.set(n,e);for(var _=a;++o<f;){l=u[o];var y=e[l],v=n[l];if(t)var G=a?t(v,y,l,n,e,i):t(y,v,l,e,n,i);if(!(G===void 0?y===v||s(y,v,r,t,i):G)){p=!1;break}_||(_=l=="constructor")}if(p&&!_){var T=e.constructor,R=n.constructor;T!=R&&"constructor"in e&&"constructor"in n&&!(typeof T=="function"&&T instanceof T&&typeof R=="function"&&R instanceof R)&&(p=!1)}return i.delete(e),i.delete(n),p}var Fn=1,j="[object Arguments]",k="[object Array]",I="[object Object]",Un=Object.prototype,ee=Un.hasOwnProperty;function Gn(e,n,r,t,s,i){var a=h(e),u=h(n),f=a?k:K(e),d=u?k:K(n);f=f==j?I:f,d=d==j?I:d;var c=f==I,o=d==I,l=f==d;if(l&&Z(e)){if(!Z(n))return!1;a=!0,c=!1}if(l&&!c)return i||(i=new E),a||Le(e)?pe(e,n,r,t,s,i):Mn(e,n,f,r,t,s,i);if(!(r&Fn)){var g=c&&ee.call(e,"__wrapped__"),w=o&&ee.call(n,"__wrapped__");if(g||w){var p=g?e.value():e,_=w?n.value():n;return i||(i=new E),s(p,_,r,t,i)}}return l?(i||(i=new E),Dn(e,n,r,t,s,i)):!1}function U(e,n,r,t,s){return e===n?!0:e==null||n==null||!M(e)&&!M(n)?e!==e&&n!==n:Gn(e,n,r,t,U,s)}var Hn=1,Jn=2;function Yn(e,n,r,t){var s=r.length,i=s;if(e==null)return!i;for(e=Object(e);s--;){var a=r[s];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++s<i;){a=r[s];var u=a[0],f=e[u],d=a[1];if(a[2]){if(f===void 0&&!(u in e))return!1}else{var c=new E,o;if(!(o===void 0?U(d,f,Hn|Jn,t,c):o))return!1}}return!0}function ge(e){return e===e&&!Be(e)}function qn(e){for(var n=Me(e),r=n.length;r--;){var t=n[r],s=e[t];n[r]=[t,s,ge(s)]}return n}function we(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}function Kn(e){var n=qn(e);return n.length==1&&n[0][2]?we(n[0][0],n[0][1]):function(r){return r===e||Yn(r,e,n)}}function Zn(e,n){return e!=null&&n in Object(e)}function Xn(e,n,r){n=le(n,e);for(var t=-1,s=n.length,i=!1;++t<s;){var a=S(n[t]);if(!(i=e!=null&&r(e,a)))break;e=e[a]}return i||++t!=s?i:(s=e==null?0:e.length,!!s&&Ne(s)&&$e(a,s)&&(h(e)||ue(e)))}function Qn(e,n){return e!=null&&Xn(e,n,Zn)}var zn=1,Wn=2;function Vn(e,n){return C(e)&&ge(n)?we(S(e),n):function(r){var t=ln(r,e);return t===void 0&&t===n?Qn(r,e):U(n,t,zn|Wn)}}function jn(e){return function(n){return n==null?void 0:n[e]}}function kn(e){return function(n){return ce(n,e)}}function er(e){return C(e)?jn(S(e)):kn(e)}function nr(e){return typeof e=="function"?e:e==null?Ce:typeof e=="object"?h(e)?Vn(e[0],e[1]):Kn(e):er(e)}function rr(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}var tr=1/0,ir=b&&1/F(new b([,-0]))[1]==tr?function(e){return new b(e)}:Xe,sr=200;function ar(e,n,r){var t=-1,s=je,i=e.length,a=!0,u=[],f=u;if(i>=sr){var d=n?null:ir(e);if(d)return F(d);a=!1,s=de,f=new P}else f=n?[]:u;e:for(;++t<i;){var c=e[t],o=n?n(c):c;if(c=c!==0?c:0,a&&o===o){for(var l=f.length;l--;)if(f[l]===o)continue e;n&&f.push(o),u.push(c)}else s(f,o,r)||(f!==u&&f.push(o),u.push(c))}return u}var or=De(function(e){var n=rr(e);return X(n)&&(n=void 0),ar(dn(e,1,X),nr(n))});const ur={key:0},fr={class:"components-flex components-select-control post-author-selector"},lr={for:"aioseo-reviewed-by-inspector-select-control-0",class:"aioseo-reviewed-by-label"},cr={class:"components-input-control__container aioseo-reviewed-by-select-wrapper"},dr={__name:"App",setup(e){const{getJsonValue:n,setJsonValue:r}=Ue(),{currentPost:t}=Fe(A()),s=H(0),i="aioseo-eeat",a={reviewedBy:L("Reviewer",i),selectReviewer:L("Type to search for a reviewer",i),noResults:L("No users were found.",i)},u=H([]);he(async()=>{await f()});const f=o=>ye.post(ve.restUrl("eeat/authors/")).send({reviewerId:A().currentPost.reviewed_by,searchTerm:o}).then(l=>{const g=[...u.value],w=l.body.authors.map(p=>(parseInt(p.ID)===parseInt(A().currentPost.reviewed_by)&&(s.value=r({value:parseInt(p.ID),label:`${p.display_name} (${p.user_email})`,name:p.display_name})),{value:parseInt(p.ID),label:`${p.display_name} (${p.user_email})`}));u.value=or(g,w,"value")}),d=()=>{if(!oe())return;const o=JSON.parse(s==null?void 0:s.value);window.wp.data.dispatch("core/editor").editPost({aioseo_reviewed_by:(o==null?void 0:o.value)||null})},c=o=>{s.value=r(o),A().currentPost.reviewed_by=(o==null?void 0:o.value)||null,d(),window.aioseoBus.$emit("standalone-update-post",{reviewed_by:(o==null?void 0:o.value)||null})};return(o,l)=>O(t).id&&O(Je).hasAddonFeature("aioseo-eeat","post-reviewer")?(Re(),me("div",ur,[x("div",fr,[x("label",lr,J(a.reviewedBy),1),x("div",cr,[Ae(O(Ge),{size:"small",options:u.value,"ajax-search":f,modelValue:O(n)(s.value)||[],"onUpdate:modelValue":c,placeholder:a.selectReviewer,"allow-empty":""},{noResult:Pe(()=>[Oe(J(a.noResults),1)]),_:1},8,["options","modelValue","placeholder"])])])])):Te("",!0)}};var re,te,ie,se;if(oe()&&window.wp){const{createElement:e}=window.wp.element,{registerPlugin:n}=window.wp.plugins,r=((te=(re=window.wp)==null?void 0:re.editor)==null?void 0:te.PluginPostStatusInfo)||((se=(ie=window.wp)==null?void 0:ie.editPost)==null?void 0:se.PluginPostStatusInfo);n("aioseo-reviewed-by",{render:()=>e(r,{},e("div",{id:"aioseo-reviewed-by"}))})}const ne=()=>{let e=Ie({...dr,name:"Addon/Eeat/Standalone/ReviewedBy"});e=Ee(e),ae(e),e.mount("#aioseo-reviewed-by")};Ye()&&window.aioseo&&window.aioseo.currentPost&&window.aioseo.currentPost.context==="post"&&(document.getElementById("aioseo-reviewed-by")?ne():(He("#aioseo-reviewed-by","aioseoReviewedBy"),document.addEventListener("animationstart",function(n){n.animationName==="aioseoReviewedBy"&&ne()},{passive:!0})));
